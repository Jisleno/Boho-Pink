(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6nsN":function(t,e,n){"use strict";n.r(e);var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++v)}var b="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:w).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function T(t,e,n){this.code=x+t,this.message=e||k[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new T(e.substring(x.length),t.message,t.serverResponse):null}S(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,x="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}A=j("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(D,P),D.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new M(function(){return new B},function(t){t.reset()});function q(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},Y=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=H(t,e)}function $(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Q(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){J=ht;break t}}J=""}function ft(t){return ut(J,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Et&&e||"",this.b=It}function wt(t){return t instanceof yt&&t.constructor===yt&&t.b===It?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,It={},Et={};function St(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(n){a.console&&a.console.error(n.message)}_t=t}else _t=t}return _t}function Ot(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=wt(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ot(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?wt(t):encodeURIComponent(String(t))}))}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Rt(t,e){this.a=e===Ft?t:""}function jt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Rt.prototype.sa=!0,Rt.prototype.ra=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t))t=new Rt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Nt.test(e[1])?new Rt(t,Ft):null}return t}function Mt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ft))}var Ft={},Ut=new Rt("about:invalid#zClosurez",Ft);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof Rt?t:Mt(t),e=e||a,n=n instanceof yt?wt(n):n||"",e.open(jt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Yt,Zt,Kt=ft("Opera"),$t=ft("Trident")||ft("MSIE"),Wt=ft("Edge"),Qt=Wt||$t,Xt=ft("Gecko")&&!(ut(J.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ut(J.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Zt=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Zt):Wt?/Edge\/([\d\.]+)/.exec(Zt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zt):Jt?/WebKit\/(\S+)/.exec(Zt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Zt):void 0);if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Yt=String(re);break t}}Yt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Yt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&$t&&(te()||parseInt(Yt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Zt){}var ae=!$t||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}G(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),ve.add(t,e)}var be=!1,ve=new U;function ye(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}F(V,t)}be=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Pe(n,Ie,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pe(n,Ee,t)})}catch(r){Pe(this,Ee,r)}}var _e=0,Ie=2,Ee=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new M(function(){return new Se},function(t){t.reset()});function Te(t,e,n){var r=Oe.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof we)return t;var e=new we(h);return Pe(e,Ie,t),e}function Ae(t){return new we(function(e,n){n(t)})}function xe(t,e,n){De(t,e,n,null)||me(I(e,t))}function ke(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],I(i,o,!0),I(i,o,!1));else e(r)})}function Re(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==_e&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else Pe(t,Ee,e)}function je(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Te(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,je(t,i),i.a}function Pe(t,e,n){t.a==_e&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof qe||function(t,e){t.g=!0,me(function(){t.g&&Ve.call(null,e)})}(t,n)))}function De(t,e,n,r){if(t instanceof we)return je(t,Te(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,me(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Ve.call(null,i)}F(Oe,e)}function Ue(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Ne(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,je(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);me(function(){Re(this,e)},this)}},t.$c=function(t){this.a=_e,Pe(this,Ie,t)},t.ad=function(t){this.a=_e,Pe(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ve=ge;function qe(t){P.call(this,t)}function Be(){0!=He&&(Ge[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(qe,P),qe.prototype.name="cancel";var He=0,Ge={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ye=Object.freeze||function(t){return t},Ze=!$t||9<=Number(se),Ke=$t&&!oe("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,We);var Xe=Ye({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Je]?In(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=bn,e=Ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Je]?En(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Je])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&dn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Ze){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Qe(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){Be.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function On(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Tn(t){var e=null;return new we(function(n,r){-1==(e=On(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Cn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(_n,Be),_n.prototype[Je]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;bt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Sn(s,r,!0,t)&&i}if(i=Sn(s=t.b=n,r,!0,t)&&i,i=Sn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=xn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Pn(this,t.c),this.l=t.l,this.a=t.a,Dn(this,t.g),this.f=t.f,Ln(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(jn))?(this.i=!!e,Pn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Dn(this,n[4]),this.f=qn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Pn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Zn)),t.b=new $n(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Un(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Vn(t,e,n,r){var i=new Nn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,Gn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Yn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Kn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Pn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Dn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Gn=/[#\/\?@]/g,zn=/[#\?:]/g,Yn=/[#\?]/g,Zn=/[#\?@]/g,Kn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(t,e){Wn(t),e=nr(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Jn(t,e){return Wn(t),e=nr(t,e),Rn(t.a.b,e)}function tr(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),X(n)),t.b+=n.length)}function er(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Wn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach(function(n,r){G(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Wn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Wn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=Q(e,this.a.get(nr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Jn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=xr();return $t&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=jt(Lt(t)||Ut)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Tr(xr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Lt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Mt(e),s.href=jt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=jt(e),s&&(Qt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new Vt(t=(r=St())?r.createHTML(t):t,null,qt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function vr(){var t=null;return new we(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function yr(t){return t=t||xr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Ir(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Er(){var t=Ir();return"ReactNative"===t||"Node"===t}var Sr="Firefox",Or="Chrome";function Tr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Sr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Tr(i=xr()):"Worker"===r&&(r=Tr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return _r()&&!!a.indexedDB}return!1}function jr(){return(Nr()||"chrome-extension:"===Pr()||yr())&&!Er()&&Rr()&&!_r()}function Nr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return a.location&&a.location.protocol||null}function Dr(t){return!dr(t=t||xr())&&Tr(t)!=Sr}function Lr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Tr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Ir(),this.b=dr(t)||"ReactNative"===e}function Hr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Gr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Br.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Zr={};function Kr(t){Zr[t]||(Zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==$r.abcd}catch(Zt){Yr=!1}function Wr(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Xr(t){var e={};return Qr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Jr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ii]),Wr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Wr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[vi]=n||null,e[gi]=r):(e[mi]=r||null,e[vi]=r||null,e[gi]=n||null),e[bi]=t||null,Wr(this,wi,i),Wr(this,yi,Jr(e))}S(si,ti),si.prototype.w=function(){var t=si.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",vi="previousEmail",yi="data",wi="operation";function _i(t){var e=Fn(t=Un(t),Ii)||null,n=Fn(t,Ei)||null,r=Fn(t,Ti)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",Ii+", "+Ei+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Si)||null,languageCode:Fn(t,Oi)||null,tenantId:Fn(t,Ci)||null})}var Ii="apiKey",Ei="oobCode",Si="continueUrl",Oi="languageCode",Ti="mode",Ci="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new _i(t)}catch(e){return null}}function ki(t){var e=t[Di];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Fi];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new T("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ji])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",ji+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",ji="dynamicLinkDomain",Ni="handleCodeInApp",Pi="iOS",Di="url",Li="installApp",Mi="minimumVersion",Fi="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new Bi(t)}catch(e){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:zi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ki(t){for(var e in Zi)if(Zi[e].fa==t)return Zi[e];return null}function $i(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Wi])return new Xi(t)}catch(r){}return null}var Wi="idToken",Qi="providerId";function Xi(t){var e=t[Qi];if(!e&&t[Wi]){var n=Hi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),Wr(this,"profile",Jr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return e=Fn(e,"deep_link_id"),Fn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}S(Ji,Xi),S(to,Ji),S(eo,Ji),S(no,Ji),S(ro,Ji);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ws]){var n=Hi(t[Ws]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==x+"user-not-found"?new T("user-mismatch"):t})}function lo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function bo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ki(t)||{}).Ja||null,this.ob=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function yo(t){bo.call(this,t,Yi),this.a=[]}function wo(){yo.call(this,"facebook.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Io(){yo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function So(){yo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function To(){bo.call(this,"twitter.com",zi)}function Co(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function ko(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=jo(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=xi(t=io(t)))&&t.operation===ci?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||r.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new No({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return _o(n);case"github.com":return Eo(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Ce(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return ba(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,va(t,n)},lo.prototype.c=function(t,e){return co(ya(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ba(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,va(t,n)},po.prototype.c=function(t,e){return co(ya(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Ib=gt(t),this},S(vo,bo),S(yo,bo),yo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return X(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},S(wo,yo),Wr(wo,"PROVIDER_ID","facebook.com"),Wr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(Io,yo),Wr(Io,"PROVIDER_ID","github.com"),Wr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),S(So,yo),Wr(So,"PROVIDER_ID","google.com"),Wr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),S(To,bo),Wr(To,"PROVIDER_ID","twitter.com"),Wr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ca,{email:this.a,oobCode:this.f}):tu(t,$a,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Aa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,qa,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return co(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(ko,{PROVIDER_ID:"password"}),Qr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Do(this))},No.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,tu(t,Qa,n)},No.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",co(t=tu(t,Xa,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ha,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,Ga,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Lo,{PROVIDER_ID:"phone"}),Qr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Go=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Yo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Zo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function Ko(){}function $o(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}S(zo,T),S(Yo,T),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,S($o,Ko),$o.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new $o,S(Qo,Ko),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(fs,Ko),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),S(ds,_n);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){_n.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,bs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,bs(this)),this.a&&(this.readyState=3,bs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):bs(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Ua=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(vs,_n);var ys="";vs.prototype.b=ls("goog.net.XhrIo");var ws=/^https?$/i,_s=["POST","PUT"];function Is(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Ts(t)}function Ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Os(t){if(t.c&&void 0!==s)if(t.C[1]&&4==As(t)&&2==xs(t))hs(t.b,ks(t,"Local request error detected and ignored"));else if(t.i&&4==As(t))On(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){hs(t.b,ks(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(jn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ws.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<As(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+xs(t)+"]",Ss(t)}}finally{Ts(t)}}}function Ts(t,e){if(t.a){Cs(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<As(t)?t.a.status:-1}catch(e){return-1}}function ks(t,e){return e+" ["+t.R+" "+t.l+" "+xs(t)+"]"}function Rs(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function js(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Ns(t){if(t.a){if(!t.v)throw new Ms(t);t.v=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Ds(t){return Z(t.g,function(t){return p(t[1])})}function Ls(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Rs?(Ps(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Ms(){P.call(this)}function Fs(){P.call(this)}function Us(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ts(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ts(this,!0)),vs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Os(this):this.Jc())},t.Jc=function(){Os(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Ns(this),js(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,js(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Ps(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,S(Ms,P),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",S(Fs,P),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function qs(t){var e={},n=e.document||document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Rs(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Hs(i,!0);var t=new Ys(zs,"Timeout reached for loading script "+r);Ns(s),js(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,e.xd||!1,u),Ns(s),js(s,!0,null))},i.onerror=function(){Hs(i,!0,u);var t=new Ys(Gs,"Error while loading script "+r);Ns(s),js(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Bs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Gs=0,zs=1;function Ys(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Zs(t){this.f=t}function Ks(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qs,this.g=gt(t.secureTokenHeaders||Xs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Js,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!_r())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new fs(self):Er()?new Zs(n):new Qo,this.b=null}S(Ys,P),S(Zs,Ko),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var $s,Ws="idToken",Qs=new Br(3e4,6e4),Xs={"Content-Type":"application/x-www-form-urlencoded"},Js=new Br(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Pn(t,e.c),t.a=e.a,Dn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=xr();return!((t=Tr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&se&&!(9<se))})()||_r()?t=_(t.u,t):($s||($s=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(qs(Ct(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,s)}Ks.prototype.T=function(){return this.b},Ks.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}In(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),En(s,"ready",function(){u&&clearTimeout(u),ze(this)}),En(s,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ho),t.a.onreadystatechange=_(t.Vb,t);try{hs(t.b,ks(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return hs(t.b,ks(t,"Error opening Xhr: "+s.message)),void Es(t,s)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)G(t,e,void 0);else for(var n=An(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Is,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!K(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Cs(t),0<t.g&&(t.u=function(t){return $t&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,ks(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=On(t.Ma,t.g,t)),hs(t.b,ks(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,ks(t,"Send error: "+s.message)),Es(t,s)}}(s,t,n,r,i)};var sa=new yt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new T("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Ws]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,gt(t));throw new T("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ks.prototype.s=function(t,e,n,r,i){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ks.prototype.zb=function(){return tu(this,Ba,{})},Ks.prototype.Bb=function(t,e){return tu(this,Va,{idToken:t,email:e})},Ks.prototype.Cb=function(t,e){return tu(this,qa,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Zo(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function ba(t,e){return e.returnIdpCredential=!0,tu(t,za,e)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Za,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ya,e)}function wa(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ks.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Va,n)},t.vb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,Da,t)},t.wb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,ja,t)},t.ub=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Na,t)},t.Eb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Pa,t)},t.fb=function(t){return tu(this,Wa,t)},t.nb=function(t,e){return tu(this,Fa,{oobCode:t,newPassword:e})},t.Ra=function(t){return tu(this,Ia,{oobCode:t})},t.jb=function(t){return tu(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:wa,Z:"email",B:!0},Ia={endpoint:"resetPassword",A:wa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ea={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new T("weak-password")},G:la,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Oa={endpoint:"deleteAccount",N:["idToken"]},Ta={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ca={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ua,G:la,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ua,G:la,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},ja={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ua(t)},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ua(t)},Z:"email",B:!0},La={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ma={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Fa={endpoint:"resetPassword",A:wa,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:ca,V:!0},qa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:la,V:!0},Ba={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ga={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:pa,Ya:ga,G:ma,V:!0,B:!0},Ya={endpoint:"verifyAssertion",A:pa,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Za={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ma,V:!0},Ka={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:la,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new T("wrong-password")},G:la,V:!0,B:!0},Wa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Zo(t);la(t)}},Xa={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ws]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new we(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new T("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",bt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function ru(t){this.b=t,this.a=null,this.rb=function(t){return(au||(au=new we(function(t,e){function n(){qr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:ou.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ce(qs(r=Ct(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new we(function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new yt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new Br(3e4,6e4),su=new Br(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,La,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(lr())})}function du(t){return t.m||(t.m=vr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Ar(t.c,lu(t.b)):null,t.l=new Ks(t.g,j(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function mu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=_(this.c,this)}uu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},cu.prototype.yb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Mn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(a=lu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.rb.then(function(){return new we(function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new we(function(e){return function n(){Tn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Tn(n).then(function(){e(r)})})},t.Xb=function(){var t=xr();return!Dr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new T("popup-blocked"));if(s&&!Dr())return this.ma().o(function(e){pr(t),i(e)}),r(),Ce();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Uo(e),hr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return du(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,function(e){return e==t})},(t=mu.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Ce(this.a.setItem(t,Lr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,yu=[];function wu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Iu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Su(t,c),e}).o(function(e){throw Su(t,c),e})}function Su(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,function(t){return t==e})}}function Ou(){if(!xu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(G(yu,function(n){n.b==t&&(e=n)}),!e){var e=new bu(t);yu.push(e)}return e}(),wu(this.v,"keyChanged",function(e,n){return Pu(t).then(function(e){return 0<e.length&&G(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),wu(this.v,"ping",function(){return Ce(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new Iu(new _u(e)),Eu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Tu(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Tu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Cu(t){return t.i||(t.i=Tu(t)),t.i}function Au(t,e){var n=0;return new we(function r(i,o){Cu(t).then(e).then(i).o(function(e){if(!(3<++n))return Cu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function xu(){try{return!!a.indexedDB}catch(Zt){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ju(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Nu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Pu(t){return Cu(t).then(function(t){var e=ku(Ru(t,!1));return e.getAll?ju(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(xu()){var t=Ur(),r="__sak"+t;return vu||(vu=new Ou),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){G(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==Ir();if(!(t=Uu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Uu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==Ir();if(!(t=Bu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Yu,t.Node=Zu,t.ReactNative=Ku,t.Worker=$u,this.a=t[Ir()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),ke(i).then(function(r){var i=[];G(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),G(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Iu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Ou.prototype).set=function(t,e){var n=this,r=!1;return Au(this,function(e){return ju((e=ku(Ru(e,!0))).get(t))}).then(function(i){return Au(n,function(o){if(o=ku(Ru(o,!0)),i)return i.value=e,ju(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,ju(o.add(s))})}).then(function(){return n.c[t]=e,Nu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Au(this,function(e){return ju(ku(Ru(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Au(this,function(r){return n=!0,e.b++,ju(ku(Ru(r,!0)).delete(t))}).then(function(){return delete e.c[t],Nu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Pu(t).then(function(e){0<e.length&&G(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){W(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Ce().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ce().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Gu,zu,Yu={F:Fu,bb:qu},Zu={F:Fu,bb:qu},Ku={F:mu,bb:Vu},$u={F:Fu,bb:Vu},Wu={rd:"local",NONE:"none",td:"session"};function Qu(){var t=!(Vr(xr())||!wr()),e=Dr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Hu),t=Gu;try{this.g=!cr()&&zr()||!a.indexedDB?new t.a.F:new Lu(_r()?new Mu:new t.a.F)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Mu}this.v=new Mu,this.f=_(this.Yb,this),this.b={}}function Xu(){return zu||(zu=new Qu),zu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Xu()}(t=Qu.prototype).get=function(t,e){return Ju(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Ju(this,"local").ca(this.f),this.h||(cr()||!zr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(W(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ju(this,"local").ia(this.f),nc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},$t&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,_(this.mb,this))},t.mb=function(t){this.a[t]&&G(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Xu()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(gc):gc),this.reset()}S(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=Q(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){ac.call(this,8,bc)}S(mc,ac);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function yc(t){return new T("invalid-cordova-configuration",t)}function wc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ic(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=Un(i),"firebaseError")||null))?C(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}wc(t,i)})}var n=new Vo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then(function(){return Ic(t).then(function(){r||wc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Go||(Go=new Bo),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Ic(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Ec(t){this.a=t,this.b=Xu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?vr().then(function(){return new we(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw yc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw yc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw yc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw yc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ce().then(function(){return Uo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new mc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return Y(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Hr()&&c()},o.addEventListener("resume",c=function(){s||(s=Tn(2e3).then(function(){e(new T("redirect-cancelled-by-user"))}))},!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Ic(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new T("no-auth-event")),t(e))})},t.Sa=function(t){W(this.b,function(e){return e==t})};var Sc={name:"pendingRedirect",F:"session"};function Oc(t){return ec(t.b,Sc,t.a)}function Tc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new qc,this.C=new Yc,this.g=new Ec(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,A,this.J)}function Cc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return yr()?new vc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function Ac(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function xc(t){t.a.Xb()&&Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Tb()||Bc(t.b)}function kc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Oc(t.g).then(function(){Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):xc(t)}).o(function(){xc(t)})}function Rc(t,e){W(t.h,function(t){return t==e})}Tc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Tc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Bc(this.b),e};var jc=new Br(2e3,1e4),Nc=new Br(3e4,6e4);function Pc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Dc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Oc(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new we(function(){}):Oc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},jc.get())}Tc.prototype.qa=function(){return this.b.qa()};var Fc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=Uc(e,n,r);return Fc[i]||(Fc[i]=new Tc(t,e,n,r)),Fc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Gc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Gc(t,n):Gc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Zc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Kc(t,e){this.a=e,Wr(this,"verificationId",t)}function $c(t,e,n,r){return new Lo(t).fb(e,n).then(function(t){return new Kc(t,r)})}function Wc(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Gr(1e3*e.exp),authTime:Gr(1e3*e.auth_time),issuedAtTime:Gr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Jc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;G(e[Xc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){zc(t,a,e,null)}).o(function(e){zc(t,a,null,e)})}(this,t,e):Ae(new T("invalid-auth-event")):(zc(this,!1,null,null),Ce())}else Ae(new T("invalid-auth-event"))},qc.prototype.qa=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Nc.get()).then(function(){t.b||(t.g=!0,zc(t,!0,null,e))})}(t))})},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Kc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",Jc="mfaPendingCredential";function tl(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Wr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Wr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Hr()||!t?Ce():new we(function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=Hi(e[Ws]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Gr(e||null),creationTime:Gr(t||null)})}function pl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null;this.a=new Ks(this.l,j(A),i),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),El(this,e[Ws]),fl(this.b,e),Wr(this,"refreshToken",this.b.a),Tl(this,n||{}),_n.call(this),this.R=!1,this.s&&jr()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=_(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){na(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){vl(o,t.f)},this.ba=null,this.O=new sl(this,n),Wr(this,"multiFactor",this.O)}function ml(t,e){t.ja&&fn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function bl(t,e){t.X&&fn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function vl(t,e){t.$=e,ia(t.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,t.$):null)}function yl(t,e){t.ba&&fn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function wl(t){try{return r.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(t){t.D||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function Il(t){fn(t,"tokenChanged",t.aa),t.u.stop()}function El(t,e){t.za=e,Wr(t,"_lat",e)}function Sl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return ke(e).then(function(){return t})}function Ol(t){t.i&&!t.R&&(t.R=!0,kc(t.i,t))}function Tl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Cl(){}function Al(t){return Ce().then(function(){if(t.D)throw new T("app-deleted")})}function xl(t){return Y(t.providerData,function(t){return t.providerId})}function kl(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){W(t.providerData,function(t){return t.providerId==e})}function jl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Nl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),G(e.providerData,function(e){kl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),al(t.O,e.O.b))}function Pl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Ra,{idToken:e}).then(_(t.Kc,t))}(t,e).then(function(){return n||jl(t,"isAnonymous",!1),e})})}function Dl(t,e){e[Ws]&&t.za!=e[Ws]&&(fl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),El(t,e[Ws]),jl(t,"refreshToken",t.b.a))}function Ll(t,e){return Pl(t).then(function(){if(K(xl(t),e))return Sl(t).then(function(){throw new T("provider-already-linked")})})}function Ml(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function Fl(t,e){return Dl(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!jr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var s=Ki(n.providerId),a=Ur(t.uid+":::"),u=null;(!Dr()||wr())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,s&&s.ua,s&&s.ta);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Pc(t.i,c,e,n,a,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Mc(t.i,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Xr(t):null}).o(function(t){throw c&&pr(c),t}),Bl(t,i,o)}function Vl(t,e,n,r,i){if(!jr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Sl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(zl,t.w(),e.a)),e}).then(function(){return Lc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Yl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function ql(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ol("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){$(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),_(t.jc,t))),n||e})}function Hl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ws]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&G(t.providerData,function(t){t&&kl(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Gl(t){this.a=t,this.b=Xu()}Qc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Xc],delete n[Jc],bt(n,t),e.g(n)})},S(tl,T),nl.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),bt(n,{phoneVerificationInfo:Do(t.a)}),tu(e,xa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),tu(e,ka,n)})}(this,t,e)},S(rl,nl),S(il,rl),S(ol,We),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return G(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Dl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Ja,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return al(e,r),Dl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:Y(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))},"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))})}(t.f,e).then(function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(gl,_n),gl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},gl.prototype.la=function(){return this.ya},gl.prototype.Ga=function(){return X(this.$)},gl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Bl(this,Al(this).then(function(){return Pl(t).then(function(){return Sl(t)}).then(Cl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Wc(t)})},t.I=function(t){var e=this;return Bl(this,Al(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(El(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),jl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?Y(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)kl(this,e[n]);jl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Dl(e,t),n=Ml(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Bl(this,Ll(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ml(e,t,"link"),Fl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,Ll(this,"phone").then(function(){return $c(wl(n),t,e,_(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,Ce().then(function(){return $c(wl(n),t,e,_(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Dl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Al(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dl(e,t),jl(e,"displayName",t.displayName||null),jl(e,"photoURL",t.photoUrl||null),G(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),Sl(e)}).then(Cl))},t.cd=function(t){var e=this;return Bl(this,Pl(this).then(function(n){return K(xl(e),t)?function(t,e,n){return tu(t,Ta,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return G(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),G(xl(e),function(t){n[t]||Rl(e,t)}),n[Lo.PROVIDER_ID]||Wr(e,"phoneNumber",null),Sl(e)}):Sl(e).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return tu(t.a,Oa,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");ml(t,null),bl(t,null),yl(t,null),t.J=[],t.D=!0,Il(t),Wr(t,"refreshToken",null),t.i&&Rc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Ll(e,t.providerId).then(function(){return Sl(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Ce()},!0)},t.Fc=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return Ll(e,t.providerId)},!1)},t.Oc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ml(i,t,"link"),Fl(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,Ce().then(function(){return co(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ml(i,t,"reauthenticate"),Dl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new ki(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new ki(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=co(Ce(t),n.uid).then(function(t){return e=Ml(n,t,"reauthenticate"),Dl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),G(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),bt(t,this.O.w()),t};var zl={name:"redirectUser",F:"session"};function Yl(t){return ec(t.b,zl,t.a)}function Zl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=tc(e,n),i=Ju(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get($l,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,Kl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,_(this.g,this))}function Kl(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(ec(t.b,Wl(Wu[n]),t.a));return r.push(ec(t.b,$l,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],I(o,a),s);else e(i)})}(r)}Zl.prototype.g=function(){var t=this,e=Wl("local");th(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Kl(t,"local").then(function(){t.c=e})})})};var $l={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function Ql(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xl(t){return th(t,function(){return ec(t.b,t.c,t.a)})}function Jl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Wr(this,"settings",new Zc),Wr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new T("invalid-api-key");t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.a=new Ks(ch(this).options&&ch(this).options.apiKey,j(A),t),this.R=[],this.s=[],this.O=[],this.hb=r.a.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(_(this.Ac,this)),ah(this,null),this.i=new Zl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Gl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(zl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Hl(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Yl(t.D)});return dh(t,e)}(t).then(function(){return Jl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Ql(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&jr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,ch(t).name,t.P),kc(t.b,t),lh(t)&&Ol(lh(t)),t.m){Ol(t.m);var r=t.m;r.wa(t.la()),ml(r,t),vl(r=t.m,t.J),yl(r,t),na((r=t.m).a,t.P),bl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Un(this.P.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function nh(t){We.call(this,"languageCodeChanged"),this.h=t}function rh(t){We.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){We.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function sh(t){if(!jr())return Ae(new T("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Xr(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){W(t.S,function(t){return t==e})}(lh(t),t.Ba),fn(lh(t),"tokenChanged",t.ya),fn(lh(t),"userDeleted",t.za),fn(lh(t),"userInvalidated",t.Aa),Il(lh(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&_l(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),ml(e,t),vl(e,t.J),yl(e,t),na(e.a,t.P),bl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Fo(e),r=$i(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&vl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Nl(lh(t),e),t.da(e)):(ah(t,e),Ol(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,_(t.kc,t))),n||e}).then(function(){return Xr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](hh(t))}}function dh(t,e){return t.R.push(e),e.oa(function(){$(t.R,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Zl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Kl(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},S(eh,_n),S(nh,We),S(rh,We),S(ih,We),(t=eh.prototype).xb=function(t){return dh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new rh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,ba(i.a,o))})},t.Xc=function(t){if(!jr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=Ur(),o=null;(!Dr()||wr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=gu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=gr(o,n&&n.ua,n&&n.ta);return dh(this,n=oh(this).then(function(n){return Pc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Mc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Xr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!jr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set($l,t.c.F,t.a)})}(e.i)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&Hc(t.b.b),e}).o(function(e){throw t.b&&Hc(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ws]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&vl(e,r),Nl(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Nl(lh(e),t),e.da(t)):(ah(e,r),Ol(r),e.da(r))}).then(function(){fh(e)}))},t.Ab=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Hc(t.b.b),lh(t)?(ah(t,null),Xl(t.i).then(function(){fh(t)})):Ce()}))},t.Zc=function(){var t=this;return Jl(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Ol(e),e.ha=t.D),t.b&&kc(t.b,t),fh(t))}})},t.da=function(t){return Ql(this.i,t)},t.mc=function(){fh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,Ce(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),dh(t,t.h.then(function(){!t.l&&K(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,tu(e.a,Ka,{token:t}))}).then(function(t){var n=t.user;return jl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,$a,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Ea,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.zb()).then(function(e){var n=e.user;return jl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&_l(lh(this))},t.Pc=function(t){var e=this;G(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Il(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||K(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){W(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return tu(t,Sa,{identifier:e,continueUri:Nr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!jo(t)},t.wb=function(t,e){var n=this;return dh(this,Ce().then(function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Ni+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return dh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return dh(this,this.a.Ra(t).then(function(t){return new ai(t)}))},t.jb=function(t){return dh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return dh(this,Ce().then(function(){return void 0===e||pt(e)?{}:Vi(new ki(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,$c(this,t,e,_(this.$a,this)))},t.Vc=function(t,e){var n=this;return dh(this,Ce().then(function(){var r=e||lr(),i=Ro(t,r);if(!(r=jo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function bh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function Ih(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},gh.prototype.reset=function(t){var e=bh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=bh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=bh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return wh(this),this.b},yh.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},yh.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Wr(_h,"FACTOR_ID","phone"),Ih.prototype.g=function(){return mh||(mh=new gh),Ce(mh)},Ih.prototype.c=function(){};var Eh=null;function Sh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new yt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new Br(3e4,6e4);Sh.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new T("network-request-failed"))},Th.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Ce(qs(Ct(Oh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Sh.prototype.c=function(){this.b--};var Ch=null;function Ah(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Eh||(Eh=new Ih),s=Eh):(Ch||(Ch=new Sh),s=Ch),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jh],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[xh];this.a[xh]=function(t){if(Nh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[kh];this.a[kh]=function(){if(Nh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var xh="callback",kh="expired-callback",Rh="sitekey",jh="size";function Nh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ph(t,e){return t.h.push(e),e.oa(function(){$(t.h,e)}),e}function Dh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,s):null,Ah.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,j(A),i)}function Mh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Fh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Fh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ah.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,Ce().then(function(){if(Nr()&&!_r())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Ma,{})}).then(function(e){t.a[Rh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Ph(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Gt(s.name),'"'),s.type){o.push(' type="',Gt(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Ph(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Lh,Ah);var Fh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Hh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Gh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function zh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Yh(t){return g(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Qh(r,t[n],e[n].j)}}function $h(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I(function(t){return this[t]},n),set:I(function(t,e,n,r){Mh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=Qh(e,n,r)}function Qh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh(eh.prototype,{jb:{name:"applyActionCode",j:[Uh("code")]},Ra:{name:"checkActionCode",j:[Uh("code")]},nb:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Uh("email"),Zh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Uh("email"),qh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},Hh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),$h(eh.prototype,{lc:{name:"languageCode",kb:Zh(Uh(),Hh(),"languageCode")},ti:{name:"tenantId",kb:Zh(Uh(),Hh(),"tenantId")}}),(eh.Persistence=Wu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Kh(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},qb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},tb:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Bb:{name:"updateEmail",j:[Uh("email")]},Cb:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Db:{name:"updateProfile",j:[qh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Zh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$h(Zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),Kh(Kc.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Wh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,xo,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Zh(Uh(),qh(),"json")]),Wh(ko,"credential",function(t,e){return new Ao(t,e)},[Uh("email"),Uh("password")]),Kh(Ao.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(wo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(wo,"credential",_o,[Zh(Uh(),qh(),"token")]),Wh(ko,"credentialWithLink",Ro,[Uh("email"),Uh("emailLink")]),Kh(Io.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(Io,"credential",Eo,[Zh(Uh(),qh(),"token")]),Kh(So.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(So,"credential",Oo,[Zh(Uh(),Zh(qh(),Hh()),"idToken"),Zh(Uh(),Hh(),"accessToken",!0)]),Kh(To.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(To,"credential",Co,[Zh(Uh(),qh(),"token"),Uh("secret",!0)]),Kh(yo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Zh(Uh(),Zh(qh(),Hh()),"optionsOrIdToken"),Zh(Uh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Kh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Wh(Lo,"credential",Mo,[Uh("verificationId"),Uh("verificationCode")]),Kh(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?zh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?zh(t.session,ao)&&Yh(t.multiFactorHint):t.session&&t.multiFactorUid?zh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Kh(No.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(T.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Yo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Kh(sl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Yh},Uh(),"multiFactorInfoIdentifier")]}}),Kh(Lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(_i,"parseLink",xi,[Uh("link")]),Wh(_h,"assertion",function(t){return new il(t)},[Gh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:uo,Error:T};Wh(t,"EmailAuthProvider",ko,[]),Wh(t,"FacebookAuthProvider",wo,[]),Wh(t,"GithubAuthProvider",Io,[]),Wh(t,"GoogleAuthProvider",So,[]),Wh(t,"TwitterAuthProvider",To,[]),Wh(t,"OAuthProvider",yo,[Uh("providerId")]),Wh(t,"SAMLAuthProvider",vo,[Uh("providerId")]),Wh(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Wh(t,"RecaptchaVerifier",Lh,[Zh(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Wh(t,"ActionCodeURL",_i,[]),Wh(t,"PhoneMultiFactorGenerator",_h,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.5"),r.a.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.2","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Cn}),n.d(e,"b",function(){return Ld}),n.d(e,"c",function(){return Rd}),n.d(e,"d",function(){return xd}),n.d(e,"e",function(){return kd}),n.d(e,"f",function(){return xp}),n.d(e,"g",function(){return yp}),n.d(e,"h",function(){return D}),n.d(e,"i",function(){return Oh}),n.d(e,"j",function(){return Zd}),n.d(e,"k",function(){return wd}),n.d(e,"l",function(){return $l}),n.d(e,"m",function(){return Ud}),n.d(e,"n",function(){return yd}),n.d(e,"o",function(){return Jl}),n.d(e,"p",function(){return _i}),n.d(e,"q",function(){return Tf}),n.d(e,"r",function(){return Cs}),n.d(e,"s",function(){return ir}),n.d(e,"t",function(){return k}),n.d(e,"u",function(){return Tn}),n.d(e,"v",function(){return Hs}),n.d(e,"w",function(){return Id}),n.d(e,"x",function(){return vh}),n.d(e,"y",function(){return wh}),n.d(e,"z",function(){return Fd}),n.d(e,"A",function(){return Cd}),n.d(e,"B",function(){return Lh}),n.d(e,"C",function(){return _p}),n.d(e,"D",function(){return Dh}),n.d(e,"E",function(){return pp}),n.d(e,"F",function(){return Wd}),n.d(e,"G",function(){return or}),n.d(e,"H",function(){return Ed}),n.d(e,"I",function(){return Dd}),n.d(e,"J",function(){return Pd}),n.d(e,"K",function(){return _d}),n.d(e,"L",function(){return nh}),n.d(e,"M",function(){return eh}),n.d(e,"N",function(){return ki}),n.d(e,"O",function(){return ih}),n.d(e,"P",function(){return ui}),n.d(e,"Q",function(){return ar}),n.d(e,"R",function(){return Sp}),n.d(e,"S",function(){return Rh}),n.d(e,"T",function(){return rp}),n.d(e,"U",function(){return kn}),n.d(e,"V",function(){return sh}),n.d(e,"W",function(){return oh}),n.d(e,"X",function(){return Fh}),n.d(e,"Y",function(){return L}),n.d(e,"Z",function(){return gp}),n.d(e,"ab",function(){return fp}),n.d(e,"bb",function(){return d}),n.d(e,"cb",function(){return hp}),n.d(e,"db",function(){return Cp}),n.d(e,"eb",function(){return sp}),n.d(e,"fb",function(){return Md}),n.d(e,"gb",function(){return xs}),n.d(e,"hb",function(){return Nc}),n.d(e,"ib",function(){return si}),n.d(e,"jb",function(){return Br}),n.d(e,"kb",function(){return kr}),n.d(e,"lb",function(){return jr}),n.d(e,"mb",function(){return Lr}),n.d(e,"nb",function(){return Pr}),n.d(e,"ob",function(){return Nr}),n.d(e,"pb",function(){return Dr}),n.d(e,"qb",function(){return xc}),n.d(e,"rb",function(){return Tp}),n.d(e,"sb",function(){return kc}),n.d(e,"tb",function(){return Rc}),n.d(e,"ub",function(){return Rr}),n.d(e,"vb",function(){return q}),n.d(e,"wb",function(){return ra}),n.d(e,"xb",function(){return za}),n.d(e,"yb",function(){return Ha}),n.d(e,"zb",function(){return Ga}),n.d(e,"Ab",function(){return Ac}),n.d(e,"Bb",function(){return Wh}),n.d(e,"Cb",function(){return Rt}),n.d(e,"Db",function(){return l}),n.d(e,"Eb",function(){return xr}),n.d(e,"Fb",function(){return Ys}),n.d(e,"Gb",function(){return Et}),n.d(e,"Hb",function(){return Yl}),n.d(e,"Ib",function(){return Co}),n.d(e,"Jb",function(){return ha}),n.d(e,"Kb",function(){return Tu}),n.d(e,"Lb",function(){return Ju}),n.d(e,"Mb",function(){return Eu}),n.d(e,"Nb",function(){return Vf}),n.d(e,"Ob",function(){return J}),n.d(e,"Pb",function(){return at}),n.d(e,"Qb",function(){return _}),n.d(e,"Rb",function(){return I}),n.d(e,"Sb",function(){return it}),n.d(e,"Tb",function(){return ut}),n.d(e,"Ub",function(){return ja}),n.d(e,"Vb",function(){return Fa}),n.d(e,"Wb",function(){return Va}),n.d(e,"Xb",function(){return Ua}),n.d(e,"Yb",function(){return Ma}),n.d(e,"Zb",function(){return La}),n.d(e,"ac",function(){return Ba}),n.d(e,"bc",function(){return gn}),n.d(e,"cc",function(){return Ec}),n.d(e,"dc",function(){return Pl}),n.d(e,"ec",function(){return Ml}),n.d(e,"fc",function(){return Ll}),n.d(e,"gc",function(){return tr}),n.d(e,"hc",function(){return bn}),n.d(e,"ic",function(){return Yf}),n.d(e,"jc",function(){return Ya}),n.d(e,"kc",function(){return qf}),n.d(e,"lc",function(){return Qa}),n.d(e,"mc",function(){return bf}),n.d(e,"nc",function(){return vf}),n.d(e,"oc",function(){return yf}),n.d(e,"pc",function(){return tu}),n.d(e,"qc",function(){return Ja}),n.d(e,"rc",function(){return Pa}),n.d(e,"sc",function(){return eu}),n.d(e,"tc",function(){return nu}),n.d(e,"uc",function(){return tf}),n.d(e,"vc",function(){return ef}),n.d(e,"wc",function(){return nf}),n.d(e,"xc",function(){return rf}),n.d(e,"yc",function(){return Ff}),n.d(e,"zc",function(){return Ra}),n.d(e,"Ac",function(){return Jt}),n.d(e,"Bc",function(){return hi}),n.d(e,"Cc",function(){return ot}),n.d(e,"Dc",function(){return Iu}),n.d(e,"Ec",function(){return ka}),n.d(e,"Fc",function(){return zf}),n.d(e,"Gc",function(){return Uu}),n.d(e,"Hc",function(){return Vu}),n.d(e,"Ic",function(){return qu}),n.d(e,"Jc",function(){return Bu}),n.d(e,"Kc",function(){return Uf});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function y(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,T)||S(t,A)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const T=u({"\u0275prov":u}),C=u({"\u0275inj":u}),A=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function j(t){const e=R;return R=t,e}function N(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void y(l(t),"Injector")}function P(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=M||V||F||U,B={},H=[],G=[],z=u({"\u0275cmp":u}),Y=u({"\u0275dir":u}),Z=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),$=u({"\u0275loc":u}),W=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let X=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function tt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(et),r.pipeDefs=()=>n.map(nt)}function et(t){return ct(t)||lt(t)}function nt(t){return ht(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=ft(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=J;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[z]||null}function lt(t){return t[Y]||null}function ht(t){return t[Z]||null}function ft(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const dt=20,pt=10;function gt(t){return Array.isArray(t)&&"object"==typeof t[1]}function mt(t){return Array.isArray(t)&&!0===t[1]}function bt(t){return 0!=(8&t.flags)}function vt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function wt(t){return null!==t.template}function _t(t,e){return t.hasOwnProperty(W)?t[W]:null}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Ot}function Ot(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new It(u&&u.currentValue,e,s===B),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;const At="http://www.w3.org/2000/svg",xt="http://www.w3.org/1998/MathML/";let kt;function Rt(t){kt=t}function jt(){return void 0!==kt?kt:"undefined"!=typeof document?document:void 0}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>jt()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Dt(e[t])}function Mt(t,e){return Dt(e[t.index])}function Ft(t,e){return t.data[e]}function Ut(t,e){return t[e]}function Vt(t,e){const n=e[t];return gt(n)?n:n[0]}function qt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Bt(t){return 4==(4&t[2])}function Ht(t){return 128==(128&t[2])}function Gt(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Yt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Zt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return Zt.bindingsEnabled}function $t(){Zt.bindingsEnabled=!0}function Wt(){Zt.bindingsEnabled=!1}function Qt(){return Zt.lFrame.lView}function Xt(){return Zt.lFrame.tView}function Jt(t){Zt.lFrame.contextLView=t}function te(){let t=ee();for(;null!==t&&64===t.type;)t=t.parent;return t}function ee(){return Zt.lFrame.currentTNode}function ne(){const t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function re(t,e){const n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function ie(){return Zt.lFrame.isParent}function oe(){Zt.lFrame.isParent=!1}function se(){return Zt.isInCheckNoChangesMode}function ae(t){Zt.isInCheckNoChangesMode=t}function ue(){const t=Zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ce(){return Zt.lFrame.bindingIndex}function le(t){return Zt.lFrame.bindingIndex=t}function he(){return Zt.lFrame.bindingIndex++}function fe(t){const e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function de(t){Zt.lFrame.inI18n=t}function pe(t,e){const n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ge(e)}function ge(t){Zt.lFrame.currentDirectiveIndex=t}function me(t){const e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function be(){return Zt.lFrame.currentQueryIndex}function ve(t){Zt.lFrame.currentQueryIndex=t}function ye(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ye(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Zt.lFrame=Ie();return r.currentTNode=e,r.lView=t,!0}function _e(t){const e=Ie(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ie(){const t=Zt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Se(){const t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Oe=Se;function Te(){const t=Se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ce(){return Zt.lFrame.selectedIndex}function Ae(t){Zt.lFrame.selectedIndex=t}function xe(){const t=Zt.lFrame;return Ft(t.tView,t.selectedIndex)}function ke(){Zt.lFrame.currentNamespace=At}function Re(){Zt.lFrame.currentNamespace=xt}function je(){Zt.lFrame.currentNamespace=null}function Ne(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Pe(t,e,n){Me(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Me(t,e,n,r)}function Le(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Me(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Fe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Fe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ue=-1;class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function qe(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];He(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Be(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ze(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ze(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ye(t){return t!==Ue}function Ze(t){return 32767&t}function Ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let $e=!0;function We(t){const e=$e;return $e=t,e}let Qe=0;function Xe(t,e){const n=tn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Je(r.data,t),Je(e,null),Je(r.blueprint,null));const i=en(t,e),o=t.injectorIndex;if(Ye(i)){const t=Ze(i),n=Ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function en(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ue;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ue}function nn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Qe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function rn(t,e,n){if(n&k.Optional)return t;y(e,"NodeInjector")}function on(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=j(void 0);try{return i?i.get(e,r,n&k.Optional):N(e,r,n&k.Optional)}finally{j(o)}}return rn(r,e,n)}function sn(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:un:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&k.Host?rn(i,n,r):on(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;y(n)}finally{Oe()}}else if("number"==typeof o){let i=null,s=tn(t,e),a=Ue,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?en(t,e):e[s+8],a!==Ue&&dn(r,!1)?(i=e[1],s=Ze(a),e=Ke(a,e)):s=-1);-1!==s;){const t=e[1];if(fn(o,s,t.data)){const t=cn(s,e,n,i,r,u);if(t!==an)return t}a=e[s+8],a!==Ue&&dn(r,e[1].data[s+8]===u)&&fn(o,s,e)?(i=t,s=Ze(a),e=Ke(a,e)):s=-1}}}return on(e,n,r,i)}const an={};function un(){return new pn(te(),Qt())}function cn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=ln(a,s,n,null==r?vt(a)&&$e:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?hn(e,s,u,a):an}function ln(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&wt(t)&&t.type===n)return u}return null}function hn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ve){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=We(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?j(s.injectImpl):null;we(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&j(u),We(a),s.resolving=!1,Oe()}}return i}function fn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function dn(t,e){return!(t&k.Self||t&k.Host&&e)}class pn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sn(this._tNode,this._lView,t,void 0,e)}}function gn(t){return P(()=>{const e=t.prototype.constructor,n=e[W]||mn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||mn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function mn(t){return g(t)?()=>{const e=mn(p(t));return e&&e()}:_t(t)}function bn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Be(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(te(),t)}const vn="__annotations__",yn="__parameters__",wn="__prop__metadata__";function _n(t,e,n,r,i){return P(()=>{const o=In(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(vn)?n[vn]:Object.defineProperty(n,vn,{value:[]})[vn]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function In(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function En(t,e,n){return P(()=>{const r=In(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(yn)?t[yn]:Object.defineProperty(t,yn,{value:[]})[yn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Sn(t,e,n,r){return P(()=>{const i=In(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(wn)?o[wn]:Object.defineProperty(o,wn,{value:{}})[wn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const On=function(){return En("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>bn(t)}))}();class Tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cn=new Tn("AnalyzeForEntryComponents");var An=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function xn(){const t=q.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const kn=Function;function Rn(t){return"function"==typeof t}function jn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),jn(r,e)):e!==t&&e.push(r)}return e}function Nn(t,e){t.forEach(t=>Array.isArray(t)?Nn(t,e):e(t))}function Pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Mn(t,e,n){let r=Un(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Fn(t,e){const n=Un(t,e);if(n>=0)return t[1|n]}function Un(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Vn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,qn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Bn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Hn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Gn{constructor(t){this._reflect=t||q.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Ln(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Vn.test(n)||Hn.test(n)||qn.test(n)&&!Bn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&zn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(yn)&&t[yn],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Ln(t.length)}parameters(t){if(!Rn(t))return[];const e=Yn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?zn(t.decorators):t.hasOwnProperty(vn)?t[vn]:null}annotations(t){if(!Rn(t))return[];const e=Yn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=zn(e[t])}),n}return t.hasOwnProperty(wn)?t[wn]:null}propMetadata(t){if(!Rn(t))return{};const e=Yn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Rn(t)&&this._ownPropMetadata(t,Yn(t))||{}}hasLifecycleHook(t,e){return t instanceof kn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${l(t)}`}resourceUri(t){return`./${l(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function zn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Yn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Zn={},Kn=/\n/gm,$n="__source",Wn=u({provide:String,useValue:u});let Qn;function Xn(t){const e=Qn;return Qn=t,e}function Jn(t,e=k.Default){if(void 0===Qn)throw new Error("inject() must be called from an injection context");return null===Qn?N(t,void 0,e):Qn.get(t,e&k.Optional?null:void 0,e)}function tr(t,e=k.Default){return(R||Jn)(p(t),e)}function er(t){throw new Error("invalid")}function nr(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(tr(t,n))}else e.push(tr(r))}return e}function rr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const ir=rr(En("Inject",t=>({token:t})),-1),or=rr(En("Optional"),8),sr=rr(En("Self"),2),ar=rr(En("SkipSelf"),4),ur=rr(En("Host"),1);let cr=null;function lr(){return cr=cr||new Gn}function hr(t){return function(t){const e=xn();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof or||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof ar||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof sr||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof ur||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof ir)n.token=o.token;else if(o instanceof On){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else!0===o.__ChangeDetectorRef__?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=An.Invalid):r(e);return n}(e,t))}(lr().parameters(t))}let fr=new Map;const dr=new Set;function pr(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}let gr,mr;function br(){if(void 0===gr&&(gr=null,q.trustedTypes))try{gr=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return gr}function vr(t){var e;return(null===(e=br())||void 0===e?void 0:e.createHTML(t))||t}function yr(){if(void 0===mr&&(mr=null,q.trustedTypes))try{mr=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return mr}function wr(t){var e;return(null===(e=yr())||void 0===e?void 0:e.createHTML(t))||t}function _r(t){var e;return(null===(e=yr())||void 0===e?void 0:e.createScript(t))||t}function Ir(t){var e;return(null===(e=yr())||void 0===e?void 0:e.createScriptURL(t))||t}class Er{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sr extends Er{getTypeName(){return"HTML"}}class Or extends Er{getTypeName(){return"Style"}}class Tr extends Er{getTypeName(){return"Script"}}class Cr extends Er{getTypeName(){return"URL"}}class Ar extends Er{getTypeName(){return"ResourceURL"}}function xr(t){return t instanceof Er?t.changingThisBreaksApplicationSecurity:t}function kr(t,e){const n=Rr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Rr(t){return t instanceof Er&&t.getTypeName()||null}function jr(t){return new Sr(t)}function Nr(t){return new Or(t)}function Pr(t){return new Tr(t)}function Dr(t){return new Cr(t)}function Lr(t){return new Ar(t)}function Mr(t){const e=new Ur(t);return function(){try{return!!(new window.DOMParser).parseFromString(vr(""),"text/html")}catch(t){return!1}}()?new Fr(e):e}class Fr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ur{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Br(t){return(t=String(t)).match(Vr)||t.match(qr)?t:"unsafe:"+t}function Hr(t){return(t=String(t)).split(",").map(t=>Br(t.trim())).join(", ")}function Gr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yr=Gr("area,br,col,hr,img,wbr"),Zr=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kr=Gr("rp,rt"),$r=zr(Kr,Zr),Wr=zr(Yr,zr(Zr,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zr(Kr,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$r),Qr=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xr=Gr("srcset"),Jr=zr(Qr,Xr,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ti=Gr("script,style,template");class ei{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ti.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Jr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Qr[i]&&(o=Br(o)),Xr[i]&&(o=Hr(o)),this.buf.push(" ",e,'="',ii(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wr.hasOwnProperty(e)&&!Yr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ii(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ri=/([^\#-~ |!])/g;function ii(t){return t.replace(/&/g,"&amp;").replace(ni,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ri,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oi;function si(t,e){let n=null;try{oi=oi||Mr(t);let r=e?String(e):"";n=oi.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=oi.getInertBodyElement(r)}while(r!==o);return vr((new ei).sanitizeChildren(ai(n)||n))}finally{if(n){const t=ai(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ai(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ui=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ci(t){const e=bi();return e?wr(e.sanitize(ui.HTML,t)||""):kr(t,"HTML")?wr(xr(t)):si(jt(),b(t))}function li(t){const e=bi();return e?e.sanitize(ui.STYLE,t)||"":kr(t,"Style")?xr(t):b(t)}function hi(t){const e=bi();return e?e.sanitize(ui.URL,t)||"":kr(t,"URL")?xr(t):Br(b(t))}function fi(t){const e=bi();if(e)return Ir(e.sanitize(ui.RESOURCE_URL,t)||"");if(kr(t,"ResourceURL"))return Ir(xr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function di(t){const e=bi();if(e)return _r(e.sanitize(ui.SCRIPT,t)||"");if(kr(t,"Script"))return _r(xr(t));throw new Error("unsafe value used in a script context")}function pi(t){return vr(t[0])}function gi(t){return function(t){var e;return(null===(e=br())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function mi(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?fi:hi}(e,n)(t)}function bi(){const t=Qt();return t&&t[12]}function vi(t){return t.ngDebugContext}function yi(t){return t.ngOriginalError}function wi(t,...e){t.error(...e)}class _i{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vi(t)?vi(t):this._findContext(yi(t)):null}_findOriginalError(t){let e=yi(t);for(;e&&yi(e);)e=yi(e);return e}}const Ii=/^>|^->|<!--|-->|--!>|<!-$/g,Ei=/(<|>)/;function Si(t,e){t.__ngContext__=e}const Oi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Ti(t){return{name:"window",target:t.ownerDocument.defaultView}}function Ci(t){return{name:"document",target:t.ownerDocument}}function Ai(t){return{name:"body",target:t.ownerDocument.body}}function xi(t){return t instanceof Function?t():t}var ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ri;function ji(t,e){return Ri(t,e)}function Ni(t){const e=t[3];return mt(e)?e[3]:e}function Pi(t){return Li(t[13])}function Di(t){return Li(t[4])}function Li(t){for(;null!==t&&!mt(t);)t=t[4];return t}function Mi(t,e,n,r,i){if(null!=r){let o,s=!1;mt(r)?o=r:gt(r)&&(s=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?$i(e,n,a):Ki(e,n,a,i||null,!0):1===t&&null!==n?Ki(e,n,a,i||null,!0):2===t?ao(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&Mi(e,t,r,o,i);for(let s=pt;s<n.length;s++){const i=n[s];co(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Fi(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}function Ui(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}function Vi(t,e){return t.createComment(function(t){return t.replace(Ii,t=>t.replace(Ei,"\u200b$1\u200b"))}(e))}function qi(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Bi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yt(i,-1)),n.splice(r,1)}function Hi(t,e){if(t.length<=pt)return;const n=pt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Bi(o,r),e>0&&(t[n-1][4]=r[4]);const s=Dn(t,pt+e);co(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gi(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&co(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zi(t[1],t);for(;e;){let n=null;if(gt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)gt(e)&&zi(e[1],e),e=e[3];null===e&&(e=t),gt(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&mt(e[3])){n!==e[3]&&Bi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Yi(t,e,n){return Zi(t,e.parent,n)}function Zi(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Mt(r,n)}function Ki(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $i(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r,i){null!==r?Ki(t,e,n,r,i):$i(t,e,n)}function Qi(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Xi(t,e,n){return eo(t,e,n)}function Ji(t,e,n){return 40&t.type?Mt(t,n):null}let to,eo=Ji;function no(t,e){eo=t,to=e}function ro(t,e,n,r){const i=Yi(t,r,e),o=e[11],s=Xi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Wi(o,i,n[a],s,!1);else Wi(o,i,n,s,!1);void 0!==to&&to(o,r,e,n,i)}function io(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return so(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return io(t,n);{const n=t[e.index];return mt(n)?so(-1,n):Dt(n)}}if(32&n)return ji(e,t)()||Dt(t[e.index]);{const n=oo(t,e);return null!==n?Array.isArray(n)?n[0]:io(Ni(t[16]),n):io(t,e.next)}}return null}function oo(t,e){return null!==e?t[16][6].projection[e.projection]:null}function so(t,e){const n=pt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return io(t,r)}return e[7]}function ao(t,e,n){const r=Qi(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function uo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Si(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)uo(t,e,n.child,r,i,o,!1),Mi(e,t,i,a,o);else if(32&u){const s=ji(n,r);let u;for(;u=s();)Mi(e,t,i,u,o);Mi(e,t,i,a,o)}else 16&u?lo(t,e,r,n,i,o):Mi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function co(t,e,n,r,i,o){uo(n,r,t.firstChild,e,i,o,!1)}function lo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Mi(e,t,i,a[u],o);else uo(t,e,a,s[3],i,o,!0)}function ho(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function fo(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function po(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const go="ng-template";function mo(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==po(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bo(t){return 4===t.type&&t.value!==go}function vo(t,e,n){return e===(4!==t.type||n?t.value:go)}function yo(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Be(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!vo(t,u,n)||""===u&&1===e.length){if(wo(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!mo(t.attrs,c,n)){if(wo(r))return!1;s=!0}continue}const l=_o(8&r?"class":u,i,bo(t),n);if(-1===l){if(wo(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==po(e,c,0)||2&r&&c!==t){if(wo(r))return!1;s=!0}}}}else{if(!s&&!wo(r)&&!wo(u))return!1;if(s&&wo(u))continue;s=!1,r=u|1&r}}return wo(r)||s}function wo(t){return 0==(1&t)}function _o(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Io(t,e,n=!1){for(let r=0;r<e.length;r++)if(yo(t,e[r],n))return!0;return!1}function Eo(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function So(t,e){return t?":not("+e.trim()+")":e}function Oo(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||wo(s)||(e+=So(o,i),i=""),r=s,o=o||!wo(r);n++}return""!==i&&(e+=So(o,i)),e}const To={};function Co(t){Ao(Xt(),Qt(),Ce()+t,se())}function Ao(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&De(e,r,0,n)}Ae(n)}function xo(t,e){return t<<17|e<<2}function ko(t){return t>>17&32767}function Ro(t){return 2|t}function jo(t){return(131068&t)>>2}function No(t,e){return-131069&t|e<<2}function Po(t){return 1|t}function Do(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ve(i),n.contentQueries(2,e[o],o)}}}function Lo(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Mo(t,e,n,r,i){let o=t.data[e];if(null===o)o=Fo(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=ne();o.injectorIndex=null===t?-1:t.injectorIndex}return re(o,!0),o}function Fo(t,e,n,r,i){const o=ee(),s=ie(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Uo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vo(t,e,n){_e(e);try{const r=t.viewQuery;null!==r&&vs(1,r,n);const i=t.template;null!==i&&Ho(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Do(t,e),t.staticViewQueries&&vs(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ds(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Te()}}function qo(t,e,n,r){const i=e[2];if(256==(256&i))return;_e(e);const o=se();try{zt(e),le(t.bindingStartIndex),null!==n&&Ho(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&De(e,n,0,null),Le(e,0)}if(function(t){for(let e=Pi(t);null!==e;e=Di(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Yt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pi(t);null!==e;e=Di(e))for(let t=pt;t<e.length;t++){const n=e[t],r=n[1];Ht(n)&&qo(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Do(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&De(e,n,1),Le(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ae(~r);else{const i=r,o=n[++t],s=n[++t];pe(o,i),s(2,e[i])}}}finally{Ae(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)hs(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&vs(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&De(e,n,2),Le(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yt(e[3],-1))}finally{Te()}}function Bo(t,e,n,r){const i=e[10],o=!se(),s=Bt(e);try{o&&!s&&i.begin&&i.begin(),s&&Vo(t,e,r),qo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ho(t,e,n,r,i){const o=Ce(),s=2&r;try{Ae(-1),s&&e.length>dt&&Ao(t,e,dt,se()),n(r,i)}finally{Ae(o)}}function Go(t,e,n){if(bt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function zo(t,e,n){Kt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Xe(n,e),Si(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=wt(r);o&&os(e,n,r);const u=hn(e,t,a,n);Si(u,e),null!==s&&us(0,a-i,u,r,0,s),o&&(Vt(n.index,e)[8]=u)}}(t,e,n,Mt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Zt.lFrame.currentDirectiveIndex;try{Ae(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ge(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ts(r,i)}}finally{Ae(-1),ge(s)}}(t,e,n))}function Yo(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Zo(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ko(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ko(t,e,n,r,i,o,s,a,u,c){const l=dt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:To);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function $o(t,e,n,r){const i=ws(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_s(t).push(r,i.length-1))}function Wo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Qo(t,e,n,r,i,o,s,a){const u=Mt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ss(t,n,c,r,i),vt(e)&&function(t,e){const n=Vt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(u,r,i):He(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Xo(t,e,n,r){let i=!1;if(Kt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Io(n,s.selectors,!1)&&(i||(i=[]),nn(Xe(n,e),t,s.type),wt(s)?(es(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,rs(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Uo(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ge(n.mergedAttrs,c.hostAttrs),is(t,n,e,u,c),ns(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||bo(e)?null:cs(n,i);o.push(c),s=Wo(n,u,s),a=Wo(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function Jo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ts(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function es(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ns(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wt(e)&&(n[""]=t)}}function rs(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function is(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=_t(i.type)),s=new Ve(o,wt(i),null);t.blueprint[r]=s,n[r]=s,Jo(t,e,0,r,Uo(t,n,i.hostVars,To),i)}function os(t,e,n){const r=Mt(e,t),i=Zo(n),o=t[10],s=ps(t,Lo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ss(t,e,n,r,i,o){const s=Mt(t,e);as(e[11],s,o,t.value,n,r,i)}function as(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function us(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function cs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ls(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function hs(t,e){const n=Vt(e,t);if(Ht(n)){const t=n[1];80&n[2]?qo(t,n,t.template,n[8]):n[5]>0&&fs(n)}}function fs(t){for(let n=Pi(t);null!==n;n=Di(n))for(let t=pt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qo(t,e,t.template,e[8])}else e[5]>0&&fs(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Vt(e[n],t);Ht(r)&&r[5]>0&&fs(r)}}function ds(t,e){const n=Vt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Vo(r,n,n[8])}function ps(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function gs(t){for(;t;){t[2]|=64;const e=Ni(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ms(t,e,n){const r=e[10];r.begin&&r.begin();try{qo(t,e,t.template,n)}catch(i){throw Es(e,i),i}finally{r.end&&r.end()}}function bs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qt(n),i=r[1];Bo(i,r,i.template,n)}}(t[8])}function vs(t,e,n){ve(0),e(t,n)}const ys=(()=>Promise.resolve(null))();function ws(t){return t[7]||(t[7]=[])}function _s(t){return t.cleanup||(t.cleanup=[])}function Is(t,e,n){return(null===t||wt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Es(t,e){const n=t[9],r=n?n.get(_i,null):null;r&&r.handleError(e)}function Ss(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Os(t,e,n){const r=Lt(e,t);Ui(t[11],r,n)}function Ts(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Cs=new Tn("INJECTOR",-1);class As{get(t,e=Zn){if(e===Zn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const xs=new Tn("Set Injector scope."),ks={},Rs={},js=[];let Ns;function Ps(){return void 0===Ns&&(Ns=new As),Ns}function Ds(t,e=null,n=null,r){return new Ls(t,n,e||Ps(),r)}class Ls{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Nn(e,n=>this.processProvider(n,t,e)),Nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Cs,Us(void 0,this));const o=this.records.get(xs);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Zn,n=k.Default){this.assertNotDestroyed();const r=Xn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Tn)&&E(t);e=n&&this.injectableDefInScope(n)?Us(Ms(t),ks):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?Ps():this.parent).get(t,e=n&k.Optional&&e===Zn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[$n]&&i.unshift(e[$n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Kn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Xn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Nn(r,t=>this.processProvider(t,n,r||js))}}this.injectorDefTypes.add(o);const a=_t(o)||(()=>new o);this.records.set(o,Us(a,ks));const u=r.providers;if(null!=u&&!s){const e=t;Nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=qs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Vs(t)?Us(void 0,t.useValue):Us(Fs(t),ks)}(t);if(qs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Us(void 0,ks,!0),e.factory=()=>nr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ks&&(e.value=Rs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ms(t){const e=E(t),n=null!==e?e.factory:_t(t);if(null!==n)return n;if(t instanceof Tn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fs(t,e,n){let r;if(qs(t)){const e=p(t);return _t(e)||Ms(e)}if(Vs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...nr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>tr(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return _t(e)||Ms(e);r=()=>new e(...nr(t.deps))}var i;return r}function Us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vs(t){return null!==t&&"object"==typeof t&&Wn in t}function qs(t){return"function"==typeof t}const Bs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ds(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Hs=(()=>{class t{static create(t,e){return Array.isArray(t)?Bs(t,e,""):Bs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Zn,t.NULL=new As,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>tr(Cs)}),t.__NG_ELEMENT_ID__=-1,t})();function Gs(t,e){Ne(qt(t)[1],te())}function zs(t){return Object.getPrototypeOf(t.prototype).constructor}function Ys(t){let e=zs(t.type),n=!0;const r=[t];for(;e;){let i;if(wt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Zs(t.inputs),e.declaredInputs=Zs(t.declaredInputs),e.outputs=Zs(t.outputs);const n=i.hostBindings;n&&Ws(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ks(t,o),s&&$s(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),wt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ys&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function Zs(t){return t===B?{}:t===G?[]:t}function Ks(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function $s(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ws(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Qs=["providersResolver"],Xs=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Js(t){let e,n=zs(t.type);e=wt(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Qs)r[i]=e[i];if(wt(e))for(const i of Xs)r[i]=e[i]}let ta=null;function ea(){if(!ta){const t=q.Symbol;if(t&&t.iterator)ta=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ta=n)}}}return ta}class na{constructor(t){this.wrapped=t}static wrap(t){return new na(t)}static unwrap(t){return na.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof na}}function ra(t){return!!ia(t)&&(Array.isArray(t)||!(t instanceof Map)&&ea()in t)}function ia(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oa(t,e,n){return t[e]=n}function sa(t,e){return t[e]}function aa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ua(t,e,n,r){const i=aa(t,e,n);return aa(t,e+1,r)||i}function ca(t,e,n,r,i){const o=ua(t,e,n,r);return aa(t,e+2,i)||o}function la(t,e,n,r,i,o){const s=ua(t,e,n,r);return ua(t,e+2,i,o)||s}function ha(t,e,n,r){const i=Qt();return aa(i,he(),e)&&(Xt(),ss(xe(),i,t,e,n,r)),ha}function fa(t,e){let n=!1,r=ce();for(let o=1;o<e.length;o+=2)n=aa(t,r++,e[o])||n;if(le(r),!n)return To;let i=e[0];for(let o=1;o<e.length;o+=2)i+=b(e[o])+e[o+1];return i}function da(t,e,n,r){return aa(t,he(),n)?e+b(n)+r:To}function pa(t,e,n,r,i,o){const s=ua(t,ce(),n,i);return fe(2),s?e+b(n)+r+b(i)+o:To}function ga(t,e,n,r,i,o,s,a){const u=ca(t,ce(),n,i,s);return fe(3),u?e+b(n)+r+b(i)+o+b(s)+a:To}function ma(t,e,n,r,i,o,s,a,u,c){const l=la(t,ce(),n,i,s,u);return fe(4),l?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c:To}function ba(t,e,n,r,i,o,s,a,u,c,l,h){const f=ce();let d=la(t,f,n,i,s,u);return d=aa(t,f+4,l)||d,fe(5),d?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h:To}function va(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=ce();let g=la(t,p,n,i,s,u);return g=ua(t,p+4,l,f)||g,fe(6),g?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d:To}function ya(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=ce();let v=la(t,m,n,i,s,u);return v=ca(t,m+4,l,f,p)||v,fe(7),v?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g:To}function wa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v){const y=ce();let w=la(t,y,n,i,s,u);return w=la(t,y+4,l,f,p,m)||w,fe(8),w?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g+b(m)+v:To}function _a(t,e,n,r,i,o){const s=Qt(),a=da(s,e,n,r);return a!==To&&ss(xe(),s,t,a,i,o),_a}function Ia(t,e,n,r,i,o,s,a){const u=Qt(),c=pa(u,e,n,r,i,o);return c!==To&&ss(xe(),u,t,c,s,a),Ia}function Ea(t,e,n,r,i,o,s,a,u,c){const l=Qt(),h=ga(l,e,n,r,i,o,s,a);return h!==To&&ss(xe(),l,t,h,u,c),Ea}function Sa(t,e,n,r,i,o,s,a,u,c,l,h){const f=Qt(),d=ma(f,e,n,r,i,o,s,a,u,c);return d!==To&&ss(xe(),f,t,d,l,h),Sa}function Oa(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Qt(),g=ba(p,e,n,r,i,o,s,a,u,c,l,h);return g!==To&&ss(xe(),p,t,g,f,d),Oa}function Ta(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Qt(),b=va(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return b!==To&&ss(xe(),m,t,b,p,g),Ta}function Ca(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b){const v=Qt(),y=ya(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return y!==To&&ss(xe(),v,t,y,m,b),Ca}function Aa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v,y){const w=Qt(),_=wa(w,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b);return _!==To&&ss(xe(),w,t,_,v,y),Aa}function xa(t,e,n,r){const i=Qt(),o=fa(i,e);return o!==To&&ss(xe(),i,t,o,n,r),xa}function ka(t,e,n,r,i,o,s,a){const u=Qt(),c=Xt(),l=t+dt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Mo(e,t,4,s||null,Gt(c,a));Xo(e,n,l,Gt(c,u)),Ne(e,l);const h=l.tViews=Ko(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];re(h,!1);const f=u[11].createComment("");ro(c,u,f,h),Si(f,u),ps(u,u[l]=ls(f,u,f,h)),yt(h)&&zo(c,u,h),null!=s&&Yo(u,h,a)}function Ra(t){return Ut(Zt.lFrame.contextLView,dt+t)}function ja(t,e=k.Default){const n=Qt();return null===n?tr(t,e):sn(te(),n,p(t),e)}function Na(){throw new Error("invalid")}function Pa(t,e,n){const r=Qt();return aa(r,he(),e)&&Qo(Xt(),xe(),r,t,e,r[11],n,!1),Pa}function Da(t,e,n,r,i){const o=i?"class":"style";Ss(t,n,e.inputs[o],o,r)}function La(t,e,n,r){const i=Qt(),o=Xt(),s=dt+t,a=i[11],u=i[s]=qi(a,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Mo(e,t,2,i,Gt(a,o));return Xo(e,n,u,Gt(a,s)),null!==u.attrs&&Ts(u,u.attrs,!1),null!==u.mergedAttrs&&Ts(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];re(c,!0);const l=c.mergedAttrs;null!==l&&qe(a,u,l);const h=c.classes;null!==h&&fo(a,u,h);const f=c.styles;null!==f&&ho(a,u,f),64!=(64&c.flags)&&ro(o,i,u,c),0===Zt.lFrame.elementDepthCount&&Si(u,i),Zt.lFrame.elementDepthCount++,yt(c)&&(zo(o,i,c),Go(o,c,i)),null!==r&&Yo(i,c)}function Ma(){let t=te();ie()?oe():(t=t.parent,re(t,!1));const e=t;Zt.lFrame.elementDepthCount--;const n=Xt();n.firstCreatePass&&(Ne(n,t),bt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Da(n,e,Qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Da(n,e,Qt(),e.stylesWithoutHost,!1)}function Fa(t,e,n,r){La(t,e,n,r),Ma()}function Ua(t,e,n){const r=Qt(),i=Xt(),o=t+dt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Gt(o,r),a=Mo(e,t,8,"ng-container",s);return null!==s&&Ts(a,s,!0),Xo(e,n,a,Gt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];re(s,!0);const a=r[o]=r[11].createComment("");ro(i,r,a,s),Si(a,r),yt(s)&&(zo(i,r,s),Go(i,s,r)),null!=n&&Yo(r,s)}function Va(){let t=te();const e=Xt();ie()?oe():(t=t.parent,re(t,!1)),e.firstCreatePass&&(Ne(e,t),bt(t)&&e.queries.elementEnd(t))}function qa(t,e,n){Ua(t,e,n),Va()}function Ba(){return Qt()}function Ha(t){return!!t&&"function"==typeof t.then}function Ga(t){return!!t&&"function"==typeof t.subscribe}const za=Ga;function Ya(t,e,n=!1,r){const i=Qt(),o=Xt(),s=te();return Ka(o,i,i[11],s,t,e,n,r),Ya}function Za(t,e,n=!1,r){const i=te(),o=Qt(),s=Xt();return Ka(s,o,Is(me(s.data),i,o),i,t,e,n,r),Za}function Ka(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&_s(t),l=ws(e);let h=!0;if(3&r.type){const f=Mt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(Dt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Wa(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Wa(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Wa(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function $a(t,e,n,r){try{return!1!==n(r)}catch(i){return Es(t,i),!1}}function Wa(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Vt(t.index,e):e;0==(32&e[2])&&gs(s);let a=$a(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=$a(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Qa(t=1){return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Xa(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Io(t,o,!0):Eo(r,o))return i}else n=i}return n}function Ja(t){const e=Qt()[16][6];if(!e.projection){const n=e.projection=Ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xa(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function tu(t,e=0,n){const r=Qt(),i=Xt(),o=Mo(i,dt+t,16,null,n||null);null===o.projection&&(o.projection=e),oe(),64!=(64&o.flags)&&function(t,e,n){lo(e[11],0,e,n,Yi(t,n,e),Xi(n.parent||e[6],n,e))}(i,r,o)}function eu(t,e,n){return nu(t,"",e,"",n),eu}function nu(t,e,n,r,i){const o=Qt(),s=da(o,e,n,r);return s!==To&&Qo(Xt(),xe(),o,t,s,o[11],i,!1),nu}function ru(t,e,n,r,i,o,s){const a=Qt(),u=pa(a,e,n,r,i,o);return u!==To&&Qo(Xt(),xe(),a,t,u,a[11],s,!1),ru}function iu(t,e,n,r,i,o,s,a,u){const c=Qt(),l=ga(c,e,n,r,i,o,s,a);return l!==To&&Qo(Xt(),xe(),c,t,l,c[11],u,!1),iu}function ou(t,e,n,r,i,o,s,a,u,c,l){const h=Qt(),f=ma(h,e,n,r,i,o,s,a,u,c);return f!==To&&Qo(Xt(),xe(),h,t,f,h[11],l,!1),ou}function su(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Qt(),p=ba(d,e,n,r,i,o,s,a,u,c,l,h);return p!==To&&Qo(Xt(),xe(),d,t,p,d[11],f,!1),su}function au(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Qt(),m=va(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==To&&Qo(Xt(),xe(),g,t,m,g[11],p,!1),au}function uu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const b=Qt(),v=ya(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return v!==To&&Qo(Xt(),xe(),b,t,v,b[11],m,!1),uu}function cu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v){const y=Qt(),w=wa(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b);return w!==To&&Qo(Xt(),xe(),y,t,w,y[11],v,!1),cu}function lu(t,e,n){const r=Qt(),i=fa(r,e);return i!==To&&Qo(Xt(),xe(),r,t,i,r[11],n,!1),lu}function hu(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ko(o):jo(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];fu(t[a],e)&&(u=!0,t[a+1]=r?Po(n):Ro(n)),a=r?ko(n):jo(n)}u&&(t[n+1]=r?Ro(o):Po(o))}function fu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Un(t,e)>=0}const du={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pu(t){return t.substring(du.key,du.keyEnd)}function gu(t){return t.substring(du.value,du.valueEnd)}function mu(t,e){const n=du.textEnd;return n===e?-1:(e=du.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,du.key=e,n),yu(t,e,n))}function bu(t,e){const n=du.textEnd;let r=du.key=yu(t,e,n);return n===r?-1:(r=du.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=wu(t,r,n),r=du.value=yu(t,r,n),r=du.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=_u(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=_u(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),wu(t,r,n))}function vu(t){du.key=0,du.keyEnd=0,du.value=0,du.valueEnd=0,du.textEnd=t.length}function yu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function wu(t,e,n,r){return(e=yu(t,e,n))<n&&e++,e}function _u(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function Iu(t,e,n){return Au(t,e,n,!1),Iu}function Eu(t,e){return Au(t,e,null,!0),Eu}function Su(t){xu(Pu,Ou,t,!1)}function Ou(t,e){for(let n=function(t){return vu(t),bu(t,yu(t,0,du.textEnd))}(e);n>=0;n=bu(e,n))Pu(t,pu(e),gu(e))}function Tu(t){xu(Mn,Cu,t,!0)}function Cu(t,e){for(let n=function(t){return vu(t),mu(t,yu(t,0,du.textEnd))}(e);n>=0;n=mu(e,n))Mn(t,pu(e),!0)}function Au(t,e,n,r){const i=Qt(),o=Xt(),s=fe(2);o.firstUpdatePass&&Ru(o,t,s,r),e!==To&&aa(i,s,e)&&Du(o,o.data[Ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(xr(t)))),t}(e,n),r,s)}function xu(t,e,n,r){const i=Xt(),o=fe(2);i.firstUpdatePass&&Ru(i,null,o,r);const s=Qt();if(n!==To&&aa(s,o,n)){const a=i.data[Ce()];if(Fu(a,r)&&!ku(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Da(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===To&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Du(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=xr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function ku(t,e){return e>=t.expandoStartIndex}function Ru(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ce()],s=ku(t,n);Fu(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=me(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nu(n=ju(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ju(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==jo(r))return t[ko(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ju(null,t,e,n[1],r),n=Nu(n,e.attrs,r),function(t,e,n,r){t[ko(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Nu(r,t[o].hostAttrs,n);return Nu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ko(s),u=jo(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Un(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ko(t[a+1]);t[r+1]=xo(e,a),0!==e&&(t[e+1]=No(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=xo(a,0),0!==a&&(t[a+1]=No(t[a+1],r)),a=r;else t[r+1]=xo(u,0),0===a?a=r:t[u+1]=No(t[u+1],r),u=r;l&&(t[r+1]=Ro(t[r+1])),hu(t,c,r,!0),hu(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Un(o,e)>=0&&(n[r+1]=Po(n[r+1]))}(e,c,t,r,o),s=xo(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ju(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Nu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Pu(t,e,n){Mn(t,e,xr(n))}function Du(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Mu(1==(1&c)?Lu(u,e,n,i,jo(c),s):void 0)||(Mu(o)||2==(2&c)&&(o=Lu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Nt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:ki.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=ki.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Lt(Ce(),n),i,o))}function Lu(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===To&&(l=c?H:void 0);let h=c?Fn(l,r):u===r?l:void 0;if(o&&!Mu(h)&&(h=Fn(e,r)),Mu(h)&&(a=h,s))return a;const f=t[i+1];i=s?ko(f):jo(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Fn(t,r))}return a}function Mu(t){return void 0!==t}function Fu(t,e){return 0!=(t.flags&(e?16:32))}function Uu(t,e=""){const n=Qt(),r=Xt(),i=t+dt,o=r.firstCreatePass?Mo(r,i,1,e,null):r.data[i],s=n[i]=Fi(n[11],e);ro(r,n,s,o),re(o,!1)}function Vu(t){return qu("",t,""),Vu}function qu(t,e,n){const r=Qt(),i=da(r,t,e,n);return i!==To&&Os(r,Ce(),i),qu}function Bu(t,e,n,r,i){const o=Qt(),s=pa(o,t,e,n,r,i);return s!==To&&Os(o,Ce(),s),Bu}function Hu(t,e,n,r,i,o,s){const a=Qt(),u=ga(a,t,e,n,r,i,o,s);return u!==To&&Os(a,Ce(),u),Hu}function Gu(t,e,n,r,i,o,s,a,u){const c=Qt(),l=ma(c,t,e,n,r,i,o,s,a,u);return l!==To&&Os(c,Ce(),l),Gu}function zu(t,e,n,r,i,o,s,a,u,c,l){const h=Qt(),f=ba(h,t,e,n,r,i,o,s,a,u,c,l);return f!==To&&Os(h,Ce(),f),zu}function Yu(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Qt(),p=va(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==To&&Os(d,Ce(),p),Yu}function Zu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Qt(),m=ya(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==To&&Os(g,Ce(),m),Zu}function Ku(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const b=Qt(),v=wa(b,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return v!==To&&Os(b,Ce(),v),Ku}function $u(t){const e=Qt(),n=fa(e,t);return n!==To&&Os(e,Ce(),n),$u}function Wu(t,e,n){xu(Mn,Cu,da(Qt(),t,e,n),!0)}function Qu(t,e,n,r,i){xu(Mn,Cu,pa(Qt(),t,e,n,r,i),!0)}function Xu(t,e,n,r,i,o,s){xu(Mn,Cu,ga(Qt(),t,e,n,r,i,o,s),!0)}function Ju(t,e,n,r,i,o,s,a,u){xu(Mn,Cu,ma(Qt(),t,e,n,r,i,o,s,a,u),!0)}function tc(t,e,n,r,i,o,s,a,u,c,l){xu(Mn,Cu,ba(Qt(),t,e,n,r,i,o,s,a,u,c,l),!0)}function ec(t,e,n,r,i,o,s,a,u,c,l,h,f){xu(Mn,Cu,va(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function nc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){xu(Mn,Cu,ya(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function rc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){xu(Mn,Cu,wa(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function ic(t){xu(Mn,Cu,fa(Qt(),t),!0)}function oc(t,e,n){Su(da(Qt(),t,e,n))}function sc(t,e,n,r,i){Su(pa(Qt(),t,e,n,r,i))}function ac(t,e,n,r,i,o,s){Su(ga(Qt(),t,e,n,r,i,o,s))}function uc(t,e,n,r,i,o,s,a,u){Su(ma(Qt(),t,e,n,r,i,o,s,a,u))}function cc(t,e,n,r,i,o,s,a,u,c,l){Su(ba(Qt(),t,e,n,r,i,o,s,a,u,c,l))}function lc(t,e,n,r,i,o,s,a,u,c,l,h,f){Su(va(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function hc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){Su(ya(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function fc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){Su(wa(Qt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function dc(t){Su(fa(Qt(),t))}function pc(t,e,n,r,i){return Au(t,da(Qt(),e,n,r),i,!1),pc}function gc(t,e,n,r,i,o,s){return Au(t,pa(Qt(),e,n,r,i,o),s,!1),gc}function mc(t,e,n,r,i,o,s,a,u){return Au(t,ga(Qt(),e,n,r,i,o,s,a),u,!1),mc}function bc(t,e,n,r,i,o,s,a,u,c,l){return Au(t,ma(Qt(),e,n,r,i,o,s,a,u,c),l,!1),bc}function vc(t,e,n,r,i,o,s,a,u,c,l,h,f){return Au(t,ba(Qt(),e,n,r,i,o,s,a,u,c,l,h),f,!1),vc}function yc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return Au(t,va(Qt(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),yc}function wc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return Au(t,ya(Qt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),wc}function _c(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v){return Au(t,wa(Qt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b),v,!1),_c}function Ic(t,e,n){return Au(t,fa(Qt(),e),n,!1),Ic}function Ec(t,e,n){const r=Qt();return aa(r,he(),e)&&Qo(Xt(),xe(),r,t,e,r[11],n,!0),Ec}function Sc(t,e,n){const r=Qt();if(aa(r,he(),e)){const i=Xt(),o=xe();Qo(i,o,r,t,e,Is(me(i.data),o,r),n,!0)}return Sc}const Oc=void 0;var Tc=["en",[["a","p"],["AM","PM"],Oc],[["AM","PM"],Oc,Oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oc,"{1} 'at' {0}",Oc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Cc={};function Ac(t,e,n){"string"!=typeof e&&(n=e,e=t[Nc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Cc[e]=t,n&&(Cc[e][Nc.ExtraData]=n)}function xc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=jc(e);if(n)return n;const r=e.split("-")[0];if(n=jc(r),n)return n;if("en"===r)return Tc;throw new Error(`Missing locale data for the locale "${t}".`)}function kc(t){return xc(t)[Nc.CurrencyCode]||null}function Rc(t){return xc(t)[Nc.PluralCase]}function jc(t){return t in Cc||(Cc[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Cc[t]}var Nc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Pc=["zero","one","two","few","many"],Dc="en-US",Lc={marker:"element"},Mc={marker:"ICU"};var Fc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Uc=Dc;function Vc(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Uc=t.toLowerCase().replace(/_/g,"-"))}function qc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Ji(t,0,n):Dt(n[i])}function Bc(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Ki(t,s,n[o[e]],a,!1)}}function Hc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Gc(r)||zc(r,e)&&null===Yc(r)&&Zc(r,e.index)}}function Gc(t){return!(64&t.type)}function zc(t,e){return Gc(e)||t.index>e.index}function Yc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Zc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(no(qc,Bc),t.insertBeforeIndex=e)}function Kc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $c(t,e,n){const r=Fo(t,n,64,null,null);return Hc(e,r),r}function Wc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Qc=0,Xc=0;function Jc(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Fi(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Qi(i,r)),c===s?(l=r,h=o):(l=null,h=Dt(n[c])),null!==h){const e=(131070&u)>>>1;Ki(i,h,n[e],l,!1);const r=Kc(t,e);if(null!==r&&"object"==typeof r){const e=Wc(r,n);null!==e&&Jc(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];as(i,Lt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Mc:const t=e[++a],r=e[++a];null===n[r]&&Si(n[r]=Vi(i,t),n);break;case Lc:const o=e[++a],s=e[++a];null===n[s]&&Si(n[s]=qi(i,o,null),n)}}}function tl(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=b(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?as(e[11],e[a],null,c,o,i,u):Qo(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Ui(e[11],l,i);break;case 2:nl(t,Kc(t,a),e,i);break;case 3:el(t,Kc(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Kc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&el(t,n,r,e)}}o+=a}}function el(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Qc;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),tl(t,r,e.update[i],n,o)}}function nl(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Rc(e)(parseInt(t,10)),r=Pc[n];return void 0!==r?r:"other"}(e,Uc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Wc(e,n)!==i&&(rl(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Jc(t,e.create[i],n,r)}}function rl(t,e,n){let r=Wc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Lt(r,n);null!==t&&ao(n[11],t)}else rl(t,Kc(t,~r),n)}}}const il=/\ufffd(\d+):?\d*\ufffd/gi,ol=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,sl=/\ufffd(\d+)\ufffd/,al=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ul=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ll=/\uE500/g;function hl(t,e,n,r,i,o,s){const a=Uo(t,r,1,null);let u=a<<Fc.SHIFT,c=ne();e===c&&(c=null),null===c&&(u|=Fc.APPEND_EAGERLY),s&&(u|=Fc.COMMENT,void 0===Ri&&(Ri=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Wc(t,e);n=null!==i?t.remove[i]:G}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Fo(t,a,s?32:1,null===o?"":o,null);Hc(n,l);const h=l.index;return re(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(no(qc,Bc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function fl(t,e,n,r,i,o,s){const a=s.match(il),u=hl(t,e,n,o,r,a?null:s,!1);a&&dl(i,s,u.index)}function dl(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,u=e.split(il);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=pl(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-a,c}function pl(t){return 1<<Math.min(t,31)}function gl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=ul.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function ml(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Uo(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(pl(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=yl(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function bl(t){const e=[],n=[];let r=1,i=0;const o=vl(t=t.replace(al,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=vl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function vl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);al.test(n)?r.push(bl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function yl(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Mr(jt()).getInertBodyElement(s),f=ai(h)||h;return f?wl(t,e,n,r,u,c,l,f,i,a,0):0}function wl(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Uo(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(Wr.hasOwnProperty(p)){El(i,Lc,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(il)?Jr.hasOwnProperty(n)&&(Qr[n]?dl(s,e.value,a,e.name,Br):Xr[n]?dl(s,e.value,a,e.name,Hr):dl(s,e.value,a,e.name)):Sl(i,a,e)}h=wl(t,e,n,r,i,o,s,f,a,c,l+1)|h,_l(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(il);El(i,null,m?"":g,u,a),_l(o,a,l),m&&(h=dl(s,g,a)|h);break;case Node.COMMENT_NODE:const b=sl.exec(f.textContent||"");if(b){const e=c[parseInt(b[1],10)];El(i,Mc,"",u,a),ml(t,n,r,u,e,a),Il(o,a,l)}}f=f.nextSibling}return h}function _l(t,e,n){0===n&&t.push(e)}function Il(t,e,n){0===n&&(t.push(~e),t.push(e))}function El(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Sl(t,e,n){t.push(e<<1|1,n.name,n.value)}const Ol=/\[(\ufffd.+?\ufffd?)\]/,Tl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Cl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Al=/{([A-Z0-9_]+)}/g,xl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,kl=/\/\*/,Rl=/\d+\:(\d+)/;function jl(t,e,n=-1){const r=Xt(),i=Qt(),o=dt+t,s=Gt(r.consts,e),a=ne();r.firstCreatePass&&function(t,e,n,r,i,o){const s=ne(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return gl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return gl(t.substring(n,r))}}(i,o),h.replace(ll," ")).split(cl);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=vl(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&fl(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);ml(t,n,u,e,r,hl(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),dt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),re(ne(),!1);else{const e=$c(t,c[0],n);c.unshift([]),re(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Zi(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&Fc.COMMENT)===Fc.COMMENT,c=(s&Fc.APPEND_EAGERLY)===Fc.APPEND_EAGERLY,l=s>>>Fc.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Fi(i,a)),c&&null!==n&&Ki(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),de(!0)}function Nl(){de(!1)}function Pl(t,e,n){jl(t,e,n),Nl()}function Dl(t,e){const n=Xt(),r=Gt(n.consts,e);!function(t,e,n){const r=te().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],o=n[t+1];if(""!==o){if(ol.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);dl(i,o,r,e)}}t.data[e]=i}}(n,t+dt,r)}function Ll(t){return aa(Qt(),he(),t)&&(Qc|=1<<Math.min(Xc,31)),Xc++,Ll}function Ml(t){!function(t,e,n){if(Xc>0){const r=t.data[n];tl(t,e,Array.isArray(r)?r:r.update,ce()-Xc-1,Qc)}Qc=0,Xc=0}(Xt(),Qt(),t+dt)}function Fl(t,e={}){return function(t,e={}){let n=t;if(Ol.test(t)){const t={},e=[0];n=n.replace(Tl,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(Rl),n=e?parseInt(e[1],10):0,r=kl.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(Cl,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(Al,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(xl,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function Ul(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ul(t[o],e,n,r,i);else{const o=Xt(),s=Qt();let a=qs(t)?t:p(t.provide),u=Fs(t);const c=te(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(qs(t)||!t.multi){const r=new Ve(u,i,ja),d=Bl(a,e,i?l:l+f,h);-1===d?(nn(Xe(c,s),o,a),Vl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Bl(a,e,l+f,h),p=Bl(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){nn(Xe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ve(t,n,ja);return o.multi=[],o.index=e,o.componentProviders=0,ql(o,i,r&&!n),o}(i?Gl:Hl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Vl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Vl(o,t,d>-1?d:p,ql(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Vl(t,e,n,r){const i=qs(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ql(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Hl(t,e,n,r){return zl(this.multi,[])}function Gl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=hn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),zl(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],zl(i,o);return o}function zl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Yl(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Xt();if(r.firstCreatePass){const i=wt(t);Ul(n,r.data,r.blueprint,i,!0),Ul(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Zl{}class Kl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let $l=(()=>{class t{}return t.NULL=new Kl,t})();function Wl(...t){}function Ql(t,e){return new Jl(Mt(t,e))}const Xl=function(){return Ql(te(),Qt())};let Jl=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Xl,t})();function th(t){return t instanceof Jl?t.nativeElement:t}class eh{}let nh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>rh(),t})();const rh=function(){const t=Qt(),e=Vt(te().index,t);return function(t){return t[11]}(gt(e)?e:t)};let ih=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class oh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sh=new oh("11.2.11");class ah{constructor(){}supports(t){return ra(t)}create(t){return new ch(t)}}const uh=(t,e)=>e;class ch{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<dh(n,r,i)?e:n,s=dh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ra(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ea()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new lh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new hh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ph{constructor(){}supports(t){return t instanceof Map||ia(t)}create(){return new gh}}class gh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ia(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new mh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class mh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bh(){return new vh([new ah])}let vh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||bh()),deps:[[t,new ar,new or]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:bh}),t})();function yh(){return new wh([new ph])}let wh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||yh()),deps:[[t,new ar,new or]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:yh}),t})();function _h(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),mt(o))for(let t=pt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&_h(e[1],e,n,r)}const s=n.type;if(8&s)_h(t,e,n.child,r);else if(32&s){const t=ji(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=oo(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ni(e[16]);_h(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ih{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return _h(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(mt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hi(t,n),Dn(e,n))}this._attachedToViewContainer=!1}Gi(this._lView[1],this._lView)}onDestroy(t){$o(this._lView[1],this._lView,null,t)}markForCheck(){gs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ms(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ae(!0);try{ms(t,e,n)}finally{ae(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,co(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Eh extends Ih{constructor(t){super(t),this._view=t}detectChanges(){bs(this._view)}checkNoChanges(){!function(t){ae(!0);try{bs(t)}finally{ae(!1)}}(this._view)}get context(){return null}}const Sh=Th;let Oh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sh,t.__ChangeDetectorRef__=!0,t})();function Th(t=!1){return function(t,e,n){if(!n&&vt(t)){const n=Vt(t.index,e);return new Ih(n,n)}return 47&t.type?new Ih(e[16],e):null}(te(),Qt(),t)}const Ch=[new ph],Ah=new vh([new ah]),xh=new wh(Ch),kh=function(){return Ph(te(),Qt())};let Rh=(()=>{class t{}return t.__NG_ELEMENT_ID__=kh,t})();const jh=Rh,Nh=class extends jh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Lo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Vo(e,n,t),new Ih(n)}};function Ph(t,e){return 4&t.type?new Nh(e,t,Ql(t,e)):null}class Dh{}class Lh{}const Mh=function(){return Hh(te(),Qt())};let Fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Mh,t})();const Uh=Fh,Vh=class extends Uh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new pn(this._hostTNode,this._hostLView)}get parentInjector(){const t=en(this._hostTNode,this._hostLView);if(Ye(t)){const e=Ke(t,this._hostLView),n=Ze(t);return new pn(e[1].data[n+8],e)}return new pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=qh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Dh,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Vh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=pt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-pt?(e[4]=n[i],Pn(n,pt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=so(i,o),a=n[11],u=Qi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,co(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Pn(Bh(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=qh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);n&&(Dn(Bh(this._lContainer),e),Gi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);return n&&null!=Dn(Bh(this._lContainer),e)?new Ih(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function qh(t){return t[8]}function Bh(t){return t[8]||(t[8]=[])}function Hh(t,e){let n;const r=e[t.index];if(mt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Mt(t,e);Ki(n,Qi(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ls(r,e,i,t),ps(e,n)}return new Vh(n,t,e)}const Gh={};class zh extends $l{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Kh(e,this.ngModule)}}function Yh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Zh=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Oi});class Kh extends Zl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Oo).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Yh(this.componentDef.inputs)}get outputs(){return Yh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Gh,i);return o!==Gh||r===Gh?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(eh,Pt),s=i.get(ih,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):qi(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?At:"math"===e?xt:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Oi,clean:ys,playerHandler:null,flags:0},f=Ko(0,null,null,1,0,null,null,null,null,null),d=Lo(null,f,h,l,null,null,o,a,s,i);let p,g;_e(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Mo(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ts(a,u,!0),null!==t&&(qe(i,t,u),null!==a.classes&&fo(i,t,a.classes),null!==a.styles&&ho(i,t,a.styles)));const c=r.createRenderer(t,e),l=Lo(n,Zo(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(nn(Xe(a,n),s,e.type),es(s,a),rs(a,n.length,1)),ps(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)qe(a,c,["ng-version",sh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wo(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&qe(a,c,t),e&&e.length>0&&fo(a,c,e.join(" "))}if(g=Ft(f,dt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=te();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),is(t,r,e,Uo(t,e,1,null),n));const i=hn(e,t,r.directiveStart,r);Si(i,e);const o=Mt(r,e);return o&&Si(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=te();e.contentQueries(1,s,t.directiveStart)}const a=te();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ae(a.index),Jo(n[1],a,0,a.directiveStart,a.directiveEnd,e),ts(e,s)),s}(t,this.componentDef,d,h,[Gs]),Vo(f,d,null)}finally{Te()}return new $h(this.componentType,p,Ql(g,d),d,g)}}class $h extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Eh(r),this.componentType=t}get injector(){return new pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Wh(t,e,n,r){return P(()=>{const i=t;null!==e&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...e):i.decorators=e),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Qh=new Map;class Xh extends Dh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zh(this);const n=ft(t),r=t[$]||null;r&&Vc(r),this._bootstrapComponents=xi(n.bootstrap),this._r3Injector=Ds(t,e,[{provide:Dh,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Hs.THROW_IF_NOT_FOUND,n=k.Default){return t===Hs||t===Dh||t===Cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jh extends Lh{constructor(t){super(),this.moduleType=t,null!==ft(t)&&function(t){const e=new Set;!function t(n){const r=ft(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Qh.get(i),n),Qh.set(i,n));const o=xi(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Xh(this.moduleType,t)}}function tf(t,e,n){const r=ue()+t,i=Qt();return i[r]===To?oa(i,r,n?e.call(n):e()):sa(i,r)}function ef(t,e,n,r){return ff(Qt(),ue(),t,e,n,r)}function nf(t,e,n,r,i){return df(Qt(),ue(),t,e,n,r,i)}function rf(t,e,n,r,i,o){return pf(Qt(),ue(),t,e,n,r,i,o)}function of(t,e,n,r,i,o,s){return gf(Qt(),ue(),t,e,n,r,i,o,s)}function sf(t,e,n,r,i,o,s,a){const u=ue()+t,c=Qt(),l=la(c,u,n,r,i,o);return aa(c,u+4,s)||l?oa(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):sa(c,u+5)}function af(t,e,n,r,i,o,s,a,u){const c=ue()+t,l=Qt(),h=la(l,c,n,r,i,o);return ua(l,c+4,s,a)||h?oa(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):sa(l,c+6)}function uf(t,e,n,r,i,o,s,a,u,c){const l=ue()+t,h=Qt();let f=la(h,l,n,r,i,o);return ca(h,l+4,s,a,u)||f?oa(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):sa(h,l+7)}function cf(t,e,n,r,i,o,s,a,u,c,l){const h=ue()+t,f=Qt(),d=la(f,h,n,r,i,o);return la(f,h+4,s,a,u,c)||d?oa(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):sa(f,h+8)}function lf(t,e,n,r){return mf(Qt(),ue(),t,e,n,r)}function hf(t,e){const n=t[e];return n===To?void 0:n}function ff(t,e,n,r,i,o){const s=e+n;return aa(t,s,i)?oa(t,s+1,o?r.call(o,i):r(i)):hf(t,s+1)}function df(t,e,n,r,i,o,s){const a=e+n;return ua(t,a,i,o)?oa(t,a+2,s?r.call(s,i,o):r(i,o)):hf(t,a+2)}function pf(t,e,n,r,i,o,s,a){const u=e+n;return ca(t,u,i,o,s)?oa(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):hf(t,u+3)}function gf(t,e,n,r,i,o,s,a,u){const c=e+n;return la(t,c,i,o,s,a)?oa(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):hf(t,c+4)}function mf(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)aa(t,s++,i[u])&&(a=!0);return a?oa(t,s,r.apply(o,i)):hf(t,s)}function bf(t,e){const n=Xt();let r;const i=t+dt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=_t(r.type)),s=j(ja);try{const t=We(!1),e=o();return We(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Qt(),i,e),e}finally{j(s)}}function vf(t,e,n){const r=t+dt,i=Qt(),o=Ut(i,r);return Sf(i,Ef(i,r)?ff(i,ue(),e,o.transform,n,o):o.transform(n))}function yf(t,e,n,r){const i=t+dt,o=Qt(),s=Ut(o,i);return Sf(o,Ef(o,i)?df(o,ue(),e,s.transform,n,r,s):s.transform(n,r))}function wf(t,e,n,r,i){const o=t+dt,s=Qt(),a=Ut(s,o);return Sf(s,Ef(s,o)?pf(s,ue(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function _f(t,e,n,r,i,o){const s=t+dt,a=Qt(),u=Ut(a,s);return Sf(a,Ef(a,s)?gf(a,ue(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function If(t,e,n){const r=t+dt,i=Qt(),o=Ut(i,r);return Sf(i,Ef(i,r)?mf(i,ue(),e,o.transform,n,o):o.transform.apply(o,n))}function Ef(t,e){return t[1].data[e].pure}function Sf(t,e){return na.isWrapped(e)&&(e=na.unwrap(e),t[ce()]=To),e}function Of(t){return e=>{setTimeout(t,void 0,e)}}const Tf=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Of(u),a&&(a=Of(a)),c&&(c=Of(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Cf(){return this._results[ea()]()}class Af{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ea(),n=Af.prototype;n[e]||(n[e]=Cf)}get changes(){return this._changes||(this._changes=new Tf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=jn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xf{constructor(t){this.queryList=t,this.matches=null}clone(){return new xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class kf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new kf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Gf(t,e).matches&&this.queries[e].setDirty()}}class Rf{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class jf{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new jf(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Nf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pf(e,i)),this.matchTNodeWithReadOption(t,e,ln(e,t,i,!1,!1))}else n===Rh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ln(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jl||r===Fh||r===Rh&&4&e.type)this.addMatch(e.index,-2);else{const n=ln(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pf(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Df(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ql(t,e):4&t.type?Ph(t,e):null}(e,t):-2===n?function(t,e,n){return n===Jl?Ql(e,t):n===Rh?Ph(e,t):n===Fh?Hh(e,t):void 0}(t,e,r):hn(t,t[1],n,e)}function Lf(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Df(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Mf(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Lf(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=pt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Mf(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Mf(n[1],n,i,r)}}}}}return r}function Ff(t){const e=Qt(),n=Xt(),r=be();ve(r+1);const i=Gf(n,r);if(t.dirty&&Bt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Mf(n,e,r,[]):Lf(n,e,i,r);t.reset(o,th),t.notifyOnChanges()}return!0}return!1}function Uf(t,e,n){const r=Xt();r.firstCreatePass&&(Hf(r,new Rf(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bf(r,Qt(),e)}function Vf(t,e,n,r){const i=Xt();if(i.firstCreatePass){const o=te();Hf(i,new Rf(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bf(i,Qt(),n)}function qf(){return t=Qt(),e=be(),t[19].queries[e].queryList;var t,e}function Bf(t,e,n){const r=new Af(4==(4&n));$o(t,e,r,r.destroy),null===e[19]&&(e[19]=new kf),e[19].queries.push(new xf(r))}function Hf(t,e,n){null===t.queries&&(t.queries=new jf),t.queries.track(new Nf(e,n))}function Gf(t,e){return t.queries.getByIndex(e)}function zf(t,e){return Ph(t,e)}function Yf(t=k.Default){const e=Th(!0);if(null!=e||t&k.Optional)return e;y("ChangeDetectorRef")}const Zf=(()=>({"\u0275\u0275attribute":ha,"\u0275\u0275attributeInterpolate1":_a,"\u0275\u0275attributeInterpolate2":Ia,"\u0275\u0275attributeInterpolate3":Ea,"\u0275\u0275attributeInterpolate4":Sa,"\u0275\u0275attributeInterpolate5":Oa,"\u0275\u0275attributeInterpolate6":Ta,"\u0275\u0275attributeInterpolate7":Ca,"\u0275\u0275attributeInterpolate8":Aa,"\u0275\u0275attributeInterpolateV":xa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":at,"\u0275\u0275defineInjectable":_,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":it,"\u0275\u0275definePipe":ut,"\u0275\u0275directiveInject":ja,"\u0275\u0275getInheritedFactory":gn,"\u0275\u0275inject":tr,"\u0275\u0275injectAttribute":bn,"\u0275\u0275invalidFactory":Na,"\u0275\u0275invalidFactoryDep":er,"\u0275\u0275injectPipeChangeDetectorRef":Yf,"\u0275\u0275templateRefExtractor":zf,"\u0275\u0275NgOnChangesFeature":Et,"\u0275\u0275ProvidersFeature":Yl,"\u0275\u0275CopyDefinitionFeature":Js,"\u0275\u0275InheritDefinitionFeature":Ys,"\u0275\u0275nextContext":Qa,"\u0275\u0275namespaceHTML":je,"\u0275\u0275namespaceMathML":Re,"\u0275\u0275namespaceSVG":ke,"\u0275\u0275enableBindings":$t,"\u0275\u0275disableBindings":Wt,"\u0275\u0275elementStart":La,"\u0275\u0275elementEnd":Ma,"\u0275\u0275element":Fa,"\u0275\u0275elementContainerStart":Ua,"\u0275\u0275elementContainerEnd":Va,"\u0275\u0275elementContainer":qa,"\u0275\u0275pureFunction0":tf,"\u0275\u0275pureFunction1":ef,"\u0275\u0275pureFunction2":nf,"\u0275\u0275pureFunction3":rf,"\u0275\u0275pureFunction4":of,"\u0275\u0275pureFunction5":sf,"\u0275\u0275pureFunction6":af,"\u0275\u0275pureFunction7":uf,"\u0275\u0275pureFunction8":cf,"\u0275\u0275pureFunctionV":lf,"\u0275\u0275getCurrentView":Ba,"\u0275\u0275restoreView":Jt,"\u0275\u0275listener":Ya,"\u0275\u0275projection":tu,"\u0275\u0275syntheticHostProperty":Sc,"\u0275\u0275syntheticHostListener":Za,"\u0275\u0275pipeBind1":vf,"\u0275\u0275pipeBind2":yf,"\u0275\u0275pipeBind3":wf,"\u0275\u0275pipeBind4":_f,"\u0275\u0275pipeBindV":If,"\u0275\u0275projectionDef":Ja,"\u0275\u0275hostProperty":Ec,"\u0275\u0275property":Pa,"\u0275\u0275propertyInterpolate":eu,"\u0275\u0275propertyInterpolate1":nu,"\u0275\u0275propertyInterpolate2":ru,"\u0275\u0275propertyInterpolate3":iu,"\u0275\u0275propertyInterpolate4":ou,"\u0275\u0275propertyInterpolate5":su,"\u0275\u0275propertyInterpolate6":au,"\u0275\u0275propertyInterpolate7":uu,"\u0275\u0275propertyInterpolate8":cu,"\u0275\u0275propertyInterpolateV":lu,"\u0275\u0275pipe":bf,"\u0275\u0275queryRefresh":Ff,"\u0275\u0275viewQuery":Uf,"\u0275\u0275loadQuery":qf,"\u0275\u0275contentQuery":Vf,"\u0275\u0275reference":Ra,"\u0275\u0275classMap":Tu,"\u0275\u0275classMapInterpolate1":Wu,"\u0275\u0275classMapInterpolate2":Qu,"\u0275\u0275classMapInterpolate3":Xu,"\u0275\u0275classMapInterpolate4":Ju,"\u0275\u0275classMapInterpolate5":tc,"\u0275\u0275classMapInterpolate6":ec,"\u0275\u0275classMapInterpolate7":nc,"\u0275\u0275classMapInterpolate8":rc,"\u0275\u0275classMapInterpolateV":ic,"\u0275\u0275styleMap":Su,"\u0275\u0275styleMapInterpolate1":oc,"\u0275\u0275styleMapInterpolate2":sc,"\u0275\u0275styleMapInterpolate3":ac,"\u0275\u0275styleMapInterpolate4":uc,"\u0275\u0275styleMapInterpolate5":cc,"\u0275\u0275styleMapInterpolate6":lc,"\u0275\u0275styleMapInterpolate7":hc,"\u0275\u0275styleMapInterpolate8":fc,"\u0275\u0275styleMapInterpolateV":dc,"\u0275\u0275styleProp":Iu,"\u0275\u0275stylePropInterpolate1":pc,"\u0275\u0275stylePropInterpolate2":gc,"\u0275\u0275stylePropInterpolate3":mc,"\u0275\u0275stylePropInterpolate4":bc,"\u0275\u0275stylePropInterpolate5":vc,"\u0275\u0275stylePropInterpolate6":yc,"\u0275\u0275stylePropInterpolate7":wc,"\u0275\u0275stylePropInterpolate8":_c,"\u0275\u0275stylePropInterpolateV":Ic,"\u0275\u0275classProp":Eu,"\u0275\u0275advance":Co,"\u0275\u0275template":ka,"\u0275\u0275text":Uu,"\u0275\u0275textInterpolate":Vu,"\u0275\u0275textInterpolate1":qu,"\u0275\u0275textInterpolate2":Bu,"\u0275\u0275textInterpolate3":Hu,"\u0275\u0275textInterpolate4":Gu,"\u0275\u0275textInterpolate5":zu,"\u0275\u0275textInterpolate6":Yu,"\u0275\u0275textInterpolate7":Zu,"\u0275\u0275textInterpolate8":Ku,"\u0275\u0275textInterpolateV":$u,"\u0275\u0275i18n":Pl,"\u0275\u0275i18nAttributes":Dl,"\u0275\u0275i18nExp":Ll,"\u0275\u0275i18nStart":jl,"\u0275\u0275i18nEnd":Nl,"\u0275\u0275i18nApply":Ml,"\u0275\u0275i18nPostprocess":Fl,"\u0275\u0275resolveWindow":Ti,"\u0275\u0275resolveDocument":Ci,"\u0275\u0275resolveBody":Ai,"\u0275\u0275setComponentScope":tt,"\u0275\u0275setNgModuleScope":ot,"\u0275\u0275sanitizeHtml":ci,"\u0275\u0275sanitizeStyle":li,"\u0275\u0275sanitizeResourceUrl":fi,"\u0275\u0275sanitizeScript":di,"\u0275\u0275sanitizeUrl":hi,"\u0275\u0275sanitizeUrlOrResourceUrl":mi,"\u0275\u0275trustConstantHtml":pi,"\u0275\u0275trustConstantResourceUrl":gi,forwardRef:d,resolveForwardRef:p}))();const Kf=[],$f=[];let Wf=!1;function Qf(t){return Array.isArray(t)?t.every(Qf):!!p(t)}function Xf(t,e){const n=jn(e.declarations||Kf),r=td(t);n.forEach(e=>{e.hasOwnProperty(z)?Jf(ct(e),r):e.hasOwnProperty(Y)||e.hasOwnProperty(Z)||(e.ngSelectorScope=t)})}function Jf(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(z)?ct(t):lt(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>ht(t)),t.schemas=e.schemas,t.tView=null}function td(t){if(!nd(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const e=ft(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return xi(e.imports).forEach(t=>{const e=t;if(!nd(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=td(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),xi(e.declarations).forEach(t=>{ht(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),xi(e.exports).forEach(t=>{const e=t;if(nd(e)){const t=td(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else ht(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function ed(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function nd(t){return!!ft(t)}let rd=0;function id(t,e){let n=null;sd(t,e||{}),Object.defineProperty(t,Y,{get:()=>{if(null===n){const r=od(t,e||{});n=xn().compileDirective(Zf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function od(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=xn(),o=ud(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&cd(t),{metadata:o,sourceMapUrl:r}}function sd(t,e){let n=null;Object.defineProperty(t,W,{get:()=>{if(null===n){const r=od(t,e),i=xn();n=i.compileFactory(Zf,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function ad(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function ud(t,e){const n=lr(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:hr(t),host:e.host||B,propMetadata:r,inputs:e.inputs||G,outputs:e.outputs||G,queries:hd(t,r,fd),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ad(t),exportAs:(i=e.exportAs,void 0===i?null:gd(i)),providers:e.providers||null,viewQueries:hd(t,r,dd)};var i}function cd(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)lt(n)||ct(n)||!bd(n)||id(n,null),n=Object.getPrototypeOf(n)}function ld(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?gd(n):p(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function hd(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${v(t)}" since the query selector wasn't defined.`);if(o.some(pd))throw new Error("Cannot combine @Input decorators with query decorators");r.push(ld(i,e))}})}return r}function fd(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function dd(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function pd(t){return"Input"===t.ngMetadataName}function gd(t){return t.split(",").map(t=>t.trim())}const md=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function bd(t){const e=lr();if(md.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(pd(n)||fd(n)||dd(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function vd(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:hr(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const yd=_n("Directive",(t={})=>t,void 0,void 0,(t,e)=>Od(t,e)),wd=_n("Component",(t={})=>Object.assign({changeDetection:D.Default},t),yd,void 0,(t,e)=>Sd(t,e)),_d=_n("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Td(t,e)),Id=Sn("Input",t=>({bindingPropertyName:t})),Ed=Sn("Output",t=>({bindingPropertyName:t})),Sd=function(t,e){let n=null;!function(t,e){pr(e)&&(fr.set(t,e),dr.add(t))}(t,e),sd(t,e),Object.defineProperty(t,z,{get:()=>{if(null===n){const r=xn();if(pr(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:L.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},ud(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||G,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});rd++;try{u.usesInheritance&&cd(t),n=r.compileComponent(Zf,a,u)}finally{rd--}if(0===rd&&function(){if(!Wf){Wf=!0;try{for(let t=$f.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=$f[t];n.declarations&&n.declarations.every(Qf)&&($f.splice(t,1),Xf(e,n))}}finally{Wf=!1}}}(),void 0!==t.ngSelectorScope){const e=td(t.ngSelectorScope);Jf(n,e)}}return n},configurable:!1})},Od=id,Td=function(t,e){let n=null,r=null;Object.defineProperty(t,W,{get:()=>{if(null===r){const n=vd(t,e),i=xn();r=i.compileFactory(Zf,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,Z,{get:()=>{if(null===n){const r=vd(t,e);n=xn().compilePipe(Zf,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},Cd=_n("NgModule",t=>t,void 0,void 0,(t,e)=>Ad(t,e)),Ad=function(t,e={}){!function(t,e,n=!1){const r=jn(e.declarations||Kf);let i=null;Object.defineProperty(t,K,{configurable:!0,get:()=>(null===i&&(i=xn().compileNgModule(Zf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:jn(e.bootstrap||Kf).map(p),declarations:r.map(p),imports:jn(e.imports||Kf).map(p).map(ed),exports:jn(e.exports||Kf).map(p).map(ed),schemas:e.schemas?jn(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,W,{get:()=>{if(null===o){const e=xn();o=e.compileFactory(Zf,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:hr(t),injectFn:"inject",target:e.R3FactoryTarget.NgModule,typeArgumentCount:0})}return o},configurable:!1});let s=null;Object.defineProperty(t,C,{get:()=>{if(null===s){const n={name:t.name,type:t,providers:e.providers||Kf,imports:[(e.imports||Kf).map(p),(e.exports||Kf).map(p)]};s=xn().compileInjector(Zf,`ng:///${t.name}/\u0275inj.js`,n)}return s},configurable:!1})}(t,e),function(t,e){$f.push({moduleType:t,ngModule:e})}(t,e)},xd=new Tn("Application Initializer");let kd=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Wl,this.reject=Wl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ha(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(tr(xd,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Rd=new Tn("AppId"),jd={provide:Rd,useFactory:function(){return`${Nd()}${Nd()}${Nd()}`},deps:[]};function Nd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pd=new Tn("Platform Initializer"),Dd=new Tn("Platform ID"),Ld=new Tn("appBootstrapListener");let Md=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Fd=new Tn("LocaleId"),Ud=new Tn("DefaultCurrencyCode");class Vd{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const qd=function(t){return new Jh(t)},Bd=qd,Hd=function(t){return Promise.resolve(qd(t))},Gd=function(t){const e=qd(t),n=xi(ft(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Kh(n)),t},[]);return new Vd(e,n)},zd=Gd,Yd=function(t){return Promise.resolve(Gd(t))};let Zd=(()=>{class t{constructor(){this.compileModuleSync=Bd,this.compileModuleAsync=Hd,this.compileModuleAndAllComponentsSync=zd,this.compileModuleAndAllComponentsAsync=Yd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Kd=(()=>Promise.resolve(0))();function $d(t){"undefined"==typeof Zone?Kd.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Wd{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tf(!1),this.onMicrotaskEmpty=new Tf(!1),this.onStable=new Tf(!1),this.onError=new Tf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jd(t),Xd(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return tp(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ep(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return tp(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ep(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Jd(t),Xd(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qd,Wl,Wl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Qd={};function Xd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ep(t){t._nesting--,Xd(t)}class np{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tf,this.onMicrotaskEmpty=new Tf,this.onStable=new Tf,this.onError=new Tf}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let rp=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wd.assertNotInAngularZone(),$d(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$d(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(tr(Wd))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),ip=(()=>{class t{constructor(){this._applications=new Map,up.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return up.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class op{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function sp(t){up=t}let ap,up=new op,cp=!0,lp=!1;function hp(){return lp=!0,cp}function fp(){if(lp)throw new Error("Cannot enable prod mode after platform setup.");cp=!1}const dp=new Tn("AllowMultipleToken");class pp{constructor(t,e){this.name=t,this.token=e}}function gp(t,e,n=[]){const r=`Platform: ${e}`,i=new Tn(r);return(e=[])=>{let o=mp();if(!o||o.injector.get(dp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xs,useValue:"platform"});!function(t){if(ap&&!ap.destroyed&&!ap.injector.get(dp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ap=t.get(bp);const e=t.get(Pd,null);e&&e.forEach(t=>t())}(Hs.create({providers:t,name:r}))}return function(t){const e=mp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function mp(){return ap&&!ap.destroyed?ap:null}let bp=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new np:("zone.js"===t?void 0:t)||new Wd({enableLongStackTrace:hp(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Wd,useValue:n}];return n.run(()=>{const e=Hs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(_i,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{wp(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ha(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(kd);return t.runInitializers(),t.donePromise.then(()=>(Vc(i.injector.get(Fd,Dc)||Dc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=vp({},e);return function(t,e,n){const r=new Jh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(tr(Hs))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function vp(t,e){return Array.isArray(e)?e.reduce(vp,t):Object.assign(Object.assign({},t),e)}let yp=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Wd.assertNotInAngularZone(),$d(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Wd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Zl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Dh),i=n.create(Hs.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(rp,null),a=s&&i.injector.get(ip);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),wp(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wp(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ld,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(tr(Wd),tr(Hs),tr(_i),tr($l),tr(kd))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function wp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _p{}class Ip{}const Ep={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sp=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ep}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Op(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Op(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(tr(Zd),tr(Ip,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Op(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Tp=function(t){return null},Cp=gp(null,"core",[{provide:Dd,useValue:"unknown"},{provide:bp,deps:[Hs]},{provide:ip,deps:[]},{provide:Md,deps:[]}]),Ap=[{provide:yp,useClass:yp,deps:[Wd,Hs,_i,$l,kd]},{provide:Zh,deps:[Wd],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:kd,useClass:kd,deps:[[new or,xd]]},{provide:Zd,useClass:Zd,deps:[]},jd,{provide:vh,useFactory:function(){return Ah},deps:[]},{provide:wh,useFactory:function(){return xh},deps:[]},{provide:Fd,useFactory:function(t){return Vc(t=t||"undefined"!=typeof $localize&&$localize.locale||Dc),t},deps:[[new ir(Fd),new or,new ar]]},{provide:Ud,useValue:"USD"}];let xp=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(tr(yp))},t.\u0275mod=it({type:t}),t.\u0275inj=I({providers:Ap}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return a}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return h}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return p}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return c}),n.d(e,"p",function(){return f}),n.d(e,"q",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return I});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.u("angularfire2.app.options"),y=new u.u("angularfire2.app.nameOrConfig"),w=new u.W("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const I=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.cb)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:_,deps:[v,u.F,[new u.G,y]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.V.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.gc(u.I))},t.\u0275mod=u.Sb({type:t}),t.\u0275inj=u.Rb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.u("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Qb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.gc)(l)}const c=new r.u("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.gc(s))},t.\u0275prov=Object(r.Qb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.gc)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Qb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.gc)(s).location;return new y(Object(r.gc)(a),e&&e.origin||"")}const v=new r.u("appBaseHref");let y=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.gc(a),r.gc(v,8))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.gc(a),r.gc(v,8))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.gc(m),r.gc(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Qb)({factory:I,token:t,providedIn:"root"}),t})();function I(){return new _(Object(r.gc)(m),Object(r.gc)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function C(t,e){const n=Object(r.qb)(t),i=n[r.hb.NumberSymbols][e];if(void 0===i){if(e===T.CurrencyDecimal)return n[r.hb.NumberSymbols][T.Decimal];if(e===T.CurrencyGroup)return n[r.hb.NumberSymbols][T.Group]}return i}const A=r.tb,x=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k=".",R="0";function j(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class N{}let P=(()=>{class t extends N{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(A(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.gc(r.z))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();class D{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let L=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new D(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new M(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.X),r.Ub(r.S),r.Ub(r.x))},t.\u0275dir=r.Pb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let F=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){V("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){V("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.X),r.Ub(r.S))},t.\u0275dir=r.Pb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function V(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Db)(e)}'.`)}function q(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Db)(t)}'`)}class B{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class H{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new H,z=new B;let Y=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.yb)(e))return G;if(Object(r.zb)(e))return z;throw q(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ic())},t.\u0275pipe=r.Tb({name:"async",type:t,pure:!1}),t})(),Z=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(k))>-1&&(s=s.replace(k,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===R;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===R;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(x);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=j(e)),null!=n&&(h=j(n)),null!=r?f=j(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const b=[];for(d.length>=e.lgSize&&b.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)b.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&b.unshift(d.join("")),a=b.join(C(n,r)),m.length&&(a+=C(n,i)+m.join("")),g&&(a+=C(n,T.Exponential)+"+"+g)}else a=C(n,T.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(k)?i.split(k):[i.substring(0,i.lastIndexOf(R)+1),i.substring(i.lastIndexOf(R)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===R?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.qb)(t)[r.hb.NumberFormats][e]}(e,S.Decimal),C(e,T.MinusSign)),e,T.Group,T.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(o){throw q(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z))},t.\u0275pipe=r.Tb({name:"number",type:t,pure:!0}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:[{provide:N,useClass:P}]}),t})();function $(t){return"server"===t}let W=(()=>{class t{}return t.\u0275prov=Object(r.Qb)({token:t,providedIn:"root",factory:()=>new Q(Object(r.gc)(s),window)}),t})();class Q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class J extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new J,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=et||(et=document.querySelector("base"),et)?et.getAttribute("href"):null;return null==e?null:(n=e,tt||(tt=document.createElement("a")),tt.setAttribute("href",n),"/"===tt.pathname.charAt(0)?tt.pathname:"/"+tt.pathname);var n}resetBaseElement(){et=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let tt,et=null;const nt=new r.u("TRANSITION_ID"),rt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nt,s,r.v],multi:!0}];class it{static init(){Object(r.eb)(new it)}addToWindow(t){r.vb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.vb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.vb.getAllAngularRootElements=()=>t.getAllRootElements(),r.vb.frameworkStabilizers||(r.vb.frameworkStabilizers=[]),r.vb.frameworkStabilizers.push(t=>{const e=r.vb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ot=new r.u("EventManagerPlugins");let st=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.gc(ot),r.gc(r.F))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ut=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t extends ut{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.gc(s))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g;function ft(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ft(t,i,n):(i=i.replace(ht,t),n.push(i))}return n}function dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let pt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new gt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Y.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new mt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Y.ShadowDom:return new bt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.gc(st),r.gc(ct),r.gc(r.c))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();class gt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(lt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=lt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=lt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.N.DashCase|r.N.Important)?t.style.setProperty(e,n,i&r.N.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.N.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dt(n)):this.eventManager.addEventListener(t,e,dt(n))}}class mt extends gt{constructor(t,e,n,r){super(t),this.component=n;const i=ft(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ht,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ht,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class bt extends gt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ft(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let vt=(()=>{class t extends at{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.gc(s))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();const yt=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},It={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Et=(()=>{class t extends at{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(yt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return wt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),yt.forEach(r=>{r!=n&&(0,It[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.gc(s))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();const St=[{provide:r.I,useValue:"browser"},{provide:r.J,useValue:function(){J.makeCurrent(),it.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.Cb)(document),document},deps:[]}],Ot=Object(r.Z)(r.db,"browser",St),Tt=[[],{provide:r.gb,useValue:"root"},{provide:r.p,useFactory:function(){return new r.p},deps:[]},{provide:ot,useClass:vt,multi:!0,deps:[s,r.F,r.I]},{provide:ot,useClass:Et,multi:!0,deps:[s]},[],{provide:pt,useClass:pt,deps:[st,ct,r.c]},{provide:r.M,useExisting:pt},{provide:ut,useExisting:ct},{provide:ct,useClass:ct,deps:[s]},{provide:r.T,useClass:r.T,deps:[r.F]},{provide:st,useClass:st,deps:[ot,r.F]},[]];let Ct=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:nt,useExisting:r.c},rt]}}}return t.\u0275fac=function(e){return new(e||t)(r.gc(t,12))},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:Tt,imports:[K,r.f]}),t})();"undefined"!=typeof window&&window;var At=n("Cfvw"),xt=n("LRne"),kt=n("XNiG"),Rt=n("9ppp");class jt extends kt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rt.a;return this._value}next(t){super.next(this._value=t)}}var Nt=n("z+Ro"),Pt=n("DH7j"),Dt=n("7o/Q");class Lt extends Dt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Mt extends Dt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ft=n("SeVD"),Ut=n("HDdC");function Vt(t,e,n,r,i=new Mt(t,n,r)){if(!i.closed)return e instanceof Ut.a?e.subscribe(i):Object(Ft.a)(e)(i)}var qt=n("yCtX");const Bt={};class Ht{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gt(t,this.resultSelector))}}class Gt extends Lt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Bt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Vt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Bt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Yt=n("bHdf");function Zt(...t){return Object(Yt.a)(1)(Object(xt.a)(...t))}var Kt=n("EY2u");function $t(t){return new Ut.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(At.a)(n):Object(Kt.b)()).subscribe(e)})}var Wt=n("EQ5u"),Qt=n("lJxs"),Xt=n("zx2A");function Jt(t,e){return"function"==typeof e?n=>n.pipe(Jt((n,r)=>Object(At.a)(t(n,r)).pipe(Object(Qt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new te(t))}class te{constructor(t){this.project=t}call(t,e){return e.subscribe(new ee(t,this.project))}}class ee extends Xt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Xt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Xt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ne=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function re(t){return e=>0===t?Object(Kt.b)():e.lift(new ie(t))}class ie{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new oe(t,this.total))}}class oe extends Dt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function se(...t){const e=t[t.length-1];return Object(Nt.a)(e)?(t.pop(),n=>Zt(t,n,e)):e=>Zt(t,e)}function ae(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ue(t,e,n))}}class ue{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ce(t,this.accumulator,this.seed,this.hasSeed))}}class ce extends Dt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function le(t,e){return function(n){return n.lift(new he(t,e))}}class he{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new fe(t,this.predicate,this.thisArg))}}class fe extends Dt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function de(t){return function(e){const n=new pe(t),r=e.lift(n);return n.caught=r}}class pe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ge(t,this.selector,this.caught))}}class ge extends Xt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Xt.a(this);this.add(r);const i=Object(Xt.c)(n,r);i!==r&&this.add(i)}}}var me=n("5+tZ");function be(t,e){return Object(me.a)(t,e,1)}function ve(t){return function(e){return 0===t?Object(Kt.b)():e.lift(new ye(t))}}class ye{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new we(t,this.total))}}class we extends Dt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function _e(t=Se){return e=>e.lift(new Ie(t))}class Ie{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ee(t,this.errorFactory))}}class Ee extends Dt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(jw){t=jw}this.destination.error(t)}}}function Se(){return new zt}function Oe(t=null){return e=>e.lift(new Te(t))}class Te{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ce(t,this.defaultValue))}}class Ce extends Dt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ae=n("SpAZ");function xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ae.a,re(1),n?Oe(e):_e(()=>new zt))}var ke=n("vkgz"),Re=n("x+ZX"),je=n("quSY");function Ne(t){return e=>e.lift(new Pe(t))}class Pe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new De(t,this.callback))}}class De extends Dt.a{constructor(t,e){super(t),this.add(new je.a(e))}}class Le{constructor(t,e){this.id=t,this.url=e}}class Me extends Le{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fe extends Le{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ue extends Le{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ve extends Le{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qe extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends Le{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ge extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Je="primary";class tn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function en(t){return new tn(t)}function nn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function rn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function on(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sn(t[i],e[i]))return!1;return!0}function sn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function an(t){return Array.prototype.concat.apply([],t)}function un(t){return t.length>0?t[t.length-1]:null}function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ln(t){return Object(r.xb)(t)?t:Object(r.yb)(t)?Object(At.a)(Promise.resolve(t)):Object(xt.a)(t)}function hn(t,e,n){return n?function(t,e){return on(t,e)}(t.queryParams,e.queryParams)&&fn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sn(t[n],e[n]))}(t.queryParams,e.queryParams)&&dn(t.root,e.root)}function fn(t,e){if(!vn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!fn(t.children[n],e.children[n]))return!1}return!0}function dn(t,e){return pn(t,e,e.segments)}function pn(t,e,n){if(t.segments.length>n.length)return!!vn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!vn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!vn(t.segments,r)&&!!t.children.primary&&pn(t.children.primary,e,i)}}class gn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class bn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return xn(this)}}function vn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class yn{}class wn{parse(t){const e=new Pn(t);return new gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${En(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${On(e)}=${On(t)}`).join("&"):`${On(e)}=${On(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const _n=new wn;function In(t){return t.segments.map(t=>xn(t)).join("/")}function En(t,e){if(!t.hasChildren())return In(t);if(e){const e=t.children.primary?En(t.children.primary,!1):"",n=[];return cn(t.children,(t,e)=>{e!==Je&&n.push(`${e}:${En(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return cn(t.children,(t,r)=>{r===Je&&(n=n.concat(e(t,r)))}),cn(t.children,(t,r)=>{r!==Je&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Je?[En(t.children.primary,!1)]:[`${n}:${En(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${In(t)}/${e[0]}`:`${In(t)}/(${e.join("//")})`}}function Sn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(t){return Sn(t).replace(/%3B/gi,";")}function Tn(t){return Sn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cn(t){return decodeURIComponent(t)}function An(t){return Cn(t.replace(/\+/g,"%20"))}function xn(t){return`${Tn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Tn(t)}=${Tn(e[t])}`).join("")}`;var e}const kn=/^[^\/()?;=#]+/;function Rn(t){const e=t.match(kn);return e?e[0]:""}const jn=/^[^=?&#]+/,Nn=/^[^?&#]+/;class Pn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mn(t,e)),n}parseSegment(){const t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bn(Cn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rn(this.remaining);t&&(n=t,this.capture(n))}t[Cn(e)]=Cn(n)}parseQueryParam(t){const e=function(t){const e=t.match(jn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Nn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=An(e),i=An(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Je);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new mn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Dn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ln(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ln(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Mn(t,this._root).map(t=>t.value)}}function Ln(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ln(t,n);if(e)return e}return null}function Mn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Mn(t,n);if(r.length)return r.unshift(e),r}return[]}class Fn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Un(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Vn extends Dn{constructor(t,e){super(t),this.snapshot=e,Yn(this,t)}toString(){return this.snapshot.toString()}}function qn(t,e){const n=function(t,e){const n=new Gn([],{},{},"",{},Je,e,null,t.root,-1,{});return new zn("",new Fn(n,[]))}(t,e),r=new jt([new bn("",{})]),i=new jt({}),o=new jt({}),s=new jt({}),a=new jt(""),u=new Bn(r,i,s,a,o,Je,e,n.root);return u.snapshot=n.root,new Vn(new Fn(u,[]),n)}class Bn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Qt.a)(t=>en(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Qt.a)(t=>en(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zn extends Dn{constructor(t,e){super(e),this.url=t,Yn(this,e)}toString(){return Zn(this._root)}}function Yn(t,e){e.value._routerState=t,e.children.forEach(e=>Yn(t,e))}function Zn(t){const e=t.children.length>0?` { ${t.children.map(Zn).join(", ")} } `:"";return`${t.value}${e}`}function Kn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),on(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),on(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){return on(t.params,e.params)&&function(t,e){return vn(t,e)&&t.every((t,n)=>on(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Wn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Wn(t,e,r);return Wn(t,e)})}(t,e,n);return new Fn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Qn(e,t),t}}const n=new Bn(new jt((r=e.value).url),new jt(r.params),new jt(r.queryParams),new jt(r.fragment),new jt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Wn(t,e));return new Fn(n,i)}var r}function Qn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Qn(t.children[n],e.children[n])}function Xn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jn(t){return"object"==typeof t&&null!=t&&t.outlets}function tr(t,e,n,r,i){let o={};return r&&cn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new gn(n.root===t?e:er(n.root,t,e),o,i)}function er(t,e,n){const r={};return cn(t.children,(t,i)=>{r[i]=t===e?n:er(t,e,n)}),new mn(t.segments,r)}class nr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Jn);if(r&&r!==un(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ir(t,e,n){if(t||(t=new mn([],{})),0===t.segments.length&&t.hasChildren())return or(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Jn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!cr(a,u,e))return o;r+=2}else{if(!cr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new mn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new mn(t.segments.slice(r.pathIndex),t.children),or(e,0,i)}return r.match&&0===i.length?new mn(t.segments,{}):r.match&&!t.hasChildren()?sr(t,e,n):r.match?or(t,0,i):sr(t,e,n)}function or(t,e,n){if(0===n.length)return new mn(t.segments,{});{const r=function(t){return Jn(t[0])?t[0].outlets:{[Je]:t}}(n),i={};return cn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ir(t.children[r],e,n))}),cn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new mn(t.segments,i)}}function sr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Jn(o)){const t=ar(o.outlets);return new mn(r,t)}if(0===i&&Xn(n[0])){r.push(new bn(t.segments[e].path,ur(n[0]))),i++;continue}const s=Jn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xn(a)?(r.push(new bn(s,ur(a))),i+=2):(r.push(new bn(s,{})),i++)}return new mn(r,{})}function ar(t){const e={};return cn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=sr(new mn([],{}),0,t))}),e}function ur(t){const e={};return cn(t,(t,n)=>e[n]=`${t}`),e}function cr(t,e,n){return t==n.path&&on(e,n.parameters)}class lr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Un(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),cn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Un(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Un(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Kn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hr(t){Kn(t.value),t.children.forEach(hr)}class fr{constructor(t,e){this.routes=t,this.module=e}}function dr(t){return"function"==typeof t}function pr(t){return t instanceof gn}const gr=Symbol("INITIAL_VALUE");function mr(){return Jt(t=>function(...t){let e,n;return Object(Nt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Pt.a)(t[0])&&(t=t[0]),Object(qt.a)(t,n).lift(new Ht(e))}(t.map(t=>t.pipe(re(1),se(gr)))).pipe(ae((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gr)return t;if(r===gr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||pr(r))return r}return t},t)},gr),le(t=>t!==gr),Object(Qt.a)(t=>pr(t)?t:!0===t),re(1)))}let br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Vb(0,"router-outlet")},directives:function(){return[hi]},encapsulation:2}),t})();function vr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];yr(r,wr(e,r))}}function yr(t,e){t.children&&vr(t.children,e)}function wr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _r(t){const e=t.children&&t.children.map(_r),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=br),n}function Ir(t){return t.outlet||Je}function Er(t,e){const n=t.filter(t=>Ir(t)===e);return n.push(...t.filter(t=>Ir(t)!==e)),n}const Sr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Or(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Sr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rn)(n,t,e);if(!i)return Object.assign({},Sr);const o={};cn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Tr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Cr(t,e,n)&&Ir(n)!==Je)}(t,n,r)){const i=new mn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ir(o)!==Je){const n=new mn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ir(o)]=n}return i}(t,e,r,new mn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Cr(t,e,n))}(t,n,r)){const o=new mn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Cr(t,n,a)&&!i[Ir(a)]){const n=new mn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ir(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new mn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Cr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ar(t,e,n,r){return!!(Ir(t)===r||r!==Je&&Cr(e,n,t))&&("**"===t.path||Or(e,t,n).matched)}function xr(t,e,n){return 0===e.length&&!t.children[n]}class kr{constructor(t){this.segmentGroup=t||null}}class Rr{constructor(t){this.urlTree=t}}function jr(t){return new Ut.a(e=>e.error(new kr(t)))}function Nr(t){return new Ut.a(e=>e.error(new Rr(t)))}function Pr(t){return new Ut.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Dr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.D)}apply(){const t=Tr(this.urlTree.root,[],[],this.config).segmentGroup,e=new mn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Je).pipe(Object(Qt.a)(t=>this.createUrlTree(Lr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(de(t=>{if(t instanceof Rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof kr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Je).pipe(Object(Qt.a)(e=>this.createUrlTree(Lr(e),t.queryParams,t.fragment))).pipe(de(t=>{if(t instanceof kr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new mn([],{[Je]:t}):t;return new gn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Qt.a)(t=>new mn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(At.a)(r).pipe(be(r=>{const i=n.children[r],o=Er(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Qt.a)(t=>({segment:t,outlet:r})))}),ae((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ae.a,ve(1),n?Oe(e):_e(()=>new zt))}())}expandSegment(t,e,n,r,i,o){return Object(At.a)(n).pipe(be(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(de(t=>{if(t instanceof kr)return Object(xt.a)(null);throw t}))),xe(t=>!!t),de((t,n)=>{if(t instanceof zt||"EmptyError"===t.name){if(xr(e,r,i))return Object(xt.a)(new mn([],{}));throw new kr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ar(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):jr(e):jr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nr(i):this.lineralizeSegments(n,i).pipe(Object(me.a)(n=>{const i=new mn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Or(e,r,i);if(!s)return jr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Nr(l):this.lineralizeSegments(r,l).pipe(Object(me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(xt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Qt.a)(t=>(n._loadedConfig=t,new mn(r,{})))):Object(xt.a)(new mn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Or(e,n,r);if(!o)return jr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(me.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Tr(e,s,u,o),l=new mn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Qt.a)(t=>new mn(s,t)));if(0===o.length&&0===c.length)return Object(xt.a)(new mn(s,{}));const h=Ir(n)===i;return this.expandSegment(r,l,o,c,h?Je:i,!0).pipe(Object(Qt.a)(t=>new mn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(xt.a)(new fr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(xt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Qt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ut.a(e=>e.error(nn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(xt.a)(new fr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(xt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&dr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!dr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ln(o)});return Object(xt.a)(i).pipe(mr(),Object(ke.a)(t=>{if(!pr(t))return;const e=nn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Qt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(xt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Pr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return cn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new mn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Lr(t){const e={};for(const n of Object.keys(t.children)){const r=Lr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new mn(t.segments.concat(e.segments),e.children)}return t}(new mn(t.segments,e))}class Mr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fr{constructor(t,e){this.component=t,this.route=e}}function Ur(t,e,n){const r=t._root;return qr(r,e?e._root:null,n,[r.value])}function Vr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function qr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Un(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vn(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Mr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),qr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fr(a.outlet.component,s))}else s&&Br(e,a,i),i.canActivateChecks.push(new Mr(r)),qr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),cn(o,(t,e)=>Br(t,n.getContext(e),i)),i}function Br(t,e,n){const r=Un(t),i=t.value;cn(r,(t,r)=>{Br(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Hr{}function Gr(t){return new Ut.a(e=>e.error(t))}class zr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Tr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Je);if(null===e)return null;const n=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fn(n,e),i=new zn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Hn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Er(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Zr(n);return r.sort((t,e)=>t.value.outlet===Je?-1:e.value.outlet===Je?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return xr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ar(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?un(n).parameters:{};i=new Gn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wr(t),Ir(t),t.component,t,Kr(e),$r(e)+n.length,Qr(t))}else{const r=Or(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Gn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wr(t),Ir(t),t.component,t,Kr(e),$r(e)+o.length,Qr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Tr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Fn(i,t)]}if(0===a.length&&0===c.length)return[new Fn(i,[])];const l=Ir(t)===r,h=this.processSegment(a,u,c,l?Je:r);return null===h?null:[new Fn(i,h)]}}function Yr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zr(t){const e=[],n=new Set;for(const r of t){if(!Yr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Zr(r.children);e.push(new Fn(r.value,t))}return e.filter(t=>!n.has(t))}function Kr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $r(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Wr(t){return t.data||{}}function Qr(t){return t.resolve||{}}function Xr(t){return Jt(e=>{const n=t(e);return n?Object(At.a)(n).pipe(Object(Qt.a)(()=>e)):Object(xt.a)(e)})}class Jr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ti=new r.u("ROUTES");class ei{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Qt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new fr(an(i.injector.get(ti,void 0,r.t.Self|r.t.Optional)).map(_r),i)}),de(t=>{throw e._loader$=void 0,t}));return e._loader$=new Wt.a(n,()=>new kt.a).pipe(Object(Re.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(At.a)(this.loader.load(t)):ln(t()).pipe(Object(me.a)(t=>t instanceof r.B?Object(xt.a)(t):Object(At.a)(this.compiler.compileModuleAsync(t))))}}class ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ri,this.attachRef=null}}class ri{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ni,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ii{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oi(t){throw t}function si(t,e,n){return e.parse("/")}function ai(t,e){return Object(xt.a)(null)}let ui=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kt.a,this.errorHandler=oi,this.malformedUriErrorHandler=si,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ai,afterPreactivation:ai},this.urlHandlingStrategy=new ii,this.routeReuseStrategy=new Jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.D),this.console=o.get(r.fb);const c=o.get(r.F);this.isNgZoneEnabled=c instanceof r.F&&r.F.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new gn(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ei(s,a,t=>this.triggerEvent(new Ye(t)),t=>this.triggerEvent(new Ze(t))),this.routerState=qn(this.currentUrlTree,this.rootComponentType),this.transitions=new jt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(le(t=>0!==t.id),Object(Qt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Jt(t=>{let n=!1,r=!1;return Object(xt.a)(t).pipe(Object(ke.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(xt.a)(t).pipe(Jt(t=>{const n=this.transitions.getValue();return e.next(new Me(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Kt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Jt(t=>function(t,e,n,r,i){return new Dr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Qt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ke.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(me.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new zr(t,e,n,r,i,o).recognize();return null===s?Gr(new Hr):Object(xt.a)(s)}catch(jw){return Gr(jw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Qt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ke.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Me(n,this.serializeUrl(r),i,o);e.next(a);const u=qn(r,this.rootComponentType).snapshot;return Object(xt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Kt.a}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ke.a)(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Qt.a)(t=>Object.assign(Object.assign({},t),{guards:Ur(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(xt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(At.a)(t).pipe(Object(me.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(xt.a)(!0);const s=o.map(o=>{const s=Vr(o,e,i);let a;if(function(t){return t&&dr(t.canDeactivate)}(s))a=ln(s.canDeactivate(t,e,n,r));else{if(!dr(s))throw new Error("Invalid CanDeactivate guard");a=ln(s(t,e,n,r))}return a.pipe(xe())});return Object(xt.a)(s).pipe(mr())}(t.component,t.route,n,e,r)),xe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(At.a)(e).pipe(be(e=>Zt(function(t,e){return null!==t&&e&&e(new Ke(t)),Object(xt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new We(t)),Object(xt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const o=Vr(i,e.node,n);let s;if(function(t){return t&&dr(t.canActivateChild)}(o))s=ln(o.canActivateChild(r,t));else{if(!dr(o))throw new Error("Invalid CanActivateChild guard");s=ln(o(r,t))}return s.pipe(xe())});return Object(xt.a)(i).pipe(mr())}));return Object(xt.a)(i).pipe(mr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(xt.a)(!0);const i=r.map(r=>$t(()=>{const i=Vr(r,e,n);let o;if(function(t){return t&&dr(t.canActivate)}(i))o=ln(i.canActivate(e,t));else{if(!dr(i))throw new Error("Invalid CanActivate guard");o=ln(i(e,t))}return o.pipe(xe())}));return Object(xt.a)(i).pipe(mr())}(t,e.route,n))),xe(t=>!0!==t,!0))}(r,o,t,e):Object(xt.a)(n)),Object(Qt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ke.a)(t=>{if(pr(t.guardsResult)){const e=nn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),le(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Xr(t=>{if(t.guards.canActivateChecks.length)return Object(xt.a)(t).pipe(Object(ke.a)(t=>{const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Jt(t=>{let n=!1;return Object(xt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(xt.a)(t);let o=0;return Object(At.a)(n).pipe(be(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(xt.a)({});const o={};return Object(At.a)(i).pipe(Object(me.a)(i=>function(t,e,n,r){const i=Vr(t,e,r);return ln(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ke.a)(t=>{o[i]=t}))),ve(1),Object(me.a)(()=>Object.keys(o).length===i.length?Object(xt.a)(o):Kt.a))}(t._resolve,t,e,r).pipe(Object(Qt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Hn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ke.a)(()=>o++),ve(1),Object(me.a)(e=>o===n.length?Object(xt.a)(t):Kt.a))})),Object(ke.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ke.a)(t=>{const e=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Qt.a)(t=>{const e=function(t,e,n){const r=Wn(t,e._root,n?n._root:void 0);return new Vn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ke.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Qt.a)(t=>(new lr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(ke.a)({next(){n=!0},complete(){n=!0}}),Ne(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),de(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=pr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ue(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ve(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(af){t.reject(af)}}var i;return Kt.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){vr(t),this.config=t.map(_r),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return tr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return cn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new nr(n,e,r)}(n);if(o.toRoot())return tr(e.root,new mn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new rr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new rr(t,t===e.root,0)}const r=Xn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new rr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?or(s.segmentGroup,s.index,o.commands):ir(s.segmentGroup,s.index,o.commands);return tr(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=pr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(jw){e=this.malformedUriErrorHandler(jw,this.urlSerializer,t)}return e}isActive(t,e){if(pr(t))return hn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return hn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.gc(r.U),r.gc(yn),r.gc(ri),r.gc(_),r.gc(r.v),r.gc(r.C),r.gc(r.j),r.gc(void 0))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})(),ci=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new kt.a,this.subscription=t.events.subscribe(t=>{t instanceof Fe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:li(this.skipLocationChange),replaceUrl:li(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:li(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ui),r.Ub(Bn),r.Ub(m))},t.\u0275dir=r.Pb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.jc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.cc("href",e.href,r.Bc),r.Jb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Gb]}),t})();function li(t){return""===t||!!t}let hi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.q,this.deactivateEvents=new r.q,this.name=i||Je,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ri),r.Ub(r.X),r.Ub(r.l),r.hc("name"),r.Ub(r.i))},t.\u0275dir=r.Pb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Bn?this.route:t===ri?this.childContexts:this.parent.get(t,e)}}class di{}class pi{preload(t,e){return Object(xt.a)(null)}}let gi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ei(e,n,e=>t.triggerEvent(new Ye(e)),e=>t.triggerEvent(new Ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(le(t=>t instanceof Fe),be(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.D);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(At.a)(n).pipe(Object(Yt.a)(),Object(Qt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(xt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.gc(ui),r.gc(r.C),r.gc(r.j),r.gc(r.v),r.gc(di))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})(),mi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Xe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.gc(ui),r.gc(W),r.gc(void 0))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();const bi=new r.u("ROUTER_CONFIGURATION"),vi=new r.u("ROUTER_FORROOT_GUARD"),yi=[_,{provide:yn,useClass:wn},{provide:ui,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ui(null,t,e,n,r,i,s,an(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[yn,ri,_,r.v,r.C,r.j,ti,bi,[class{},new r.G],[class{},new r.G]]},ri,{provide:Bn,useFactory:function(t){return t.routerState.root},deps:[ui]},{provide:r.C,useClass:r.R},gi,pi,class{preload(t,e){return e().pipe(de(()=>Object(xt.a)(null)))}},{provide:bi,useValue:{enableTracing:!1}}];function wi(){return new r.E("Router",ui)}let _i=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[yi,Oi(e),{provide:vi,useFactory:Si,deps:[[ui,new r.G,new r.Q]]},{provide:bi,useValue:n||{}},{provide:m,useFactory:Ei,deps:[a,[new r.s(v),new r.G],bi]},{provide:mi,useFactory:Ii,deps:[ui,W,bi]},{provide:di,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:pi},{provide:r.E,multi:!0,useFactory:wi},[Ti,{provide:r.d,multi:!0,useFactory:Ci,deps:[Ti]},{provide:xi,useFactory:Ai,deps:[Ti]},{provide:r.b,multi:!0,useExisting:xi}]]}}static forChild(e){return{ngModule:t,providers:[Oi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.gc(vi,8),r.gc(ui,8))},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})();function Ii(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mi(t,e,n)}function Ei(t,e,n={}){return n.useHash?new w(t,e):new y(t,e)}function Si(t){return"guarded"}function Oi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ti,multi:!0,useValue:t}]}let Ti=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ui),r=this.injector.get(bi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(xt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(bi),n=this.injector.get(gi),i=this.injector.get(mi),o=this.injector.get(ui),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.gc(r.v))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac}),t})();function Ci(t){return t.appInitializer.bind(t)}function Ai(t){return t.bootstrapListener.bind(t)}const xi=new r.u("Router Initializer");var ki=n("mrSG"),Ri=n("XoHu");function ji(t,e){return new Ut.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(At.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Ni{}const Pi=new r.u("NgValueAccessor"),Di={provide:Pi,useExisting:Object(r.bb)(()=>Mi),multi:!0},Li=new r.u("CompositionEventMode");let Mi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.L),r.Ub(r.o),r.Ub(Li,8))},t.\u0275dir=r.Pb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.jc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Hb([Di])]}),t})();function Fi(t){return null==t||0===t.length}function Ui(t){return null!=t&&"number"==typeof t.length}const Vi=new r.u("NgValidators"),qi=new r.u("NgAsyncValidators"),Bi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hi{static min(t){return function(t){return e=>{if(Fi(e.value)||Fi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Fi(e.value)||Fi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Fi(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Fi(t.value)||Bi.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Fi(e.value)||!Ui(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ui(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Gi;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Fi(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Wi(t)}static composeAsync(t){return Xi(t)}}function Gi(t){return null}function zi(t){return null!=t}function Yi(t){const e=Object(r.yb)(t)?Object(At.a)(t):t;return Object(r.xb)(e),e}function Zi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ki(t,e){return e.map(e=>e(t))}function $i(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Wi(t){if(!t)return null;const e=t.filter(zi);return 0==e.length?null:function(t){return Zi(Ki(t,e))}}function Qi(t){return null!=t?Wi($i(t)):null}function Xi(t){if(!t)return null;const e=t.filter(zi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Pt.a)(e))return ji(e,null);if(Object(Ri.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ji(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ji(t=1===t.length&&Object(Pt.a)(t[0])?t[0]:t,null).pipe(Object(Qt.a)(t=>e(...t)))}return ji(t,null)}(Ki(t,e).map(Yi)).pipe(Object(Qt.a)(Zi))}}function Ji(t){return null!=t?Xi($i(t)):null}function to(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eo(t){return t._rawValidators}function no(t){return t._rawAsyncValidators}let ro=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Pb({type:t}),t})(),io=(()=>{class t extends ro{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return oo(e||t)},t.\u0275dir=r.Pb({type:t,features:[r.Fb]}),t})();const oo=r.bc(io);class so extends ro{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ao{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let uo=(()=>{class t extends ao{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(so,2))},t.\u0275dir=r.Pb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Mb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Fb]}),t})(),co=(()=>{class t extends ao{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(io,10))},t.\u0275dir=r.Pb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Mb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Fb]}),t})();function lo(t,e){po(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ho(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),go(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fo(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function po(t,e,n){const r=eo(t);null!==e.validator?t.setValidators(to(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=no(t);if(null!==e.asyncValidator?t.setAsyncValidators(to(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();fo(e._rawValidators,n),fo(e._rawAsyncValidators,n)}}function go(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=eo(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=no(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};fo(e._rawValidators,t),fo(e._rawAsyncValidators,t)}return r}function mo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bo(t,e){po(t,e,!1)}function vo(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function yo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wo="VALID",_o="INVALID",Io="PENDING",Eo="DISABLED";function So(t){return(Ao(t)?t.validators:t)||null}function Oo(t){return Array.isArray(t)?Qi(t):t||null}function To(t,e){return(Ao(e)?e.asyncValidators:t)||null}function Co(t){return Array.isArray(t)?Ji(t):t||null}function Ao(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Oo(this._rawValidators),this._composedAsyncValidatorFn=Co(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wo}get invalid(){return this.status===_o}get pending(){return this.status==Io}get disabled(){return this.status===Eo}get enabled(){return this.status!==Eo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Oo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Co(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Io,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Eo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wo,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wo&&this.status!==Io||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eo:wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Io,this._hasOwnPendingAsyncValidator=!0;const e=Yi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ro?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof jo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.q,this.statusChanges=new r.q}_calculateStatus(){return this._allControlsDisabled()?Eo:this.errors?_o:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Io)?Io:this._anyControlsHaveStatus(_o)?_o:wo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ao(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ko extends xo{constructor(t=null,e,n){super(So(e),To(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yo(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yo(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ro extends xo{constructor(t,e,n){super(So(e),To(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ko?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class jo extends xo{constructor(t,e,n){super(So(e),To(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ko?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const No={provide:io,useExisting:Object(r.bb)(()=>Do)},Po=(()=>Promise.resolve(null))();let Do=(()=>{class t extends io{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.q,this.form=new Ro({},Qi(t),Ji(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Po.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),lo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Po.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),yo(this._directives,t)})}addFormGroup(t){Po.then(()=>{const e=this._findContainer(t.path),n=new Ro({});bo(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Po.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Po.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vo(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Vi,10),r.Ub(qi,10))},t.\u0275dir=r.Pb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.jc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Hb([No]),r.Fb]}),t})(),Lo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Pb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Mo={provide:Pi,useExisting:Object(r.bb)(()=>Fo),multi:!0};let Fo=(()=>{class t extends Ni{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.L),r.Ub(r.o))},t.\u0275dir=r.Pb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.jc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Hb([Mo]),r.Fb]}),t})(),Uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})();const Vo=new r.u("NgModelWithFormControlWarning"),qo={provide:io,useExisting:Object(r.bb)(()=>Bo)};let Bo=(()=>{class t extends io{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.q,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(go(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return lo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ho(t.control||null,t,!1),yo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vo(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(ho(e||null,t),n instanceof ko&&(lo(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);bo(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return go(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){po(this.form,this,!1),this._oldForm&&go(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Vi,10),r.Ub(qi,10))},t.\u0275dir=r.Pb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.jc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Hb([qo]),r.Fb,r.Gb]}),t})();const Ho={provide:so,useExisting:Object(r.bb)(()=>Go)};let Go=(()=>{class t extends so{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.q,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Mi?n=t:Object.getPrototypeOf(t.constructor)===Ni?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(io,13),r.Ub(Vi,10),r.Ub(qi,10),r.Ub(Pi,10),r.Ub(Vo,8))},t.\u0275dir=r.Pb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Hb([Ho]),r.Fb,r.Gb]}),t._ngModelWarningSentOnce=!1,t})(),zo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[Uo]]}),t})(),Yo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[zo]}),t})(),Zo=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[zo]}),t})(),Ko=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Ro(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new ko(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new jo(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ko||t instanceof Ro||t instanceof jo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Qb)({factory:function(){return new t},token:t,providedIn:Zo}),t})();var $o=n("Jgta"),Wo=(n("6nsN"),n("VRyK")),Qo=n("pxpQ"),Xo=n("qgXg"),Jo=n("Ylt2");class ts extends kt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new es(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Rt.a;if(this.isStopped||this.hasError?o=je.a.EMPTY:(this.observers.push(t),o=new Jo.a(this,t)),r&&t.add(t=new Qo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Xo.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class es{constructor(t,e){this.time=t,this.value=e}}function ns(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new ts(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function rs(t,e){return e?Jt(()=>t,e):Jt(()=>t)}var is=n("tf+s"),os=n("spgP");const ss=new r.u("angularfire2.auth.use-emulator"),as=new r.u("angularfire2.auth.settings"),us=new r.u("angularfire2.auth.tenant-id"),cs=new r.u("angularfire2.auth.langugage-code"),ls=new r.u("angularfire2.auth.use-device-language"),hs=new r.u("angularfire.auth.persistence");let fs=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new os.d(i),f=Object(os.h)(h),d=new kt.a,p=Object(xt.a)(void 0).pipe(Object(Qo.b)(h.outsideAngular),Jt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"6nsN")))),Object(Qt.a)(()=>Object(os.g)(t,i,e)),Object(Qt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(os.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ns({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(xt.a)(null);else{p.pipe(xe()).subscribe();const t=p.pipe(Jt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ns({bufferSize:1,refCount:!1})),e=t=>new Ut.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Jt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Jt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(rs(n),Object(is.a)(h.outsideAngular),Object(Qo.b)(h.insideAngular)),this.user=t.pipe(rs(r),Object(is.a)(h.outsideAngular),Object(Qo.b)(h.insideAngular)),this.idToken=this.user.pipe(Jt(t=>t?Object(At.a)(t.getIdToken()):Object(xt.a)(null))),this.idTokenResult=this.user.pipe(Jt(t=>t?Object(At.a)(t.getIdTokenResult()):Object(xt.a)(null))),this.credential=Object(Wo.a)(t,d,this.authState.pipe(le(t=>!t))).pipe(Object(Qt.a)(t=>(null==t?void 0:t.user)?t:null),Object(is.a)(h.outsideAngular),Object(Qo.b)(h.insideAngular))}return Object(os.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.gc(os.c),r.gc(os.b,8),r.gc(r.I),r.gc(r.F),r.gc(ss,8),r.gc(as,8),r.gc(us,8),r.gc(cs,8),r.gc(ls,8),r.gc(hs,8))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(os.c),Object(r.gc)(os.b,8),Object(r.gc)(r.I),Object(r.gc)(r.F),Object(r.gc)(ss,8),Object(r.gc)(as,8),Object(r.gc)(us,8),Object(r.gc)(cs,8),Object(r.gc)(ls,8),Object(r.gc)(hs,8))},token:t,providedIn:"any"}),t})();Object(os.e)(fs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ds=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:[fs]}),t})(),ps=(()=>{class t{constructor(t,e){this.afServ=t,this.router=e}loginGoogle(){return Object(ki.b)(this,void 0,void 0,function*(){try{this.afServ.signInWithPopup(new $o.a.auth.GoogleAuthProvider)}catch(t){console.log(t)}})}register(t,e){return Object(ki.b)(this,void 0,void 0,function*(){return yield this.afServ.createUserWithEmailAndPassword(t,e)})}updateInfoUser(){}login(t,e){return Object(ki.b)(this,void 0,void 0,function*(){const n=yield this.afServ.signInWithEmailAndPassword(t,e);return this.router.navigate(["Inicio"]),n})}logout(){return Object(ki.b)(this,void 0,void 0,function*(){const t=yield this.afServ.signOut();return this.router.navigate(["home"]),t})}getUserCurrent(){return this.afServ.authState}}return t.\u0275fac=function(e){return new(e||t)(r.gc(fs),r.gc(ui))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gs=function(){return["/register"]};let ms=(()=>{class t{constructor(t,e){this.authServ=t,this.router=e,this.loginForm=new Ro({email:new ko(""),password:new ko("")})}ngOnInit(){}onLogin(){return Object(ki.b)(this,void 0,void 0,function*(){const{email:t,password:e}=this.loginForm.value;try{(yield this.authServ.login(t,e))&&this.router.navigate(["principal"])}catch(n){console.log(n)}})}onGoogleLogin(){try{this.authServ.loginGoogle(),this.router.navigate(["principal"])}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps),r.Ub(ui))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"row",2,"margin-top","3.5%","margin-bottom","3.5%"],[1,"col-md-4","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-block","btn-lg","btn-email","btn-primary","mt-3"],[1,"btn","btn-block","btn-lg","btn-google","mt-3",3,"click"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"h1",4),r.Gc(5,"Inicia Sesion"),r.Yb(),r.Zb(6,"form",5),r.jc("ngSubmit",function(){return e.onLogin()}),r.Zb(7,"div",6),r.Zb(8,"label",7),r.Gc(9,"Correo"),r.Yb(),r.Vb(10,"input",8),r.Yb(),r.Zb(11,"div",6),r.Zb(12,"label",9),r.Gc(13,"Contrase\xf1a"),r.Yb(),r.Vb(14,"input",10),r.Yb(),r.Zb(15,"button",11),r.Gc(16,"Login"),r.Yb(),r.Yb(),r.Zb(17,"div",6),r.Zb(18,"button",12),r.jc("click",function(){return e.onGoogleLogin()}),r.Gc(19,"Google"),r.Yb(),r.Yb(),r.Zb(20,"div",13),r.Zb(21,"p"),r.Gc(22,"Crea una Cuenta "),r.Zb(23,"a",14),r.Gc(24," Registrar"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Ib(6),r.rc("formGroup",e.loginForm),r.Ib(17),r.rc("routerLink",r.uc(2,gs)))},directives:[Lo,co,Bo,Mi,uo,Go,ci],styles:[".btn-google[_ngcontent-%COMP%]{background-color:#dd4b39;color:#fff;width:100%}.btn-email[_ngcontent-%COMP%]{width:100%}"]}),t})();var bs=n("D0XW");function vs(){return t=>t.lift(new ys)}class ys{call(t,e){return e.subscribe(new ws(t))}}class ws extends Dt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class _s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Is(t,this.compare,this.keySelector))}}class Is extends Dt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Es=n("zIRd"),Ss=n("qOnz"),Os=n("q/0M"),Ts=function(t,e){return(Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Cs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var As,xs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ks=ks||{},Rs=xs||self;function js(){}function Ns(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ps(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ds="closure_uid_"+(1e9*Math.random()>>>0),Ls=0;function Ms(t,e,n){return t.call.apply(t.bind,arguments)}function Fs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Us(t,e,n){return(Us=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ms:Fs).apply(null,arguments)}function Vs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function qs(){return Date.now()}function Bs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Hs(){this.j=this.j,this.i=this.i}Hs.prototype.j=!1,Hs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ds)&&t[Ds]||(t[Ds]=++Ls)}(this)},Hs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Gs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ys(t){return Array.prototype.concat.apply([],arguments)}function Zs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ks(t){return/^[\s\xa0]*$/.test(t)}var $s,Ws=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qs(t,e){return-1!=t.indexOf(e)}function Xs(t,e){return t<e?-1:t>e?1:0}t:{var Js=Rs.navigator;if(Js){var ta=Js.userAgent;if(ta){$s=ta;break t}}$s=""}function ea(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function na(t){var e={};for(var n in t)e[n]=t[n];return e}var ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ia(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ra.length;o++)n=ra[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oa(t){return oa[" "](t),t}oa[" "]=js;var sa,aa,ua=Qs($s,"Opera"),ca=Qs($s,"Trident")||Qs($s,"MSIE"),la=Qs($s,"Edge"),ha=la||ca,fa=Qs($s,"Gecko")&&!(Qs($s.toLowerCase(),"webkit")&&!Qs($s,"Edge"))&&!(Qs($s,"Trident")||Qs($s,"MSIE"))&&!Qs($s,"Edge"),da=Qs($s.toLowerCase(),"webkit")&&!Qs($s,"Edge");function pa(){var t=Rs.document;return t?t.documentMode:void 0}t:{var ga="",ma=(aa=$s,fa?/rv:([^\);]+)(\)|;)/.exec(aa):la?/Edge\/([\d\.]+)/.exec(aa):ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(aa):da?/WebKit\/(\S+)/.exec(aa):ua?/(?:Version)[ \/]?(\S+)/.exec(aa):void 0);if(ma&&(ga=ma?ma[1]:""),ca){var ba=pa();if(null!=ba&&ba>parseFloat(ga)){sa=String(ba);break t}}sa=ga}var va={};function ya(t){return function(t,e){var n=va;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ws(String(sa)).split("."),r=Ws(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Xs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Xs(0==s[2].length,0==a[2].length)||Xs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var wa=Rs.document&&ca&&(pa()||parseInt(sa,10))||void 0,_a=!ca||9<=Number(wa),Ia=ca&&!ya("9"),Ea=function(){if(!Rs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Rs.addEventListener("test",js,e),Rs.removeEventListener("test",js,e)}catch(n){}return t}();function Sa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Oa(t,e){if(Sa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(fa){t:{try{oa(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ta[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Sa.prototype.b=function(){this.defaultPrevented=!0},Bs(Oa,Sa);var Ta={2:"touch",3:"pen",4:"mouse"};Oa.prototype.b=function(){Oa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ia)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ca="closure_listenable_"+(1e6*Math.random()|0),Aa=0;function xa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Aa,this.Y=this.Z=!1}function ka(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ra(t){this.src=t,this.a={},this.b=0}function ja(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Gs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ka(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Na(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ra.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Na(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new xa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Pa="closure_lm_"+(1e6*Math.random()|0),Da={};function La(t,e,n,r,i){if(r&&r.once)return Fa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)La(t,e[o],n,r,i);return null}return n=Ya(n),t&&t[Ca]?t.va(e,n,Ps(r)?!!r.capture:!!r,i):Ma(t,e,n,!1,r,i)}function Ma(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ps(i)?!!i.capture:!!i;if(s&&!_a)return null;var a=Ga(t);if(a||(t[Pa]=a=new Ra(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ha,e=_a?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ea||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Fa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fa(t,e[o],n,r,i);return null}return n=Ya(n),t&&t[Ca]?t.wa(e,n,Ps(r)?!!r.capture:!!r,i):Ma(t,e,n,!0,r,i)}function Ua(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ua(t,e[o],n,r,i);else r=Ps(r)?!!r.capture:!!r,n=Ya(n),t&&t[Ca]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Na(o=t.a[e],n,r,i))&&(ka(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ga(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Na(e,n,r,i)),(n=-1<t?e[t]:null)&&Va(n))}function Va(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ca])ja(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ga(e))?(ja(n,t),0==n.b&&(n.src=null,e[Pa]=null)):ka(t)}}}function qa(t){return t in Da?Da[t]:Da[t]="on"+t}function Ba(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Va(t),n.call(r,e)}function Ha(t,e){if(t.Y)return!0;if(!_a){if(!e)t:{e=["window","event"];for(var n=Rs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ba(t,e=new Oa(e,this))}return Ba(t,new Oa(e,this))}function Ga(t){return(t=t[Pa])instanceof Ra?t:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ya(t){return"function"==typeof t?t:(t[za]||(t[za]=function(e){return t.handleEvent(e)}),t[za])}function Za(){Hs.call(this),this.c=new Ra(this),this.J=this,this.C=null}function Ka(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Sa(e,t);else if(e instanceof Sa)e.target=e.target||t;else{var i=e;ia(e=new Sa(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=$a(s,r,!0,e)&&i}if(i=$a(s=e.a=t,r,!0,e)&&i,i=$a(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=$a(s=e.a=n[o],r,!1,e)&&i}function $a(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ja(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Bs(Za,Hs),Za.prototype[Ca]=!0,(As=Za.prototype).addEventListener=function(t,e,n,r){La(this,t,e,n,r)},As.removeEventListener=function(t,e,n,r){Ua(this,t,e,n,r)},As.G=function(){if(Za.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ka(n[r]);delete e.a[t],e.b--}}this.C=null},As.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},As.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Wa=Rs.JSON.stringify;function Qa(){this.b=this.a=null}var Xa,Ja=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new eu},function(t){t.reset()});function tu(){var t=ou,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function eu(){this.next=this.b=this.a=null}function nu(t){Rs.setTimeout(function(){throw t},0)}function ru(t,e){Xa||function(){var t=Rs.Promise.resolve(void 0);Xa=function(){t.then(su)}}(),iu||(Xa(),iu=!0),ou.add(t,e)}Qa.prototype.add=function(t,e){var n=Ja.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},eu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},eu.prototype.reset=function(){this.next=this.b=this.a=null};var iu=!1,ou=new Qa;function su(){for(var t;t=tu();){try{t.a.call(t.b)}catch(n){nu(n)}var e=Ja;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}iu=!1}function au(t,e){Za.call(this),this.b=t||1,this.a=e||Rs,this.f=Us(this.Za,this),this.g=qs()}function uu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function cu(t,e,n){if("function"==typeof t)n&&(t=Us(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Us(t.handleEvent,t)}return 2147483647<Number(e)?-1:Rs.setTimeout(t,e||0)}function lu(t){t.a=cu(function(){t.a=null,t.c&&(t.c=!1,lu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Bs(au,Za),(As=au.prototype).aa=!1,As.M=null,As.Za=function(){if(this.aa){var t=qs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ka(this,"tick"),this.aa&&(uu(this),this.start()))}},As.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qs())},As.G=function(){au.X.G.call(this),uu(this),delete this.a};var hu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ts(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:lu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Rs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Hs);function fu(t){Hs.call(this),this.b=t,this.a={}}Bs(fu,Hs);var du=[];function pu(t,e,n,r){Array.isArray(n)||(n&&(du[0]=n.toString()),n=du);for(var i=0;i<n.length;i++){var o=La(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function gu(t){ea(t.a,function(t,e){this.a.hasOwnProperty(e)&&Va(t)},t),t.a={}}function mu(){this.a=!0}function bu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Wa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}fu.prototype.G=function(){fu.X.G.call(this),gu(this)},fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mu.prototype.info=function(){};var vu={},yu=null;function wu(){return yu=yu||new Za}function _u(t){Sa.call(this,vu.Fa,t)}function Iu(t){var e=wu();Ka(e,new _u(e,t))}function Eu(t,e){Sa.call(this,vu.STAT_EVENT,t),this.stat=e}function Su(t){var e=wu();Ka(e,new Eu(e,t))}function Ou(t){Sa.call(this,vu.Ga,t)}function Tu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Rs.setTimeout(function(){t()},e)}vu.Fa="serverreachability",Bs(_u,Sa),vu.STAT_EVENT="statevent",Bs(Eu,Sa),vu.Ga="timingevent",Bs(Ou,Sa);var Cu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Au={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function xu(){}function ku(){}xu.prototype.a=null;var Ru,ju={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Nu(){Sa.call(this,"d")}function Pu(){Sa.call(this,"c")}function Du(){}function Lu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new fu(this),this.P=Mu,this.R=new au(t=ha?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Bs(Nu,Sa),Bs(Pu,Sa),Bs(Du,xu),Ru=new Du;var Mu=45e3,Fu={},Uu={};function Vu(t,e,n){t.H=1,t.i=uc(nc(e)),t.j=n,t.I=!0,qu(t,null)}function qu(t,e){t.u=qs(),Gu(t),t.l=nc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),_c(n.b,"t",r),t.D=0,t.a=gl(t.g,t.g.C?e:null),0<t.O&&(t.F=new hu(Us(t.Ca,t,t.a),t.O)),pu(t.J,t.a,"readystatechange",t.Xa),e=t.B?na(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Iu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Bu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Hu(t,n);if(i==Uu){4==e&&(t.h=4,Su(14),r=!1),bu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Fu){t.h=4,Su(15),bu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}bu(t.c,t.f,i,null),$u(t,i)}4==e&&0==n.length&&(t.h=1,Su(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),al(e),e.F=!0,Su(11))):(bu(t.c,t.f,n,"[Invalid Chunked Response]"),Ku(t),Zu(t))}function Hu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Uu:(n=Number(e.substring(n,r)),isNaN(n)?Fu:(r+=1)+n>e.length?Uu:(e=e.substr(r,n),t.D=r+n,e))}function Gu(t){t.T=qs()+t.P,zu(t,t.P)}function zu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Tu(Us(t.Va,t),e)}function Yu(t){t.o&&(Rs.clearTimeout(t.o),t.o=null)}function Zu(t){0==t.g.v||t.A||ll(t.g,t)}function Ku(t){Yu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,uu(t.R),gu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function $u(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ac(n.b,t)))if(n.I=t.N,!t.C&&Ac(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Qy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;cl(n),Xc(n)}sl(n),Su(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Tu(Us(n.Sa,n),6e3));if(1>=Cc(n.b)&&n.ea){try{n.ea()}catch(Qy){}n.ea=void 0}}else fl(n,11)}else if((t.C||n.a==t)&&cl(n),!Ks(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Qs(l,"spdy")||Qs(l,"quic")||Qs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(xc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ac(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=qs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=pl(u,u.C?u.ga:null,u.fa),d.C){kc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Yu(p),Gu(p)),u.a=d}else ol(u);0<n.g.length&&el(n)}else"stop"!=i[0]&&"close"!=i[0]||fl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?fl(n,7):Qc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Iu(4)}catch(Qy){}}function Wu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ns(t)||"string"==typeof t)zs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ns(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ns(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ju(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ju(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ju(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(As=Lu.prototype).setTimeout=function(t){this.P=t},As.Xa=function(t){t=t.target;var e=this.F;e&&3==Zc(t)?e.f():this.Ca(t)},As.Ca=function(t){try{if(t==this.a)t:{var e=Zc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ha&&!this.a.$())){this.A||4!=e||7==n||Iu(8==n||0>=r?3:2),Yu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ks(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Su(12),Ku(this),Zu(this);break t}bu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,$u(this,u)}this.I?(Bu(this,e,o),ha&&this.b&&3==e&&(pu(this.J,this.R,"tick",this.Wa),this.R.start())):(bu(this.c,this.f,o,null),$u(this,o)),4==e&&Ku(this),this.b&&!this.A&&(4==e?ll(this.g,this):(this.b=!1,Gu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Su(12)):(this.h=0,Su(13)),Ku(this),Zu(this)}}}catch(c){}},As.Wa=function(){if(this.a){var t=Zc(this.a),e=this.a.$();this.D<e.length&&(Yu(this),Bu(this,t,e),this.b&&4!=t&&Gu(this))}},As.cancel=function(){this.A=!0,Ku(this)},As.Va=function(){this.o=null;var t=qs();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Iu(3),Su(17)),Ku(this),this.h=2,Zu(this)):zu(this,this.T-t)},(As=Qu.prototype).K=function(){Xu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},As.L=function(){return Xu(this),this.a.concat()},As.get=function(t,e){return Ju(this.b,t)?this.b[t]:e},As.set=function(t,e){Ju(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},As.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var tc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ec(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ec){this.a=void 0!==e?e:t.a,rc(this,t.f),this.j=t.j,ic(this,t.c),oc(this,t.h),this.g=t.g,e=t.b;var n=new bc;n.c=e.c,e.a&&(n.a=new Qu(e.a),n.b=e.b),sc(this,n),this.i=t.i}else t&&(n=String(t).match(tc))?(this.a=!!e,rc(this,n[1]||"",!0),this.j=cc(n[2]||""),ic(this,n[3]||"",!0),oc(this,n[4]),this.g=cc(n[5]||"",!0),sc(this,n[6]||"",!0),this.i=cc(n[7]||"")):(this.a=!!e,this.b=new bc(null,this.a))}function nc(t){return new ec(t)}function rc(t,e,n){t.f=n?cc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ic(t,e,n){t.c=n?cc(e,!0):e}function oc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function sc(t,e,n){e instanceof bc?(t.b=e,function(t,e){e&&!t.f&&(vc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(yc(this,e),_c(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=lc(e,gc)),t.b=new bc(e,t.a))}function ac(t,e,n){t.b.set(e,n)}function uc(t){return ac(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qs()).toString(36)),t}function cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ec.prototype.toString=function(){var t=[],e=this.f;e&&t.push(lc(e,fc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(lc(e,fc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(lc(n,"/"==n.charAt(0)?pc:dc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",lc(n,mc)),t.join("")};var fc=/[#\/\?@]/g,dc=/[#\?:]/g,pc=/[#\?]/g,gc=/[#\?@]/g,mc=/#/g;function bc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function vc(t){t.a||(t.a=new Qu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yc(t,e){vc(t),e=Ic(t,e),Ju(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ju((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xu(t)))}function wc(t,e){return vc(t),e=Ic(t,e),Ju(t.a.b,e)}function _c(t,e,n){yc(t,e),0<n.length&&(t.c=null,t.a.set(Ic(t,e),Zs(n)),t.b+=n.length)}function Ic(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(As=bc.prototype).add=function(t,e){vc(this),this.c=null,t=Ic(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},As.forEach=function(t,e){vc(this),this.a.forEach(function(n,r){zs(n,function(n){t.call(e,n,r,this)},this)},this)},As.L=function(){vc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},As.K=function(t){vc(this);var e=[];if("string"==typeof t)wc(this,t)&&(e=Ys(e,this.a.get(Ic(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ys(e,t[n])}return e},As.set=function(t,e){return vc(this),this.c=null,wc(this,t=Ic(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},As.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},As.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ec=function(){return function(t,e){this.b=t,this.a=e}}();function Sc(t){this.g=t||Oc,t=Rs.PerformanceNavigationTiming?0<(t=Rs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Rs.ia&&Rs.ia.ya&&Rs.ia.ya()&&Rs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Oc=10;function Tc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Cc(t){return t.b?1:t.a?t.a.size:0}function Ac(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function xc(t,e){t.a?t.a.add(e):t.b=e}function kc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Rc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Cs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Zs(t.c)}function jc(){}function Nc(){this.a=new jc}function Pc(t,e,n){var r=n||"";try{Wu(t,function(t,n){var i=t;Ps(t)&&(i=Wa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(jw){throw e.push(r+"type="+encodeURIComponent("_badmap")),jw}}function Dc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Sc.prototype.cancel=function(){var t,e;if(this.c=Rc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Cs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jc.prototype.stringify=function(t){return Rs.JSON.stringify(t,void 0)},jc.prototype.parse=function(t){return Rs.JSON.parse(t,void 0)};var Lc=Rs.JSON.parse;function Mc(t){Za.call(this),this.headers=new Qu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Fc,this.D=this.F=!1}Bs(Mc,Za);var Fc="",Uc=/^https?$/i,Vc=["POST","PUT"];function qc(t){return"content-type"==t.toLowerCase()}function Bc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Hc(t),zc(t)}function Hc(t){t.u||(t.u=!0,Ka(t,"complete"),Ka(t,"error"))}function Gc(t){if(t.b&&void 0!==ks&&(!t.s[1]||4!=Zc(t)||2!=t.W()))if(t.l&&4==Zc(t))cu(t.za,0,t);else if(Ka(t,"readystatechange"),4==Zc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(tc)[1]||null;if(!o&&Rs.self&&Rs.self.location){var s=Rs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Uc.test(o?o.toLowerCase():"")}e=i}if(e)Ka(t,"complete"),Ka(t,"success");else{t.h=6;try{var a=2<Zc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Hc(t)}}finally{zc(t)}}}function zc(t,e){if(t.a){Yc(t);var n=t.a,r=t.s[0]?js:null;t.a=null,t.s=null,e||Ka(t,"ready");try{n.onreadystatechange=r}catch(jw){}}}function Yc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Rs.clearTimeout(t.m),t.m=null)}function Zc(t){return t.a?t.a.readyState:0}function Kc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ea(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ac(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wc(t){this.pa=0,this.g=[],this.c=new mu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=$c("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=$c("baseRetryDelayMs",5e3,t),this.Ra=$c("retryDelaySeedMs",1e4,t),this.Ma=$c("forwardChannelMaxRetries",2,t),this.ma=$c("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Sc(t&&t.concurrentRequestLimit),this.ka=new Nc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qc(t){if(Jc(t),3==t.v){var e=t.R++,n=nc(t.B);ac(n,"SID",t.J),ac(n,"RID",e),ac(n,"TYPE","terminate"),rl(t,n),(e=new Lu(t,t.c,e,void 0)).H=2,e.i=uc(nc(n)),n=!1,Rs.navigator&&Rs.navigator.sendBeacon&&(n=Rs.navigator.sendBeacon(e.i.toString(),"")),!n&&Rs.Image&&((new Image).src=e.i,n=!0),n||(e.a=gl(e.g,null),e.a.ba(e.i)),e.u=qs(),Gu(e)}dl(t)}function Xc(t){t.a&&(al(t),t.a.cancel(),t.a=null)}function Jc(t){Xc(t),t.j&&(Rs.clearTimeout(t.j),t.j=null),cl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Rs.clearTimeout(t.h),t.h=null)}function tl(t,e){t.g.push(new Ec(t.Oa++,e)),3==t.v&&el(t)}function el(t){Tc(t.b)||t.h||(t.h=!0,ru(t.Ba,t),t.u=0)}function nl(t,e){var n;n=e?e.f:t.R++;var r=nc(t.B);ac(r,"SID",t.J),ac(r,"RID",n),ac(r,"AID",t.P),rl(t,r),t.i&&t.l&&Kc(r,t.i,t.l),n=new Lu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=il(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),xc(t.b,n),Vu(n,r,e)}function rl(t,e){t.f&&Wu({},function(t,n){ac(e,n,t)})}function il(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Us(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Pc(l,s,"req"+c+"_")}catch(Yl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ol(t){t.a||t.j||(t.T=1,ru(t.Aa,t),t.o=0)}function sl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Tu(Us(t.Aa,t),hl(t,t.o)),t.o++,0))}function al(t){null!=t.s&&(Rs.clearTimeout(t.s),t.s=null)}function ul(t){t.a=new Lu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=nc(t.la);ac(e,"RID","rpc"),ac(e,"SID",t.J),ac(e,"CI",t.H?"0":"1"),ac(e,"AID",t.P),rl(t,e),ac(e,"TYPE","xmlhttp"),t.i&&t.l&&Kc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=uc(nc(e)),n.j=null,n.I=!0,qu(n,t)}function cl(t){null!=t.m&&(Rs.clearTimeout(t.m),t.m=null)}function ll(t,e){var n=null;if(t.a==e){cl(t),al(t),t.a=null;var r=2}else{if(!Ac(t.b,e))return;n=e.s,kc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qs()-e.u;var i=t.u;Ka(r=wu(),new Ou(r,n,e,i)),el(t)}else ol(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Tu(Us(t.Ba,t,e),hl(t,t.u)),t.u++,0)))}(t,e)||2==r&&sl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fl(t,5);break;case 4:fl(t,10);break;case 3:fl(t,6);break;default:fl(t,2)}}function hl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function fl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Us(t.Ya,t);n||(n=new ec("//www.google.com/images/cleardot.gif"),Rs.location&&"http"==Rs.location.protocol||rc(n,"https"),uc(n)),function(t,e){var n=new mu;if(Rs.Image){var r=new Image;r.onload=Vs(Dc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vs(Dc,n,r,"TestLoadImage: error",!1,e),r.onabort=Vs(Dc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vs(Dc,n,r,"TestLoadImage: timeout",!1,e),Rs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Su(2);t.v=0,t.f&&t.f.ra(e),dl(t),Jc(t)}function dl(t){t.v=0,t.I=-1,t.f&&(0==Rc(t.b).length&&0==t.g.length||(t.b.c.length=0,Zs(t.g),t.g.length=0),t.f.qa())}function pl(t,e,n){var r=function(t){return t instanceof ec?nc(t):new ec(t,void 0)}(n);if(""!=r.c)e&&ic(r,e+"."+r.c),oc(r,r.h);else{var i=Rs.location;r=function(t,e,n,r){var i=new ec(null,void 0);return t&&rc(i,t),e&&ic(i,e),n&&oc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ea(t.V,function(t,e){ac(r,e,t)}),n=t.na,(e=t.A)&&n&&ac(r,e,n),ac(r,"VER",t.ha),rl(t,r),r}function gl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mc(t.Na)).F=t.C,e}function ml(){}function bl(){if(ca&&!(10<=Number(wa)))throw Error("Environmental error: no available transport.")}function vl(t,e){Za.call(this),this.a=new Wc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ks(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ks(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new _l(this)}function yl(t){Nu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function wl(){Pu.call(this),this.status=1}function _l(t){this.a=t}(As=Mc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ru),this.a.onreadystatechange=Us(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Bc(this,o)}t=n||"";var i=new Qu(this.headers);r&&Wu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=qc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Rs.FormData&&t instanceof Rs.FormData,!(0<=Gs(Vc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yc(this),0<this.o&&((this.D=function(t){return ca&&ya(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Us(this.xa,this)):this.m=cu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Bc(this,o)}},As.xa=function(){void 0!==ks&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ka(this,"timeout"),this.abort(8))},As.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ka(this,"complete"),Ka(this,"abort"),zc(this))},As.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),zc(this,!0)),Mc.X.G.call(this)},As.za=function(){this.j||(this.A||this.l||this.g?Gc(this):this.Ua())},As.Ua=function(){Gc(this)},As.W=function(){try{return 2<Zc(this)?this.a.status:-1}catch(aa){return-1}},As.$=function(){try{return this.a?this.a.responseText:""}catch(aa){return""}},As.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Lc(e)}},As.ua=function(){return this.h},As.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(As=Wc.prototype).ha=8,As.v=1,As.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Lu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ia(r=na(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=il(this,n,e),ac(i=nc(this.B),"RID",t),ac(i,"CVER",22),this.A&&ac(i,"X-HTTP-Session-Id",this.A),rl(this,i),this.i&&r&&Kc(i,this.i,r),xc(this.b,n),this.Ia&&ac(i,"TYPE","init"),this.da?(ac(i,"$req",e),ac(i,"SID","null"),n.U=!0,Vu(n,i,null)):Vu(n,i,e),this.v=2}}else 3==this.v&&(t?nl(this,t):0==this.g.length||Tc(this.b)||nl(this))},As.Aa=function(){if(this.j=null,ul(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Tu(Us(this.Ta,this),t)}},As.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Su(10),Xc(this),ul(this))},As.Sa=function(){null!=this.m&&(this.m=null,Xc(this),sl(this),Su(19))},As.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Su(2)):(this.c.info("Failed to ping google.com"),Su(1))},(As=ml.prototype).ta=function(){},As.sa=function(){},As.ra=function(){},As.qa=function(){},As.Ja=function(){},bl.prototype.a=function(t,e){return new vl(t,e)},Bs(vl,Za),vl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Su(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=pl(t,null,t.fa),el(t)},vl.prototype.close=function(){Qc(this.a)},vl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,tl(this.a,e)}else this.l?((e={}).__data__=Wa(t),tl(this.a,e)):tl(this.a,t)},vl.prototype.G=function(){this.a.f=null,delete this.f,Qc(this.a),delete this.a,vl.X.G.call(this)},Bs(yl,Nu),Bs(wl,Pu),Bs(_l,ml),_l.prototype.ta=function(){Ka(this.a,"a")},_l.prototype.sa=function(t){Ka(this.a,new yl(t))},_l.prototype.ra=function(t){Ka(this.a,new wl(t))},_l.prototype.qa=function(){Ka(this.a,"b")},bl.prototype.createWebChannel=bl.prototype.a,vl.prototype.send=vl.prototype.h,vl.prototype.open=vl.prototype.g,vl.prototype.close=vl.prototype.close,Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Au.COMPLETE="complete",ku.EventType=ju,ju.OPEN="a",ju.CLOSE="b",ju.ERROR="c",ju.MESSAGE="d",Za.prototype.listen=Za.prototype.va,Mc.prototype.listenOnce=Mc.prototype.wa,Mc.prototype.getLastError=Mc.prototype.Qa,Mc.prototype.getLastErrorCode=Mc.prototype.ua,Mc.prototype.getStatus=Mc.prototype.W,Mc.prototype.getResponseJson=Mc.prototype.Pa,Mc.prototype.getResponseText=Mc.prototype.$,Mc.prototype.send=Mc.prototype.ba;var Il=Cu,El=Au,Sl=vu,Ol=ku,Tl=Mc,Cl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Cl.o=-1;var Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ki.c)(e,t),e}(Error),kl=new Os.b("@firebase/firestore");function Rl(){return kl.logLevel}function jl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kl.logLevel<=Os.a.DEBUG){var r=e.map(Dl);kl.debug.apply(kl,Object(ki.f)(["Firestore (8.4.2): "+t],r))}}function Nl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kl.logLevel<=Os.a.ERROR){var r=e.map(Dl);kl.error.apply(kl,Object(ki.f)(["Firestore (8.4.2): "+t],r))}}function Pl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kl.logLevel<=Os.a.WARN){var r=e.map(Dl);kl.warn.apply(kl,Object(ki.f)(["Firestore (8.4.2): "+t],r))}}function Dl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(jw){return t}}function Ll(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Nl(e),new Error(e)}function Ml(t,e){t||Ll()}function Fl(t,e){return t}function Ul(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ul(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ql(t,e){return t<e?-1:t>e?1:0}function Bl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Hl(t){return t+"\0"}var Gl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ql(this.nanoseconds,t.nanoseconds):ql(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Gl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Yl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $l=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ll(),void 0===n?n=t.length-e:n>t.length-e&&Ll(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new xl(Al.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}($l),Ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ql.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xl(Al.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new xl(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xl(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new xl(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}($l),Jl=function(){function t(t){this.fields=t,t.sort(Xl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Bl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),th=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ql(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();th.EMPTY_BYTE_STRING=new th("");var eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(t){if(Ml(!!t),"string"==typeof t){var e=0,n=eh.exec(t);if(Ml(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rh(t.seconds),nanos:rh(t.nanos)}}function rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ih(t){return"string"==typeof t?th.fromBase64String(t):th.fromUint8Array(t)}function oh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(t){var e=t.mapValue.fields.__previous_value__;return oh(e)?sh(e):e}function ah(t){var e=nh(t.mapValue.fields.__local_write_time__.timestampValue);return new Gl(e.seconds,e.nanos)}function uh(t){return null==t}function ch(t){return 0===t&&1/t==-1/0}function lh(t){return"number"==typeof t&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var hh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Wl.fromString(e))},t.fromName=function(e){return new t(Wl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Wl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Wl(e.slice()))},t}();function fh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oh(t)?4:10:Ll()}function dh(t,e){var n=fh(t);if(n!==fh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nh(t.timestampValue),r=nh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ih(t.bytesValue).isEqual(ih(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rh(t.geoPointValue.latitude)===rh(e.geoPointValue.latitude)&&rh(t.geoPointValue.longitude)===rh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rh(t.integerValue)===rh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rh(t.doubleValue),r=rh(e.doubleValue);return n===r?ch(n)===ch(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],dh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yl(n)!==Yl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dh(n[i],r[i])))return!1;return!0}(t,e);default:return Ll()}}function ph(t,e){return void 0!==(t.values||[]).find(function(t){return dh(t,e)})}function gh(t,e){var n=fh(t),r=fh(e);if(n!==r)return ql(n,r);switch(n){case 0:return 0;case 1:return ql(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rh(t.integerValue||t.doubleValue),r=rh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return mh(t.timestampValue,e.timestampValue);case 4:return mh(ah(t),ah(e));case 5:return ql(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ih(t),r=ih(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ql(n[i],r[i]);if(0!==o)return o}return ql(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ql(rh(t.latitude),rh(e.latitude));return 0!==n?n:ql(rh(t.longitude),rh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gh(n[i],r[i]);if(o)return o}return ql(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ql(r[s],o[s]);if(0!==a)return a;var u=gh(n[r[s]],i[o[s]]);if(0!==u)return u}return ql(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ll()}}function mh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ql(t,e);var n=nh(t),r=nh(e),i=ql(n.seconds,r.seconds);return 0!==i?i:ql(n.nanos,r.nanos)}function bh(t){return vh(t)}function vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ih(t.bytesValue).toBase64():"referenceValue"in t?hh.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=vh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+vh(t.fields[o])}return e+"}"}(t.mapValue):Ll();var e}function yh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function wh(t){return!!t&&"integerValue"in t}function _h(t){return!!t&&"arrayValue"in t}function Ih(t){return!!t&&"nullValue"in t}function Eh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}var Oh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Xl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return dh(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===fh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=Sh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Xl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Sh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Th(t){var e=[];return Zl(t.fields||{},function(t,n){var r=new Xl([t]);if(Sh(n)){var i=Th(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Jl(e)}var Ch=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,zl.min(),Oh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Oh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Oh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Oh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Oh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ah=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function xh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ah(t,e,n,r,i,o,s)}function kh(t){var e=Fl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+bh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Hh(e.startAt)),e.endAt&&(n+="|ub:",n+=Hh(e.endAt)),e.h=n}return e.h}function Rh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!dh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zh(t.startAt,e.startAt)&&Zh(t.endAt,e.endAt)}function jh(t){return hh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ki.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ph(t,n,r):"array-contains"===n?new Fh(t,r):"in"===n?new Uh(t,r):"not-in"===n?new Vh(t,r):"array-contains-any"===n?new qh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Dh(t,n):new Lh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(gh(e,this.value)):null!==e&&fh(this.value)===fh(e)&&this.m(gh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ll()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hh.fromName(r.referenceValue),i}return Object(ki.c)(e,t),e.prototype.matches=function(t){var e=hh.comparator(t.key,this.key);return this.m(e)},e}(Nh),Dh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Mh(0,n),r}return Object(ki.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nh),Lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Mh(0,n),r}return Object(ki.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nh);function Mh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return hh.fromName(t.referenceValue)})}var Fh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ki.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return _h(e)&&ph(e.arrayValue,this.value)},e}(Nh),Uh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ki.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ph(this.value.arrayValue,e)},e}(Nh),Vh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ki.c)(e,t),e.prototype.matches=function(t){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ph(this.value.arrayValue,e)},e}(Nh),qh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ki.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!_h(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ph(e.value.arrayValue,t)})},e}(Nh),Bh=function(t,e){this.position=t,this.before=e};function Hh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bh(t)}).join(",")}var Gh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?hh.comparator(hh.fromName(s.referenceValue),n.key):gh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!dh(t.position[n],e.position[n]))return!1;return!0}var Kh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function $h(t,e,n,r,i,o,s,a){return new Kh(t,e,n,r,i,o,s,a)}function Wh(t){return new Kh(t)}function Qh(t){return!uh(t.limit)&&"F"===t.limitType}function Xh(t){return!uh(t.limit)&&"L"===t.limitType}function Jh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function tf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ef(t){return null!==t.collectionGroup}function nf(t){var e=Fl(t);if(null===e.p){e.p=[];var n=tf(e),r=Jh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Gh(n)),e.p.push(new Gh(Xl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Gh(Xl.keyField(),u))}}}return e.p}function rf(t){var e=Fl(t);if(!e.T)if("F"===e.limitType)e.T=xh(e.path,e.collectionGroup,nf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=nf(e);r<i.length;r++){var o=i[r];n.push(new Gh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Bh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Bh(e.startAt.position,!e.startAt.before):null;e.T=xh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function of(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return Rh(rf(t),rf(e))&&t.limitType===e.limitType}function af(t){return kh(rf(t))+"|lt:"+t.limitType}function uf(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+bh(e.value);var e}).join(", ")+"]"),uh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Hh(t.startAt)),t.endAt&&(e+=", endAt: "+Hh(t.endAt)),"Target("+e+")"}(rf(t))+"; limitType="+t.limitType+")"}function cf(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yh(t.startAt,nf(t),e)||t.endAt&&Yh(t.endAt,nf(t),e))}(t,e)}function lf(t){return function(e,n){for(var r=!1,i=0,o=nf(t);i<o.length;i++){var s=o[i],a=hf(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function hf(t,e,n){var r=t.field.isKeyField()?hh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?gh(r,i):Ll()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ll()}}function ff(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function df(t){return{integerValue:""+t}}function pf(t,e){return lh(e)?df(e):ff(t,e)}var gf=function(){this._=void 0};function mf(t,e,n){return t instanceof yf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof wf?_f(t,e):t instanceof If?Ef(t,e):function(t,e){var n=vf(t,e),r=Of(n)+Of(t.A);return wh(n)&&wh(t.A)?df(r):ff(t.R,r)}(t,e)}function bf(t,e,n){return t instanceof wf?_f(t,e):t instanceof If?Ef(t,e):n}function vf(t,e){return t instanceof Sf?wh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e}(gf),wf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ki.c)(e,t),e}(gf);function _f(t,e){for(var n=Tf(e),r=function(t){n.some(function(e){return dh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var If=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ki.c)(e,t),e}(gf);function Ef(t,e){for(var n=Tf(e),r=function(t){n=n.filter(function(e){return!dh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ki.c)(e,t),e}(gf);function Of(t){return rh(t.integerValue||t.doubleValue)}function Tf(t){return _h(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Cf=function(t,e){this.field=t,this.transform=e},Af=function(t,e){this.version=t,this.transformResults=e},xf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rf=function(){};function jf(t,e,n){t instanceof Mf?function(t,e,n){var r=t.value.clone(),i=Vf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ff?function(t,e,n){if(kf(t.precondition,e)){var r=Vf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Uf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Nf(t,e,n){t instanceof Mf?function(t,e,n){if(kf(t.precondition,e)){var r=t.value.clone(),i=qf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Lf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ff?function(t,e,n){if(kf(t.precondition,e)){var r=qf(t.fieldTransforms,n,e),i=e.data;i.setAll(Uf(t)),i.setAll(r),e.convertToFoundDocument(Lf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){kf(t.precondition,e)&&e.convertToNoDocument(zl.min())}(t,e)}function Pf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=vf(o.transform,s||null);null!=a&&(null==n&&(n=Oh.empty()),n.set(o.field,a))}return n||null}function Df(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Bl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof wf&&e instanceof wf||t instanceof If&&e instanceof If?Bl(t.elements,e.elements,dh):t instanceof Sf&&e instanceof Sf?dh(t.A,e.A):t instanceof yf&&e instanceof yf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Lf(t){return t.isFoundDocument()?t.version:zl.min()}var Mf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ki.c)(e,t),e}(Rf),Ff=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(ki.c)(e,t),e}(Rf);function Uf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Vf(t,e,n){var r=new Map;Ml(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bf(s,a,n[i]))}return r}function qf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,mf(a,u,e))}return r}var Bf,Hf,Gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ki.c)(e,t),e}(Rf),zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ki.c)(e,t),e}(Rf),Yf=function(t){this.count=t};function Zf(t){switch(t){case Al.OK:return Ll();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0;default:return Ll()}}function Kf(t){if(void 0===t)return Nl("GRPC error has no .code"),Al.UNKNOWN;switch(t){case Bf.OK:return Al.OK;case Bf.CANCELLED:return Al.CANCELLED;case Bf.UNKNOWN:return Al.UNKNOWN;case Bf.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Bf.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Bf.INTERNAL:return Al.INTERNAL;case Bf.UNAVAILABLE:return Al.UNAVAILABLE;case Bf.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Bf.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Bf.NOT_FOUND:return Al.NOT_FOUND;case Bf.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Bf.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Bf.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Bf.ABORTED:return Al.ABORTED;case Bf.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Bf.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Bf.DATA_LOSS:return Al.DATA_LOSS;default:return Ll()}}(Hf=Bf||(Bf={}))[Hf.OK=0]="OK",Hf[Hf.CANCELLED=1]="CANCELLED",Hf[Hf.UNKNOWN=2]="UNKNOWN",Hf[Hf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hf[Hf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hf[Hf.NOT_FOUND=5]="NOT_FOUND",Hf[Hf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hf[Hf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hf[Hf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hf[Hf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hf[Hf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hf[Hf.ABORTED=10]="ABORTED",Hf[Hf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hf[Hf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hf[Hf.INTERNAL=13]="INTERNAL",Hf[Hf.UNAVAILABLE=14]="UNAVAILABLE",Hf[Hf.DATA_LOSS=15]="DATA_LOSS";var $f=function(){function t(t,e){this.comparator=t,this.root=e||Qf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Wf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Wf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Wf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Wf(this.root,t,this.comparator,!0)},t}(),Wf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Qf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ll();if(this.right.isRed())throw Ll();var t=this.left.check();if(t!==this.right.check())throw Ll();return t+(this.isRed()?0:1)},t}();Qf.EMPTY=null,Qf.RED=!0,Qf.BLACK=!1,Qf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ll()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Qf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Xf=function(){function t(t){this.comparator=t,this.data=new $f(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Jf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Jf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Jf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),td=new $f(hh.comparator);function ed(){return td}var nd=new $f(hh.comparator);function rd(){return nd}var id=new $f(hh.comparator);function od(){return id}var sd=new Xf(hh.comparator);function ad(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ud=new Xf(ql);function cd(){return ud}var ld=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(zl.min(),r,cd(),ed(),ad())},t}(),hd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(th.EMPTY_BYTE_STRING,n,ad(),ad(),ad())},t}(),fd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},dd=function(t,e){this.targetId=t,this.V=e},pd=function(t,e,n,r){void 0===n&&(n=th.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gd=function(){function t(){this.S=0,this.D=vd(),this.C=th.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ad(),e=ad(),n=ad();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ll()}}),new hd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=vd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),md=function(){function t(t){this.W=t,this.G=new Map,this.H=ed(),this.J=bd(),this.Y=new Xf(ql)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Ll()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(jh(i))if(0===n){var o=new hh(i.path);this.tt(e,o,Ch.newNoDocument(o,zl.min()))}else Ml(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&jh(o.target)){var s=new hh(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ch.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=ad();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ld(t,n,this.Y,this.H,r);return this.H=ed(),this.J=bd(),this.Y=new Xf(ql),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new gd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Xf(ql),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||jl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new gd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function bd(){return new $f(hh.comparator)}function vd(){return new $f(hh.comparator)}var yd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_d=function(t,e){this.databaseId=t,this.I=e};function Id(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ed(t,e){return t.I?e.toBase64():e.toUint8Array()}function Sd(t,e){return Id(t,e.toTimestamp())}function Od(t){return Ml(!!t),zl.fromTimestamp(function(t){var e=nh(t);return new Gl(e.seconds,e.nanos)}(t))}function Td(t,e){return function(t){return new Wl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Cd(t){var e=Wl.fromString(t);return Ml(Qd(e)),e}function Ad(t,e){return Td(t.databaseId,e.path)}function xd(t,e){var n=Cd(e);if(n.get(1)!==t.databaseId.projectId)throw new xl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hh(Nd(n))}function kd(t,e){return Td(t.databaseId,e)}function Rd(t){var e=Cd(t);return 4===e.length?Wl.emptyPath():Nd(e)}function jd(t){return new Wl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nd(t){return Ml(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Pd(t,e,n){return{name:Ad(t,e),fields:n.toProto().mapValue.fields}}function Dd(t,e,n){var r=xd(t,e.name),i=Od(e.updateTime),o=new Oh({mapValue:{fields:e.fields}}),s=Ch.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ld(t,e){var n;if(e instanceof Mf)n={update:Pd(t,e.key,e.value)};else if(e instanceof Gf)n={delete:Ad(t,e.key)};else if(e instanceof Ff)n={update:Pd(t,e.key,e.data),updateMask:Wd(e.fieldMask)};else{if(!(e instanceof zf))return Ll();n={verify:Ad(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof yf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof If)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ll()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Sd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ll()}(t,e.precondition)),n}function Md(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?xf.updateTime(Od(t.updateTime)):void 0!==t.exists?xf.exists(t.exists):xf.none()}(e.currentDocument):xf.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ml("REQUEST_TIME"===e.setToServerValue),n=new yf):"appendMissingElements"in e?n=new wf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new If(e.removeAllFromArray.values||[]):"increment"in e?n=new Sf(t,e.increment):Ll();var r=Xl.fromServerFormat(e.fieldPath);return new Cf(r,n)}(t,e)}):[];if(e.update){var i=xd(t,e.update.name),o=new Oh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Jl((t.fieldPaths||[]).map(function(t){return Xl.fromServerFormat(t)}))}(e.updateMask);return new Ff(i,o,s,n,r)}return new Mf(i,o,n,r)}if(e.delete){var a=xd(t,e.delete);return new Gf(a,n)}if(e.verify){var u=xd(t,e.verify);return new zf(u,n)}return Ll()}function Fd(t,e){return{documents:[kd(t,e.path)]}}function Ud(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=kd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Eh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NAN"}};if(Ih(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Eh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NAN"}};if(Ih(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yd(t.field),op:zd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yd(t.field),direction:Gd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||uh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bd(e.endAt)),n}function Vd(t){var e=Rd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ml(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=qd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Gh(Zd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return uh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Hd(n.startAt));var l=null;return n.endAt&&(l=Hd(n.endAt)),$h(e,i,a,s,u,"F",c,l)}function qd(t){return t?void 0!==t.unaryFilter?[$d(t)]:void 0!==t.fieldFilter?[Kd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return qd(t)}).reduce(function(t,e){return t.concat(e)}):Ll():[]}function Bd(t){return{before:t.before,values:t.position}}function Hd(t){return new Bh(t.values||[],!!t.before)}function Gd(t){return yd[t]}function zd(t){return wd[t]}function Yd(t){return{fieldPath:t.canonicalString()}}function Zd(t){return Xl.fromServerFormat(t.fieldPath)}function Kd(t){return Nh.create(Zd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ll()}}(t.fieldFilter.op),t.fieldFilter.value)}function $d(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Zd(t.unaryFilter.field);return Nh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Zd(t.unaryFilter.field);return Nh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zd(t.unaryFilter.field);return Nh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zd(t.unaryFilter.field);return Nh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ll()}}function Wd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Qd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Xd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tp(e)),e=Jd(t.get(n),e);return tp(e)}function Jd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tp(t){return t+"\x01\x01"}function ep(t){var e=t.length;if(Ml(e>=2),2===e)return Ml("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ll(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ll()}o=s+2}return new Wl(r)}var np=function(t,e){this.seconds=t,this.nanoseconds=e},rp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};rp.store="owner",rp.key="owner";var ip=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ip.store="mutationQueues",ip.keyPath="userId";var op=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};op.store="mutations",op.keyPath="batchId",op.userMutationsIndex="userMutationsIndex",op.userMutationsKeyPath=["userId","batchId"];var sp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xd(e)]},t.key=function(t,e,n){return[t,Xd(e),n]},t}();sp.store="documentMutations",sp.PLACEHOLDER=new sp;var ap=function(t,e){this.path=t,this.readTime=e},up=function(t,e){this.path=t,this.version=e},cp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};cp.store="remoteDocuments",cp.readTimeIndex="readTimeIndex",cp.readTimeIndexPath="readTime",cp.collectionReadTimeIndex="collectionReadTimeIndex",cp.collectionReadTimeIndexPath=["parentPath","readTime"];var lp=function(t){this.byteSize=t};lp.store="remoteDocumentGlobal",lp.key="remoteDocumentGlobalKey";var hp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};hp.store="targets",hp.keyPath="targetId",hp.queryTargetsIndexName="queryTargetsIndex",hp.queryTargetsKeyPath=["canonicalId","targetId"];var fp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};fp.store="targetDocuments",fp.keyPath=["targetId","path"],fp.documentTargetsIndex="documentTargetsIndex",fp.documentTargetsKeyPath=["path","targetId"];var dp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};dp.key="targetGlobalKey",dp.store="targetGlobal";var pp=function(t,e){this.collectionId=t,this.parent=e};pp.store="collectionParents",pp.keyPath=["collectionId","parent"];var gp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gp.store="clientMetadata",gp.keyPath="clientId";var mp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};mp.store="bundles",mp.keyPath="bundleId";var bp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};bp.store="namedQueries",bp.keyPath="name";var vp=Object(ki.f)(Object(ki.f)([],Object(ki.f)(Object(ki.f)([],Object(ki.f)(Object(ki.f)([],Object(ki.f)(Object(ki.f)([],[ip.store,op.store,sp.store,cp.store,hp.store,rp.store,dp.store,fp.store]),[gp.store])),[lp.store])),[pp.store])),[mp.store,bp.store]),yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),_p=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ip=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ll(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ep=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new _p,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Tp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Rp(e.target.error);n.ft.reject(new Tp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Tp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(jl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ap(e)},t}(),Sp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ss.i)())&&Nl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return jl("SimpleDb","Removing database:",t),xp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ss.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n=this;return Object(ki.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(jl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Tp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new xl(Al.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Tp(t,n))},i.onupgradeneeded=function(t){jl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){jl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(ki.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(ki.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ep.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ip.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return jl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Op=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return xp(this.Pt.delete())},t}(),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this,Al.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ki.c)(e,t),e}(xl);function Cp(t){return"IndexedDbTransactionError"===t.name}var Ap=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(jl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(jl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),xp(n)},t.prototype.add=function(t){return jl("SimpleDb","ADD",this.store.name,t,t),xp(this.store.add(t))},t.prototype.get=function(t){var e=this;return xp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),jl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return jl("SimpleDb","DELETE",this.store.name,t),xp(this.store.delete(t))},t.prototype.count=function(){return jl("SimpleDb","COUNT",this.store.name),xp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){jl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Ip(function(n,r){e.onerror=function(t){var e=Rp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ip(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Op(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ip){var a=s.catch(function(t){return o.done(),Ip.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ip.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function xp(t){return new Ip(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Rp(t.target.error);n(e)}})}var kp=!1;function Rp(t){var e=Sp._t(Object(Ss.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kp||(kp=!0,setTimeout(function(){throw r},0)),r}}return t}var jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ki.c)(e,t),e}(wp);function Np(t,e){var n=Fl(t);return Sp.It(n.Mt,e)}var Pp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&jf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Nf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Nf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ad())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Bl(this.mutations,t.mutations,function(t,e){return Df(t,e)})&&Bl(this.baseMutations,t.baseMutations,function(t,e){return Df(t,e)})},t}(),Dp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ml(e.mutations.length===r.length);for(var i=od(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Lp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=zl.min()),void 0===o&&(o=zl.min()),void 0===s&&(s=th.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Mp=function(t){this.Lt=t};function Fp(t,e){if(e.document)return Dd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hh.fromSegments(e.noDocument.path),r=Hp(e.noDocument.readTime),i=Ch.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=hh.fromSegments(e.unknownDocument.path);return r=Hp(e.unknownDocument.version),Ch.newUnknownDocument(o,r)}return Ll()}function Up(t,e,n){var r=Vp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ad(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Id(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new cp(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Bp(e.version);return s=e.hasCommittedMutations,new cp(null,new ap(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Bp(e.version);return new cp(new up(c,l),null,null,!0,r,i)}return Ll()}function Vp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qp(t){var e=new Gl(t[0],t[1]);return zl.fromTimestamp(e)}function Bp(t){var e=t.toTimestamp();return new np(e.seconds,e.nanoseconds)}function Hp(t){var e=new Gl(t.seconds,t.nanoseconds);return zl.fromTimestamp(e)}function Gp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Md(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Md(t.Lt,e)}),o=Gl.fromMillis(e.localWriteTimeMs);return new Pp(e.batchId,o,n,i)}function zp(t){var e,n,r=Hp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Hp(t.lastLimboFreeSnapshotVersion):zl.min();return void 0!==t.query.documents?(Ml(1===(n=t.query).documents.length),e=rf(Wh(Rd(n.documents[0])))):e=function(t){return rf(Vd(t))}(t.query),new Lp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,th.fromBase64String(t.resumeToken))}function Yp(t,e){var n,r=Bp(e.snapshotVersion),i=Bp(e.lastLimboFreeSnapshotVersion);n=jh(e.target)?Fd(t.Lt,e.target):Ud(t.Lt,e.target);var o=e.resumeToken.toBase64();return new hp(e.targetId,kh(e.target),r,o,e.sequenceNumber,i,n)}function Zp(t){var e=Vd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?of(e,e.limit,"L"):e}var Kp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return $p(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Hp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return $p(t).put({bundleId:(n=e).id,createTime:Bp(Od(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Wp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Zp(e.bundledQuery),readTime:Hp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Wp(t).put(function(t){return{name:t.name,readTime:Bp(Od(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function $p(t){return Np(t,mp.store)}function Wp(t){return Np(t,bp.store)}var Qp=function(){function t(){this.Bt=new Xp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ip.resolve()},t.prototype.getCollectionParents=function(t,e){return Ip.resolve(this.Bt.getEntries(e))},t}(),Xp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Xf(Wl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Xf(Wl.comparator)).toArray()},t}(),Jp=function(){function t(){this.qt=new Xp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Xd(i)};return tg(t).put(o)}return Ip.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Hl(e),""],!1,!0);return tg(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ep(o.parent))}return n})},t}();function tg(t){return Np(t,pp.store)}var eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ng=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function rg(t,e,n){var r=t.store(op.store),i=t.store(sp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Ml(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ip.waitFor(o).next(function(){return c})}function ig(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ll();e=t.noDocument}return JSON.stringify(e).length}ng.DEFAULT_COLLECTION_PERCENTILE=10,ng.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ng.DEFAULT=new ng(41943040,ng.DEFAULT_COLLECTION_PERCENTILE,ng.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ng.DISABLED=new ng(-1,0,0);var og=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ml(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ag(t).Ot({index:op.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ug(t),s=ag(t);return s.add({}).next(function(a){Ml("number"==typeof a);for(var u=new Pp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ld(t.Lt,e)}),i=n.mutations.map(function(e){return Ld(t.Lt,e)});return new op(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Xf(function(t,e){return ql(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=sp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,sp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Ip.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ag(t).get(e).next(function(t){return t?(Ml(t.userId===n.userId),Gp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ip.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ag(t).Ot({index:op.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ml(e.batchId>=r),o=Gp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ag(t).Ot({index:op.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ag(t).Nt(op.userMutationsIndex,n).next(function(t){return t.map(function(t){return Gp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=sp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ug(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=ep(r[1]);if(a===n.userId&&e.path.isEqual(c))return ag(t).get(u).next(function(t){if(!t)throw Ll();Ml(t.userId===n.userId),o.push(Gp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xf(ql),i=[];return e.forEach(function(e){var o=sp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ug(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=ep(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ip.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=sp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Xf(ql);return ug(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=ep(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ag(t).get(e).next(function(t){if(null===t)throw Ll();Ml(t.userId===n.userId),r.push(Gp(n.R,t))}))}),Ip.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return rg(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ip.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ip.resolve();var r=IDBKeyRange.lowerBound(sp.prefixForUser(e.userId)),i=[];return ug(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=ep(t[1]);i.push(o)}else r.done()}).next(function(){Ml(0===i.length)})})},t.prototype.containsKey=function(t,e){return sg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return cg(t).get(this.userId).next(function(t){return t||new ip(e.userId,-1,"")})},t}();function sg(t,e,n){var r=sp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ug(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ag(t){return Np(t,op.store)}function ug(t){return Np(t,sp.store)}function cg(t){return Np(t,ip.store)}var lg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),hg=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new lg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return zl.fromTimestamp(new Gl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return fg(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Ml(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return fg(t).Ot(function(s,a){var u=zp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ip.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return fg(t).Ot(function(t,n){var r=zp(n);e(r)})},t.prototype.Xt=function(t){return dg(t).get(dp.key).next(function(t){return Ml(null!==t),t})},t.prototype.Zt=function(t,e){return dg(t).put(dp.key,e)},t.prototype.te=function(t,e){return fg(t).put(Yp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=kh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fg(t).Ot({range:r,index:hp.queryTargetsIndexName},function(t,n,r){var o=zp(n);Rh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=pg(t);return e.forEach(function(e){var s=Xd(e.path);i.push(o.put(new fp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ip.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pg(t);return Ip.forEach(e,function(e){var o=Xd(e.path);return Ip.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pg(t),i=ad();return r.Ot({range:n,kt:!0},function(t,e,n){var r=ep(t[1]),o=new hh(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Xd(e.path),r=IDBKeyRange.bound([n],[Hl(n)],!1,!0),i=0;return pg(t).Ot({index:fp.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return fg(t).get(e).next(function(t){return t?zp(t):null})},t}();function fg(t){return Np(t,hp.store)}function dg(t){return Np(t,dp.store)}function pg(t){return Np(t,fp.store)}function gg(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){if(t.code!==Al.FAILED_PRECONDITION||t.message!==yp)throw t;return jl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function mg(t,e){var n=t[1],r=e[1],i=ql(t[0],e[0]);return 0===i?ql(n,r):i}var bg=function(){function t(t){this.ne=t,this.buffer=new Xf(mg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;jl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ki.b)(e,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cp(e=n.sent())?(jl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),yg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ip.resolve(Cl.o);var r=new bg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jl("LruGarbageCollector","Garbage collection skipped; disabled"),Ip.resolve(eg)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(jl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),eg):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(jl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Rl()<=Os.a.DEBUG&&jl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ip.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),wg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new yg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return _g(t,n)},t.prototype.removeReference=function(t,e,n){return _g(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return _g(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return cg(t).$t(function(r){return sg(t,r,e).next(function(t){return t&&(n=!0),Ip.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),pg(t).delete([0,Xd(s.path)])})});i.push(u)}}).next(function(){return Ip.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return _g(t,e)},t.prototype.we=function(t,e){var n,r=pg(t),i=Cl.o;return r.Ot({index:fp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Cl.o&&e(new hh(ep(n)),i),i=s,n=o):i=Cl.o}).next(function(){i!==Cl.o&&e(new hh(ep(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function _g(t,e){return pg(t).put(function(t,e){return new fp(0,Xd(t.path),e)}(e,t.currentSequenceNumber))}var Ig=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Kl(this.inner)},t}(),Eg=function(){function t(){this.changes=new Ig(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:zl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ch.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ip.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Sg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Cg(t).put(Ag(e),n)},t.prototype.removeEntry=function(t,e){var n=Cg(t),r=Ag(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Cg(t).get(Ag(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Cg(t).get(Ag(e)).next(function(t){return{document:n.ye(e,t),size:ig(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ed();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ed(),i=new $f(hh.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ig(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ip.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Cg(t).Ot({range:r},function(t,e,r){for(var s=hh.fromSegments(t);o&&hh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ed(),o=e.path.length+1,s={};if(n.isEqual(zl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Vp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=cp.collectionReadTimeIndex}return Cg(t).Ot(s,function(t,n,s){if(t.length===o){var a=Fp(r.R,n);e.path.isPrefixOf(a.key.path)?cf(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Og(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Tg(t).get(lp.key).next(function(t){return Ml(!!t),t})},t.prototype.me=function(t,e){return Tg(t).put(lp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Fp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(zl.min()))return n}return Ch.newInvalidDocument(t)},t}(),Og=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ig(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ki.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Xf(function(t,e){return ql(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Up(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=ig(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Up(e.Ie.R,Ch.newNoDocument(o,zl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Eg);function Tg(t){return Np(t,lp.store)}function Cg(t){return Np(t,cp.store)}function Ag(t){return t.path.toArray()}var xg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ml(n<r&&n>=0&&r<=11);var o=new Ep("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(rp.store)}(t),function(t){t.createObjectStore(ip.store,{keyPath:ip.keyPath}),t.createObjectStore(op.store,{keyPath:op.keyPath,autoIncrement:!0}).createIndex(op.userMutationsIndex,op.userMutationsKeyPath,{unique:!0}),t.createObjectStore(sp.store)}(t),kg(t),function(t){t.createObjectStore(cp.store)}(t));var s=Ip.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fp.store),t.deleteObjectStore(hp.store),t.deleteObjectStore(dp.store)}(t),kg(t)),s=s.next(function(){return function(t){var e=t.store(dp.store),n=new dp(0,0,zl.min().toTimestamp(),0);return e.put(dp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(op.store).Nt().next(function(n){t.deleteObjectStore(op.store),t.createObjectStore(op.store,{keyPath:op.keyPath,autoIncrement:!0}).createIndex(op.userMutationsIndex,op.userMutationsKeyPath,{unique:!0});var r=e.store(op.store),i=n.map(function(t){return r.put(t)});return Ip.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(gp.store,{keyPath:gp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(lp.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(cp.store);e.createIndex(cp.readTimeIndex,cp.readTimeIndexPath,{unique:!1}),e.createIndex(cp.collectionReadTimeIndex,cp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(mp.store,{keyPath:mp.keyPath})}(t),function(t){t.createObjectStore(bp.store,{keyPath:bp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(cp.store).Ot(function(t,n){e+=ig(n)}).next(function(){var n=new lp(e);return t.store(lp.store).put(lp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ip.store),r=t.store(op.store);return n.Nt().next(function(n){return Ip.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(op.userMutationsIndex,i).next(function(r){return Ip.forEach(r,function(r){Ml(r.userId===n.userId);var i=Gp(e.R,r);return rg(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(fp.store),n=t.store(cp.store);return t.store(dp.store).get(dp.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new Wl(n),s=function(t){return[0,Xd(t)]}(o);r.push(e.get(s).next(function(n){return n?Ip.resolve():function(n){return e.put(new fp(0,Xd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ip.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(pp.store,{keyPath:pp.keyPath});var n=e.store(pp.store),r=new Xp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Xd(i)})}};return e.store(cp.store).Ot({kt:!0},function(t,e){var n=new Wl(t);return i(n.popLast())}).next(function(){return e.store(sp.store).Ot({kt:!0},function(t,e){var n=ep(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(hp.store);return n.Ot(function(t,r){var i=zp(r),o=Yp(e.R,i);return n.put(o)})},t}();function kg(t){t.createObjectStore(fp.store,{keyPath:fp.keyPath}).createIndex(fp.documentTargetsIndex,fp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(hp.store,{keyPath:hp.keyPath}).createIndex(hp.queryTargetsIndexName,hp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(dp.store)}var Rg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new xl(Al.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wg(this,i),this.Le=n+"main",this.R=new Mp(u),this.Be=new Sp(this.Le,11,new xg(this.R)),this.qe=new hg(this.referenceDelegate,this.R),this.Ut=new Jp,this.Ue=function(t,e){return new Sg(t,e)}(this.R,this.Ut),this.Qe=new Kp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Nl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xl(Al.FAILED_PRECONDITION,Rg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Cl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ki.b)(e,void 0,void 0,function(){return Object(ki.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ki.b)(e,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ki.b)(e,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Pg(e).put(new gp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Cp(e))return jl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return jl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ng(t).get(rp.key).next(function(t){return Ip.resolve(e.tn(t))})},t.prototype.en=function(t){return Pg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ki.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Np(t,gp.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ip.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ip.resolve(!0):Ng(t).get(rp.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new xl(Al.FAILED_PRECONDITION,Rg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&jl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ki.b)(this,void 0,void 0,function(){var t=this;return Object(ki.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rp.store,gp.store],function(e){var n=new jp(e,Cl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Pg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return og.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return jl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",vp,function(o){return r=new jp(o,i.Ne?i.Ne.next():Cl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Nl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new xl(Al.FAILED_PRECONDITION,yp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ng(t).get(rp.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xl(Al.FAILED_PRECONDITION,Rg)})},t.prototype.Ze=function(t){var e=new rp(this.clientId,this.allowTabSynchronization,Date.now());return Ng(t).put(rp.key,e)},t.yt=function(){return Sp.yt()},t.prototype.Xe=function(t){var e=this,n=Ng(t);return n.get(rp.key).next(function(t){return e.tn(t)?(jl("IndexedDbPersistence","Releasing primary lease."),n.delete(rp.key)):Ip.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return jl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Nl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ng(t){return Np(t,rp.store)}function Pg(t){return Np(t,gp.store)}function Dg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Lg=function(t,e){this.progress=t,this.wn=e},Mg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return hh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ef(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new hh(e)).next(function(t){var e=rd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=rd();return this.Ut.getCollectionParents(t,i).next(function(s){return Ip.forEach(s,function(s){var a=function(t,e){return new Kh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ch.newInvalidDocument(c),r=r.insert(c,l)),Nf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){cf(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=ad(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ff&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Fg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ad(),i=ad(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ug=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(zl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Qh(e)||Xh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Rl()<=Os.a.DEBUG&&jl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uf(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Xf(lf(t));return e.forEach(function(e,r){cf(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Rl()<=Os.a.DEBUG&&jl("QueryEngine","Using full collection scan to execute query:",uf(e)),this.Sn.getDocumentsMatchingQuery(t,e,zl.min())},t}(),Vg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new $f(ql),this.kn=new Ig(function(t){return kh(t)},Rh),this.On=zl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Mg(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function qg(t,e,n,r){return new Vg(t,e,n,r)}function Bg(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:return n=Fl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Mg(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=ad(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Hg(t,e){var n=Fl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ip.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Ml(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Gg(t){var e=Fl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function zg(t,e){var n=Fl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ml(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=ed();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Yg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(zl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ip.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Yg(t,e,n,r,i){var o=ad();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ed();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(zl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):jl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Zg(t,e){var n=Fl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Kg(t,e){var n=Fl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ip.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Lp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function $g(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:r=Fl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Cp(s=a.sent()))throw s;return jl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Wg(t,e,n){var r=Fl(t),i=zl.min(),o=ad();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fl(t),i=r.kn.get(n);return void 0!==i?Ip.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,rf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:zl.min(),n?o:ad())}).next(function(t){return{documents:t,Bn:o}})})}function Qg(t,e){var n=Fl(t),r=Fl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Xg(t){var e=Fl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fl(t),i=ed(),o=Vp(n),s=Cg(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:cp.readTimeIndex,range:a},function(t,e){var n=Fp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:qp(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Jg(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){return[2,(e=Fl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Cg(t),n=zl.min();return e.Ot({index:cp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=qp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function tm(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(ki.d)(this,function(p){switch(p.label){case 0:for(i=Fl(t),o=ad(),s=ed(),a=od(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Kg(i,function(t){return rf(Wh(Wl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Yg(t,f,s,zl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function em(t,e,n){return void 0===n&&(n=ad()),Object(ki.b)(this,void 0,void 0,function(){var r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return[4,Kg(t,rf(Zp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Od(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(th.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var nm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ip.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Od(n.createTime)}),Ip.resolve()},t.prototype.getNamedQuery=function(t,e){return Ip.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Zp(t.bundledQuery),readTime:Od(t.readTime)}}(e)),Ip.resolve()},t}(),rm=function(){function t(){this.Wn=new Xf(im.Gn),this.zn=new Xf(im.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new im(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new im(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new hh(new Wl([])),r=new im(n,t),i=new im(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new hh(new Wl([])),n=new im(e,t),r=new im(e,t+1),i=ad();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new im(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),im=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return hh.comparator(t.key,e.key)||ql(t.ns,e.ns)},t.Hn=function(t,e){return ql(t.ns,e.ns)||hh.comparator(t.key,e.key)},t}(),om=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Xf(im.Gn)}return t.prototype.checkEmpty=function(t){return Ip.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Pp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new im(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ip.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ip.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ip.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ip.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ip.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new im(e,0),i=new im(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ip.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xf(ql);return e.forEach(function(t){var e=new im(t,0),i=new im(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ip.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;hh.isDocumentKey(i)||(i=i.child(""));var o=new im(new hh(i),0),s=new Xf(ql);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ip.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ml(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ip.forEach(e.mutations,function(i){var o=new im(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new im(e,0),r=this.rs.firstAfterOrEqual(n);return Ip.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ip.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),sm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new $f(hh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ip.resolve(n?n.document.clone():Ch.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ed();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ch.newInvalidDocument(t))}),Ip.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ed(),i=new hh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||cf(e,u)&&(r=r.insert(u.key,u.clone()))}return Ip.resolve(r)},t.prototype.fs=function(t,e){return Ip.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new am(this)},t.prototype.getSize=function(t){return Ip.resolve(this.size)},t}(),am=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ki.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Eg),um=function(){function t(t){this.persistence=t,this.ds=new Ig(function(t){return kh(t)},Rh),this.lastRemoteSnapshotVersion=zl.min(),this.highestTargetId=0,this.ws=0,this._s=new rm,this.targetCount=0,this.ys=lg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ip.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ip.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ip.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ip.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ip.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new lg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ip.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ip.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ip.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ip.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ip.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ip.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ip.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ip.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ip.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ip.resolve(n)},t.prototype.containsKey=function(t,e){return Ip.resolve(this._s.containsKey(e))},t}(),cm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Cl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new um(this),this.Ut=new Qp,this.Ue=function(t,e){return new sm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Mp(e),this.Qe=new nm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new om(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;jl("MemoryPersistence","Starting transaction:",t);var i=new lm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ip.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),lm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ki.c)(e,t),e}(wp),hm=function(){function t(t){this.persistence=t,this.As=new rm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ll()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ip.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ip.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ip.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ip.forEach(this.vs,function(r){var i=hh.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ip.or([function(){return Ip.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),fm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function dm(t,e){return"firestore_clients_"+t+"_"+e}function pm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gm(t,e){return"firestore_targets_"+t+"_"+e}fm.UNAUTHENTICATED=new fm(null),fm.GOOGLE_CREDENTIALS=new fm("google-credentials-uid"),fm.FIRST_PARTY=new fm("first-party-uid");var mm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xl(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cd(),s=0;i&&s<r.activeTargetIds.length;++s)i=lh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ym=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nl("SharedClientState","Failed to parse online state: "+e),null)},t}(),wm=function(){function t(){this.activeTargetIds=cd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),_m=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new $f(ql),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=dm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new wm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(ki.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(dm(this.persistenceKey,r)))&&(o=vm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gm(this.persistenceKey,t));if(n){var r=bm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return jl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){jl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){jl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(jl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Nl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ki.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(ki.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Cl.o;if(null!=t)try{var n=JSON.parse(t);Ml("number"==typeof n),e=n}catch(t){Nl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Cl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new mm(this.currentUser,t,e,n),i=pm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=pm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=gm(this.persistenceKey,t),i=new bm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return vm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return mm.Vs(new fm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return bm.Vs(r,e)},t.prototype.js=function(t){return ym.Vs(t)},t.prototype.ii=function(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(jl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=cd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Im=function(){function t(){this.li=new wm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new wm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Em=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Sm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){jl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){jl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Cm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ki.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Tl;s.listenOnce(El.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Il.NO_ERROR:var e=s.getResponseJson();jl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Il.TIMEOUT:jl("Connection",'RPC "'+t+'" timed out'),o(new xl(Al.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:var n=s.getStatus();if(jl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(r.status);o(new xl(a,r.message))}else o(new xl(Al.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new xl(Al.UNAVAILABLE,"Connection failed."));break;default:Ll()}}finally{jl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new bl,i=wu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(Ss.n)()||Object(Ss.p)()||Object(Ss.l)()||Object(Ss.m)()||Object(Ss.q)()||Object(Ss.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");jl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Tm({Ei:function(t){c?jl("Connection","Not sending because WebChannel is closed:",t):(u||(jl("Connection","Opening WebChannel transport."),a.open(),u=!0),jl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Ol.EventType.OPEN,function(){c||jl("Connection","WebChannel transport opened.")}),h(a,Ol.EventType.CLOSE,function(){c||(c=!0,jl("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ol.EventType.ERROR,function(t){c||(c=!0,Pl("Connection","WebChannel transport errored:",t),l.Vi(new xl(Al.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ol.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ml(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){jl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Bf[t];if(void 0!==e)return Kf(e)}(i),s=r.message;void 0===o&&(o=Al.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new xl(o,s)),a.close()}else jl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Sl.STAT_EVENT,function(t){10===t.stat?jl("Connection","Detected buffering proxy"):11===t.stat&&jl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);jl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return jl("RestConnection","Received: ",t),t},function(e){throw Pl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Om[t]},t}());function Am(){return"undefined"!=typeof window?window:null}function xm(){return"undefined"!=typeof document?document:null}function km(t){return new _d(t,!0)}var Rm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&jl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),jm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Rm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(Nl(e.toString()),Nl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Al.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new xl(Al.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ki.b)(t,void 0,void 0,function(){return Object(ki.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return jl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(jl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Nm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(ki.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ll()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ml(void 0===e||"string"==typeof e),th.fromBase64String(e||"")):(Ml(void 0===e||e instanceof Uint8Array),th.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Al.UNKNOWN:Kf(t.code);return new xl(e,t.message||"")}(a);n=new pd(r,i,o,s||null)}else if("documentChange"in e){i=xd(t,(r=e.documentChange).document.name),o=Od(r.document.updateTime);var a=new Oh({mapValue:{fields:r.document.fields}}),u=(s=Ch.newFoundDocument(i,o,a),r.targetIds||[]);n=new fd(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=xd(t,(r=e.documentDelete).document),o=r.readTime?Od(r.readTime):zl.min(),a=Ch.newNoDocument(i,o),n=new fd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=xd(t,(r=e.documentRemove).document),n=new fd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ll();var c=e.filter;i=new Yf(r=c.count||0),n=new dd(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return zl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zl.min():e.readTime?Od(e.readTime):zl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=jd(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=jh(r)?{documents:Fd(t,r)}:{query:Ud(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ed(t,e.resumeToken):e.snapshotVersion.compareTo(zl.min())>0&&(n.readTime=Id(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ll()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=jd(this.R),e.removeTarget=t,this.cr(e)},e}(jm),Pm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(ki.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Ml(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ml(void 0!==e),t.map(function(t){return function(t,e){var n=Od(t.updateTime?t.updateTime:e);return n.isEqual(zl.min())&&(n=Od(e)),new Af(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Od(t.commitTime);return this.listener.Tr(n,e)}return Ml(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=jd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ld(e.R,t)})};this.cr(n)},e}(jm),Dm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ki.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new xl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xl(Al.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xl(Al.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Lm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Nl(e),this.Vr=!1):jl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Mm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ki.b)(o,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return Ym(this)?(jl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return(e=Fl(t)).$r.add(4),[4,Um(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Fm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Lm(n,r)};function Fm(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:if(!Ym(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Um(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Vm(t,e){var n=Fl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),zm(n)?Gm(n):ab(n).er()&&Bm(n,e))}function qm(t,e){var n=Fl(t),r=ab(n);n.Or.delete(e),r.er()&&Hm(n,e),0===n.Or.size&&(r.er()?r.ir():Ym(n)&&n.Br.set("Unknown"))}function Bm(t,e){t.qr.U(e.targetId),ab(t).mr(e)}function Hm(t,e){t.qr.U(e),ab(t).yr(e)}function Gm(t){t.qr=new md({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),ab(t).start(),t.Br.Sr()}function zm(t){return Ym(t)&&!ab(t).tr()&&t.Or.size>0}function Ym(t){return 0===Fl(t).$r.size}function Zm(t){t.qr=void 0}function Km(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){return t.Or.forEach(function(e,n){Bm(t,e)}),[2]})})}function $m(t,e){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(n){return Zm(t),zm(t)?(t.Br.Nr(e),Gm(t)):t.Br.set("Unknown"),[2]})})}function Wm(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof pd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),jl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Qm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof fd?t.qr.X(e):e instanceof dd?t.qr.rt(e):t.qr.et(e),n.isEqual(zl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Gg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(th.EMPTY_BYTE_STRING,n.snapshotVersion)),Hm(t,e);var r=new Lp(n.target,e,1,n.sequenceNumber);Bm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return jl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Qm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Qm(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r=this;return Object(ki.d)(this,function(i){switch(i.label){case 0:if(!Cp(e))throw e;return t.$r.add(1),[4,Um(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Gg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ki.b)(r,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return jl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Fm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Xm(t,e){return e().catch(function(n){return Qm(t,n,e)})}function Jm(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:e=Fl(t),n=ub(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ym(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Zg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ub(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Qm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return tb(e)&&eb(e),[2]}})})}function tb(t){return Ym(t)&&!ub(t).tr()&&t.kr.length>0}function eb(t){ub(t).start()}function nb(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){return ub(t).Ar(),[2]})})}function rb(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n,r;return Object(ki.d)(this,function(i){for(e=ub(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function ib(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Dp.from(r,e,n),[4,Xm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Jm(t)];case 2:return o.sent(),[2]}})})}function ob(t,e){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(n){switch(n.label){case 0:return e&&ub(t).pr?[4,function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return Zf(r=e.code)&&r!==Al.ABORTED?(n=t.kr.shift(),ub(t).sr(),[4,Xm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Jm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tb(t)&&eb(t),[2]}})})}function sb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return n=Fl(t),e?(n.$r.delete(2),[4,Fm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Um(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ab(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Fl(t);return r.br(),new Nm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Km.bind(null,t),Ri:$m.bind(null,t),_r:Wm.bind(null,t)}),t.Mr.push(function(n){return Object(ki.b)(e,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),zm(t)?Gm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Zm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function ub(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Fl(t);return r.br(),new Pm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:nb.bind(null,t),Ri:ob.bind(null,t),Ir:rb.bind(null,t),Tr:ib.bind(null,t)}),t.Mr.push(function(n){return Object(ki.b)(e,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Jm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(jl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var cb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _p,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xl(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function lb(t,e){if(Nl("AsyncQueue",e+": "+t),Cp(t))return new xl(Al.UNAVAILABLE,e+": "+t);throw t}var hb=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||hh.comparator(e.key,n.key)}:function(t,e){return hh.comparator(t.key,e.key)},this.keyedMap=rd(),this.sortedSet=new $f(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fb=function(){function t(){this.Kr=new $f(hh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Ll():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),db=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,hb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pb=function(){this.Wr=void 0,this.listeners=[]},gb=function(){this.queries=new Ig(function(t){return af(t)},sf),this.onlineState="Unknown",this.Gr=new Set};function mb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ki.d)(this,function(c){switch(c.label){case 0:if(n=Fl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new pb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=lb(a,"Initialization of query '"+uf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&wb(n),[2]}})})}function bb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ki.d)(this,function(a){return n=Fl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function vb(t,e){for(var n=Fl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&wb(n)}function yb(t,e,n){var r=Fl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function wb(t){t.Gr.forEach(function(t){t.next()})}var _b=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new db(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=db.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Ib=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Eb=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return xd(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Dd(this.R,t.document,!1):Ch.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Od(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Eb(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ad()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return[4,tm(this.localStore,new Eb(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,em(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Lg(Object.assign({},this.progress),t))]}})})}}();var Sb=function(t){this.key=t},Ob=function(t){this.key=t},Tb=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ad(),this.mutatedKeys=ad(),this.lo=lf(t),this.fo=new hb(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new fb,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Qh(this.query)&&i.size===this.query.limit?i.last():null,c=Xh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=cf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Qh(this.query)||Xh(this.query))for(;s.size>this.query.limit;){var l=Qh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ll()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new db(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ad(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ob(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Sb(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ad();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return db.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Cb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ab=function(t){this.key=t,this.bo=!1},xb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ig(function(t){return af(t)},sf),this.Vo=new Map,this.So=new Set,this.Do=new $f(hh.comparator),this.Co=new Map,this.No=new rm,this.xo={},this.Fo=new Map,this.ko=lg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function kb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:return n=ov(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Kg(n.localStore,rf(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Rb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Vm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Rb(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(ki.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Wg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Gb(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Wg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Tb(e,i.Bn),s=o._o(i.documents),a=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Gb(t,n,u.To),c=new Cb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function jb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return n=Fl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!sf(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,$g(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),qm(n.remoteStore,r.targetId),Bb(n,r.targetId)}).catch(gg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Bb(n,r.targetId),[4,$g(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Nb(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:r=sv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fl(t),i=Gl.now(),o=e.reduce(function(t,e){return t.add(e.key)},ad());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Pf(c,n.get(c.key));null!=l&&s.push(new Ff(c.key,l,Th(l.toProto().mapValue),xf.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new $f(ql)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Zb(r,i.changes)];case 3:return a.sent(),[4,Jm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=lb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Pb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:n=Fl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Ml(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ml(r.bo):t.removedDocuments.size>0&&(Ml(r.bo),r.bo=!1))}),[4,Zb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Db(t,e,n){var r=Fl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&wb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lb(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(ki.d)(this,function(c){switch(c.label){case 0:return(r=Fl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new $f(hh.comparator)).insert(o,Ch.newNoDocument(o,zl.min())),a=ad().add(o),u=new ld(zl.min(),new Map,new Xf(ql),s,a),[4,Pb(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Yb(r),[3,4];case 2:return[4,$g(r.localStore,e,!1).then(function(){return Bb(r,e,n)}).catch(gg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Mb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:n=Fl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Hg(n.localStore,e)];case 2:return i=o.sent(),qb(n,r,null),Vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Fb(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:r=Fl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Fl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Ml(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),qb(r,e,n),Vb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Zb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ub(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:Ym((n=Fl(t)).remoteStore)||jl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Fl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=lb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Vb(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function qb(t,e,n){var r=Fl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Bb(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Hb(t,e)})}function Hb(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(qm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Yb(t))}function Gb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sb?(t.No.addReference(o.key,e),zb(t,o)):o instanceof Ob?(jl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Hb(t,o.key)):Ll()}}function zb(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(jl("SyncEngine","New document in limbo: "+n),t.So.add(r),Yb(t))}function Yb(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new hh(Wl.fromString(e)),r=t.ko.next();t.Co.set(r,new Ab(n)),t.Do=t.Do.insert(n,r),Vm(t.remoteStore,new Lp(rf(Wh(n.path)),r,2,Cl.o))}}function Zb(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:return r=Fl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Fg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(ki.d)(this,function(l){switch(l.label){case 0:n=Fl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ip.forEach(e,function(e){return Ip.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ip.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Cp(r=l.sent()))throw r;return jl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Kb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return(n=Fl(t)).currentUser.isEqual(e)?[3,3]:(jl("SyncEngine","User change. New user:",e.toKey()),[4,Bg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new xl(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Zb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function $b(t,e){var n=Fl(t),r=n.Co.get(e);if(r&&r.bo)return ad().add(r.key);var i=ad(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Wb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return[4,Wg((n=Fl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Gb(n,e.targetId,i.To),i)]}})})}function Qb(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){return[2,Xg((e=Fl(t)).localStore).then(function(t){return Zb(e,t)})]})})}function Xb(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Fl(t),r=Fl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ip.resolve(null)})})}((i=Fl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Jm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qb(i,e,r||null),Vb(i,e),function(t,e){Fl(Fl(t)._n).Gt(e)}(i.localStore,e)):Ll(),s.label=4;case 4:return[4,Zb(i,o)];case 5:return s.sent(),[3,7];case 6:jl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Jb(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ki.d)(this,function(c){switch(c.label){case 0:return ov(n=Fl(t)),sv(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,tv(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,sb(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Vm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Bb(n,e),$g(n.localStore,e,!0)}),qm(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,tv(n,a)];case 5:return c.sent(),function(t){var e=Fl(t);e.Co.forEach(function(t,n){qm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new $f(hh.comparator)}(n),n.Oo=!1,[4,sb(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function tv(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(ki.d)(this,function(g){switch(g.label){case 0:n=Fl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Kg(n.localStore,rf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Wb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Qg(n.localStore,a)];case 8:return p=g.sent(),[4,Kg(n.localStore,p)];case 9:return u=g.sent(),[4,Rb(n,ev(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ev(t){return $h(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nv(t){var e=Fl(t);return Fl(Fl(e.localStore).persistence).fn()}function rv(t,e,n,r){return Object(ki.b)(this,void 0,void 0,function(){var i,o,s;return Object(ki.d)(this,function(a){switch(a.label){case 0:return(i=Fl(t)).Oo?(jl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xg(i.localStore)];case 3:return o=a.sent(),s=ld.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Zb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,$g(i.localStore,e,!0)];case 6:return a.sent(),Bb(i,e,r),[3,8];case 7:Ll(),a.label=8;case 8:return[2]}})})}function iv(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(ki.d)(this,function(f){switch(f.label){case 0:if(!(r=ov(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(jl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Qg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Kg(r.localStore,a)];case 3:return u=f.sent(),[4,Rb(r,ev(a),u.targetId,!1)];case 4:f.sent(),Vm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ki.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,$g(r.localStore,t,!1).then(function(){qm(r.remoteStore,t),Bb(r,t)}).catch(gg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ov(t){var e=Fl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$b.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lb.bind(null,e),e.vo._r=vb.bind(null,e.eventManager),e.vo.Mo=yb.bind(null,e.eventManager),e}function sv(t){var e=Fl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fb.bind(null,e),e}var av=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return this.R=km(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return qg(this.persistence,new Ug,t.initialUser,this.R)},t.prototype.qo=function(t){return new cm(hm.bs,this.R)},t.prototype.Bo=function(t){return new Im},t.prototype.terminate=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ki.c)(e,t),e.prototype.initialize=function(e){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Jg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,sv(this.Ko.syncEngine)];case 4:return n.sent(),[4,Jm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return qg(this.persistence,new Ug,t.initialUser,this.R)},e.prototype.Uo=function(t){return new vg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Dg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ng.withCacheSize(this.cacheSizeBytes):ng.DEFAULT;return new jg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Am(),xm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Im},e}(av),cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ki.c)(e,t),e.prototype.initialize=function(e){return Object(ki.b)(this,void 0,void 0,function(){var n,r=this;return Object(ki.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof _m?(this.sharedClientState.syncEngine={ui:Xb.bind(null,n),ai:rv.bind(null,n),hi:iv.bind(null,n),fn:nv.bind(null,n),ci:Qb.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ki.b)(r,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return[4,Jb(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Am();if(!_m.yt(e))throw new xl(Al.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _m(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(uv),lv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n=this;return Object(ki.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Db(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kb.bind(null,this.syncEngine),[4,sb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new gb},t.prototype.createDatastore=function(t){var e=km(t.databaseInfo.databaseId),n=new Cm(t.databaseInfo);return function(t,e,n){return new Dm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Db(s.syncEngine,t,0)},o=Sm.yt()?new Sm:new Em,new Mm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new xb(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return e=Fl(t),jl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Um(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),hv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),fv=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new _p,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ib(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n=this;return Object(ki.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xl(Al.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(ki.d)(this,function(u){switch(u.label){case 0:return n=Fl(t),r=jd(n.R)+"/documents",i={documents:e.map(function(t){return Ad(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ml(!!e.found);var n=xd(t,e.found.name),r=Od(e.found.updateTime),i=new Oh({mapValue:{fields:e.found.fields}});return Ch.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ml(!!e.missing),Ml(!!e.readTime);var n=xd(t,e.missing),r=Od(e.readTime);return Ch.newNoDocument(n,r)}(t,e):Ll()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ml(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Gf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e=this;return Object(ki.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=hh.fromPath(n);e.mutations.push(new zf(r,e.precondition(r)))}),[4,function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return n=Fl(t),r=jd(n.R)+"/documents",i={writes:e.map(function(t){return Ld(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ll();e=zl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xl(Al.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?xf.updateTime(e):xf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(zl.min()))throw new xl(Al.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xf.updateTime(e)}return xf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),dv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Rm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ki.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ki.d)(this,function(r){return t=new fv(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zf(e)}return!1},t}(),pv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fm.UNAUTHENTICATED,this.clientId=Vl.u(),this.credentialListener=function(){},this.receivedInitialUser=new _p,this.credentials.setChangeListener(function(t){jl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new _p;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ki.b)(t,void 0,void 0,function(){var t,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=lb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gv(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ki.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),jl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ki.b)(i,void 0,void 0,function(){return Object(ki.d)(this,function(t){switch(t.label){case 0:return[4,Bg(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function mv(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,bv(t)];case 1:return n=i.sent(),jl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return(n=Fl(t)).asyncQueue.verifyOperationInProgress(),jl("RemoteStore","RemoteStore received new credentials"),r=Ym(n),n.$r.add(3),[4,Um(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Fm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function bv(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(jl("FirestoreClient","Using default OfflineComponentProvider"),[4,gv(t,new av)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function vv(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(jl("FirestoreClient","Using default OnlineComponentProvider"),[4,mv(t,new lv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function yv(t){return bv(t).then(function(t){return t.persistence})}function wv(t){return bv(t).then(function(t){return t.localStore})}function _v(t){return vv(t).then(function(t){return t.remoteStore})}function Iv(t){return vv(t).then(function(t){return t.syncEngine})}function Ev(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return[4,vv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=kb.bind(null,e.syncEngine),n.onUnlisten=jb.bind(null,e.syncEngine),n)]}})})}function Sv(t,e,n){var r=this;void 0===n&&(n={});var i=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(r,void 0,void 0,function(){var r;return Object(ki.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new hv({next:function(o){e.enqueueAndForget(function(){return bb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new xl(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new xl(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new _b(Wh(n.path),o,{includeMetadataChanges:!0,so:!0});return mb(t,s)},[4,Ev(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ov(t,e,n){var r=this;void 0===n&&(n={});var i=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(r,void 0,void 0,function(){var r;return Object(ki.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new hv({next:function(n){e.enqueueAndForget(function(){return bb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new xl(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new _b(n,o,{includeMetadataChanges:!0,so:!0});return mb(t,s)},[4,Ev(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Tv=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Cv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Av=new Map,xv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},kv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(fm.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Rv=function(){function t(t){var e=this;this.oc=null,this.currentUser=fm.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(jl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ml("string"==typeof n.accessToken),new xv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Ml(null===t||"string"==typeof t),new fm(t)},t}(),jv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=fm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Nv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new jv(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(fm.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Pv(t,e,n){if(!n)throw new xl(Al.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Dv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xl(Al.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Lv(t,e,n,r){if(!0===e&&!0===r)throw new xl(Al.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Mv(t){if(!hh.isDocumentKey(t))throw new xl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Fv(t){if(hh.isDocumentKey(t))throw new xl(Al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Uv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ll()}function Vv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xl(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uv(t);throw new xl(Al.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function qv(t,e){if(e<=0)throw new xl(Al.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xl(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xl(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Lv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Hv=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,t instanceof Cv?(this._databaseId=t,this._credentials=new kv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xl(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cv(t.options.projectId)}(t),this._credentials=new Rv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new xl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new xl(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new kv;switch(t.type){case"gapi":var e=t.client;return Ml(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Nv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xl(Al.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Av.get(this))&&(jl("ComponentProvider","Removing Datastore"),Av.delete(this),t.terminate()),Promise.resolve();var t},t}(),Gv=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yv(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),zv=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Wh(r))||this)._path=r,i.type="collection",i}return Object(ki.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Gv(this.firestore,null,new hh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(zv);function Zv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ss.h)(t),Pv("collection","path",e),t instanceof Hv)return Fv(n=Wl.fromString.apply(Wl,Object(ki.f)([e],r))),new Yv(t,null,n);if(!(t instanceof Gv||t instanceof Yv))throw new xl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fv(n=Wl.fromString.apply(Wl,Object(ki.f)([t.path],r)).child(Wl.fromString(e))),new Yv(t.firestore,null,n)}function Kv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ss.h)(t),1===arguments.length&&(e=Vl.u()),Pv("doc","path",e),t instanceof Hv)return Mv(n=Wl.fromString.apply(Wl,Object(ki.f)([e],r))),new Gv(t,null,new hh(n));if(!(t instanceof Gv||t instanceof Yv))throw new xl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mv(n=t._path.child(Wl.fromString.apply(Wl,Object(ki.f)([e],r)))),new Gv(t.firestore,t instanceof Yv?t._converter:null,new hh(n))}function $v(t,e){return t=Object(Ss.h)(t),e=Object(Ss.h)(e),(t instanceof Gv||t instanceof Yv)&&(e instanceof Gv||e instanceof Yv)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Wv(t,e){return t=Object(Ss.h)(t),e=Object(Ss.h)(e),t instanceof zv&&e instanceof zv&&t.firestore===e.firestore&&sf(t._query,e._query)&&t._converter===e._converter}var Qv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Rm(this,"async_queue_retry"),this.Ec=function(){var e=xm();e&&jl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=xm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e=this;return Object(ki.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cp(t=n.sent()))throw t;return jl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Nl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=cb.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Ll()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(ki.b)(this,void 0,void 0,function(){var t;return Object(ki.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Xv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new _p,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Qv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ki.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ey(this),this._firestoreClient.terminate()},e}(Hv);function ty(t){return t._firestoreClient||ey(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ey(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Tv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new pv(t._credentials,t._queue,r)}function ny(t,e,n){var r=this,i=new _p;return t.asyncQueue.enqueue(function(){return Object(ki.b)(r,void 0,void 0,function(){var r;return Object(ki.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gv(t,n)];case 1:return o.sent(),[4,mv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ry(t){if(t._initialized||t._terminated)throw new xl(Al.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var iy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xl(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),oy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(th.fromBase64String(e))}catch(e){throw new xl(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(th.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),sy=function(t){this._methodName=t},ay=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xl(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xl(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ql(this._lat,t._lat)||ql(this._long,t._long)},t}(),uy=/^__.*__$/,cy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ff(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mf(t,this.data,e,this.fieldTransforms)},t}(),ly=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ff(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function hy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ll()}}var fy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return jy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(hy(this.Dc)&&uy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),dy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||km(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new fy({Dc:t,methodName:e,Lc:n,path:Xl.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function py(t){var e=t._freezeSettings(),n=km(t._databaseId);return new dy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Ay("Data must be an object, but it was:",s,r);var a,u,c=Ty(r,s);if(o.merge)a=new Jl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=xy(e,f[h],n);if(!s.contains(d))throw new xl(Al.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ny(l,d)||l.push(d)}a=new Jl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new cy(new Oh(c),a,u)}var my=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(sy);function by(t,e,n){return new fy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype._toFieldTransform=function(t){return new Cf(t.path,new yf)},e.prototype.isEqual=function(t){return t instanceof e},e}(sy),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ki.c)(e,t),e.prototype._toFieldTransform=function(t){var e=by(this,t,!0),n=this.qc.map(function(t){return Oy(t,e)}),r=new wf(n);return new Cf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sy),wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ki.c)(e,t),e.prototype._toFieldTransform=function(t){var e=by(this,t,!0),n=this.qc.map(function(t){return Oy(t,e)}),r=new If(n);return new Cf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sy),_y=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(ki.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Sf(t.R,pf(t.R,this.Uc));return new Cf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(sy);function Iy(t,e,n,r){var i=t.Bc(1,e,n);Ay("Data must be an object, but it was:",i,r);var o=[],s=Oh.empty();Zl(r,function(t,r){var a=Ry(e,t,n);r=Object(Ss.h)(r);var u=i.kc(a);if(r instanceof my)o.push(a);else{var c=Oy(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Jl(o);return new ly(s,a,i.fieldTransforms)}function Ey(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[xy(e,r,n)],u=[i];if(o.length%2!=0)throw new xl(Al.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(xy(e,o[c])),u.push(o[c+1]);for(var l=[],h=Oh.empty(),f=a.length-1;f>=0;--f)if(!Ny(l,a[f])){var d=a[f],p=u[f];p=Object(Ss.h)(p);var g=s.kc(d);if(p instanceof my)l.push(d);else{var m=Oy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var b=new Jl(l);return new ly(h,b,s.fieldTransforms)}function Sy(t,e,n,r){return void 0===r&&(r=!1),Oy(n,t.Bc(r?4:3,e))}function Oy(t,e){if(Cy(t=Object(Ss.h)(t)))return Ay("Unsupported field value:",e,t),Ty(t,e);if(t instanceof sy)return function(t,e){if(!hy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Oy(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ss.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gl.fromDate(t);return{timestampValue:Id(e.R,n)}}if(t instanceof Gl)return n=new Gl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Id(e.R,n)};if(t instanceof ay)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oy)return{bytesValue:Ed(e.R,t._byteString)};if(t instanceof Gv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Td(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Uv(t))}(t,e)}function Ty(t,e){var n={};return Kl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zl(t,function(t,r){var i=Oy(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Cy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gl||t instanceof ay||t instanceof oy||t instanceof Gv||t instanceof sy)}function Ay(t,e,n){if(!Cy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Uv(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function xy(t,e,n){if((e=Object(Ss.h)(e))instanceof iy)return e._internalPath;if("string"==typeof e)return Ry(t,e);throw jy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ky=new RegExp("[~\\*/\\[\\]]");function Ry(t,e,n){if(e.search(ky)>=0)throw jy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(iy.bind.apply(iy,Object(ki.f)([void 0],e.split(".")))))._internalPath}catch(r){throw jy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new xl(Al.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ny(t,e){return t.some(function(t){return t.isEqual(e)})}var Py=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Gv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ly("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Dy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Py);function Ly(t,e){return"string"==typeof e?Ry(t,e):e instanceof iy?e._internalPath:e._delegate._internalPath}var My=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Fy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(ki.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ly("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Py),Uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Fy),Vy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new My(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Uy(n._firestore,n._userDataWriter,r.key,r,new My(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xl(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Uy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new My(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Uy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new My(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:qy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function qy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ll()}}function By(t,e){return t instanceof Fy&&e instanceof Fy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vy&&e instanceof Vy&&t._firestore===e._firestore&&Wv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Hy(t){if(Xh(t)&&0===t.explicitOrderBy.length)throw new xl(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gy=function(){};function zy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Yy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(ki.c)(e,t),e.prototype._apply=function(t){var e=py(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xl(Al.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Xy(r,t,l[c]));a={arrayValue:{values:u}}}else a=Xy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jy(s,o),a=Sy(n,"where",s,"in"===o||"not-in"===o);var h=Nh.create(i,o,a);return function(t,e){if(e.g()){var n=tf(t);if(null!==n&&!n.isEqual(e.field))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jh(t);null!==r&&tw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new xl(Al.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new zv(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Gy),Zy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(ki.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new xl(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xl(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gh(e,n);return function(t,e){if(null===Jh(t)){var n=tf(t);null!==n&&tw(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new zv(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Kh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Gy),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(ki.c)(e,t),e.prototype._apply=function(t){return new zv(t.firestore,t._converter,of(t._query,this.Gc,this.zc))},e}(Gy),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ki.c)(e,t),e.prototype._apply=function(t){var e=Qy(t,this.type,this.Hc,this.Jc);return new zv(t.firestore,t._converter,function(t,e){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Gy),Wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ki.c)(e,t),e.prototype._apply=function(t){var e=Qy(t,this.type,this.Hc,this.Jc);return new zv(t.firestore,t._converter,function(t,e){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Gy);function Qy(t,e,n,r){if(n[0]=Object(Ss.h)(n[0]),n[0]instanceof Py)return function(t,e,n,r,i){if(!r)throw new xl(Al.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=nf(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(yh(e,r.key));else{var c=r.data.field(u.field);if(oh(c))throw new xl(Al.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new xl(Al.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Bh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=py(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new xl(Al.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new xl(Al.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ef(t)&&-1!==c.indexOf("/"))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wl.fromString(c));if(!hh.isDocumentKey(l))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hh(l);a.push(yh(e,h))}else{var f=Sy(n,r,c);a.push(f)}}return new Bh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Xy(t,e,n){if("string"==typeof(n=Object(Ss.h)(n))){if(""===n)throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ef(e)&&-1!==n.indexOf("/"))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wl.fromString(n));if(!hh.isDocumentKey(r))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yh(t,new hh(r))}if(n instanceof Gv)return yh(t,n._key);throw new xl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Uv(n)+".")}function Jy(t,e){if(!Array.isArray(t)||0===t.length)throw new xl(Al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xl(Al.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function tw(t,e,n){if(!n.isEqual(e))throw new xl(Al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ew=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),fh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ih(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ll()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Zl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ay(rh(t.latitude),rh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=sh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ah(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=nh(t);return new Gl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Wl.fromString(t);Ml(Qd(n));var r=new Cv(n.get(1),n.get(3)),i=new hh(n.popFirst(5));return r.isEqual(e)||Nl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function nw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ki.c)(e,t),e.prototype.convertBytes=function(t){return new oy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gv(this.firestore,null,e)},e}(ew),iw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=py(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ow(t,this._firestore),i=nw(r._converter,e,n),o=gy(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,xf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ow(t,this._firestore);return o="string"==typeof(e=Object(Ss.h)(e))||e instanceof iy?Ey(this._dataReader,"WriteBatch.update",s._key,e,n,r):Iy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,xf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ow(t,this._firestore);return this._mutations=this._mutations.concat(new Gf(e._key,xf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new xl(Al.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ow(t,e){if((t=Object(Ss.h)(t)).firestore!==e)throw new xl(Al.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ki.c)(e,t),e.prototype.convertBytes=function(t){return new oy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gv(this.firestore,null,e)},e}(ew);function aw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Vv(t,Gv);var o=Vv(t.firestore,Jv),s=py(o);return cw(o,[("string"==typeof(e=Object(Ss.h)(e))||e instanceof iy?Ey(s,"updateDoc",t._key,e,n,r):Iy(s,"updateDoc",t._key,e)).toMutation(t._key,xf.exists(!0))])}function uw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Ss.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Xv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Xv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Gv)c=Vv(t.firestore,Jv),l=Wh(t._key.path),u={next:function(e){i[a]&&i[a](lw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Vv(t,zv);c=Vv(d.firestore,Jv),l=d._query;var p=new sw(c);u={next:function(t){i[a]&&i[a](new Vy(c,p,d,t))},error:i[a+1],complete:i[a+2]},Hy(t._query)}return function(t,e,n,r){var i=this,o=new hv(r),s=new _b(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(i,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return e=mb,[4,Ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(i,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return e=bb,[4,Ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ty(c),l,h,u)}function cw(t,e){return function(t,e){var n=this,r=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var n;return Object(ki.d)(this,function(i){switch(i.label){case 0:return n=Nb,[4,Iv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ty(t),e)}function lw(t,e,n){var r=n.docs.get(e._key),i=new sw(t);return new Fy(t,i,e._key,r,new My(n.hasPendingWrites,n.fromCache),e._converter)}var hw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ki.c)(e,t),e.prototype.get=function(e){var n=this,r=ow(e,this._firestore),i=new sw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Fy(n._firestore,i,r._key,t._document,new My(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=py(t)}return t.prototype.get=function(t){var e=this,n=ow(t,this._firestore),r=new rw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ll();var i=t[0];if(i.isFoundDocument())return new Py(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Py(e._firestore,r,n._key,null,n._converter);throw Ll()})},t.prototype.set=function(t,e,n){var r=ow(t,this._firestore),i=nw(r._converter,e,n),o=gy(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ow(t,this._firestore);return o="string"==typeof(e=Object(Ss.h)(e))||e instanceof iy?Ey(this._dataReader,"Transaction.update",s._key,e,n,r):Iy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ow(t,this._firestore);return this._transaction.delete(e._key),this},t}());function fw(){if("undefined"==typeof Uint8Array)throw new xl(Al.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dw(){if("undefined"==typeof atob)throw new xl(Al.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return dw(),new t(oy.fromBase64String(e))},t.fromUint8Array=function(e){return fw(),new t(oy.fromUint8Array(e))},t.prototype.toBase64=function(){return dw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return fw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),gw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ry(t=Vv(t,Jv));var n=ty(t),r=t._freezeSettings(),i=new lv;return ny(n,i,new uv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ry(t=Vv(t,Jv));var e=ty(t),n=t._freezeSettings(),r=new lv;return ny(e,r,new cv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new xl(Al.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new _p;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ki.b)(e,void 0,void 0,function(){var e;return Object(ki.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ki.b)(this,void 0,void 0,function(){return Object(ki.d)(this,function(e){switch(e.label){case 0:return Sp.yt()?[4,Sp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Dg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),mw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Cv||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Vv(t,Hv))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ki.b)(e,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return[4,yv(t)];case 1:return e=r.sent(),[4,_v(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Fl(t);return e.$r.delete(0),Fm(e)}(n))]}})})})}(ty(Vv(this._delegate,Jv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ki.b)(e,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return[4,yv(t)];case 1:return e=r.sent(),[4,_v(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ki.b)(this,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return(e=Fl(t)).$r.add(0),[4,Um(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ty(Vv(this._delegate,Jv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Lv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(e,void 0,void 0,function(){var e;return Object(ki.d)(this,function(r){switch(r.label){case 0:return e=Ub,[4,Iv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ty(Vv(this._delegate,Jv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new hv(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fl(t).Gr.add(e),e.next()},[4,Ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fl(t).Gr.delete(e)},[4,Ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ty(t=Vv(t,Jv)),Xv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new xl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kw(this,Zv(this._delegate,t))}catch(t){throw Iw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new _w(this,Kv(this._delegate,t))}catch(t){throw Iw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Cw(this,function(t,e){if(t=Vv(t,Hv),Pv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xl(Al.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zv(t,null,function(t){return new Kh(Wl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Iw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var n;return Object(ki.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return vv(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new dv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ty(t),function(n){return e(new hw(t,n))})}(this._delegate,function(n){return t(new vw(e,n))})},t.prototype.batch=function(){var t=this;return ty(this._delegate),new yw(new iw(this._delegate,function(e){return cw(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new xl(Al.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new xl(Al.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ki.c)(e,t),e.prototype.convertBytes=function(t){return new pw(new oy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return _w.Zc(e,this.firestore,null)},e}(ew),vw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.prototype.get=function(t){var e=this,n=Rw(t);return this._delegate.get(n).then(function(t){return new Ow(e._firestore,new Fy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Rw(t);return n?(Dv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ki.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Rw(t);return this._delegate.delete(e),this},t}(),yw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Rw(t);return n?(Dv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ki.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Rw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ww=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Uy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new bw(e),n),i.set(n,o)),o},t}();ww.eu=new WeakMap;var _w=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new xl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Gv(n._delegate,r,new hh(e)))},t.Zc=function(e,n,r){return new t(n,new Gv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kw(this.firestore,Zv(this._delegate,t))}catch(t){throw Iw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ss.h)(t))instanceof Gv&&$v(this._delegate,t)},t.prototype.set=function(t,e){e=Dv("DocumentReference.set",e);try{return function(t,e,n){t=Vv(t,Gv);var r=Vv(t.firestore,Jv),i=nw(t._converter,e,n);return cw(r,[gy(py(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,xf.none())])}(this._delegate,t,e)}catch(t){throw Iw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?aw(this._delegate,t):aw.apply(void 0,Object(ki.f)([this._delegate,t,e],n))}catch(t){throw Iw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cw(Vv((t=this._delegate).firestore,Jv),[new Gf(t._key,xf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ew(e),i=Sw(e,function(e){return new Ow(t.firestore,new Fy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return uw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Vv(t,Gv);var e=Vv(t.firestore,Jv),n=ty(e),r=new sw(e);return function(t,e){var n=this,r=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var n;return Object(ki.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xl(Al.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,wv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Fy(e,r,t._key,n,new My(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Vv(t,Gv);var e=Vv(t.firestore,Jv);return Sv(ty(e),t._key,{source:"server"}).then(function(n){return lw(e,t,n)})}(this._delegate):function(t){t=Vv(t,Gv);var e=Vv(t.firestore,Jv);return Sv(ty(e),t._key).then(function(n){return lw(e,t,n)})}(this._delegate)).then(function(t){return new Ow(e.firestore,new Fy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ww.tu(this.firestore,e):null))},t}();function Iw(t,e,n){return t.message=t.message.replace(e,n),t}function Ew(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Xv(r))return r}return{}}function Sw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Xv(t[0])?t[0]:Xv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ow=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new _w(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return By(this._delegate,t._delegate)},t}(),Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ki.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ow),Cw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,zy(this._delegate,function(t,e,n){var r=e,i=Ly("where",t);return new Yy(i,r,n)}(e,n,r)))}catch(e){throw Iw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,zy(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ly("orderBy",t);return new Zy(r,n)}(e,n)))}catch(e){throw Iw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,zy(this._delegate,function(t){return qv("limit",t),new Ky("limit",t,"F")}(e)))}catch(e){throw Iw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,zy(this._delegate,function(t){return qv("limitToLast",t),new Ky("limitToLast",t,"L")}(e)))}catch(e){throw Iw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $y("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Iw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $y("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Iw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Iw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Iw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Wv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Vv(t,zv);var e=Vv(t.firestore,Jv),n=ty(e),r=new sw(e);return function(t,e){var n=this,r=new _p;return t.asyncQueue.enqueueAndForget(function(){return Object(ki.b)(n,void 0,void 0,function(){var n;return Object(ki.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(ki.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Wg(t,e,!0)];case 1:return a=u.sent(),r=new Tb(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=lb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,wv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Vy(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Vv(t,zv);var e=Vv(t.firestore,Jv),n=ty(e),r=new sw(e);return Ov(n,t._query,{source:"server"}).then(function(n){return new Vy(e,r,t,n)})}(this._delegate):function(t){t=Vv(t,zv);var e=Vv(t.firestore,Jv),n=ty(e),r=new sw(e);return Hy(t._query),Ov(n,t._query).then(function(n){return new Vy(e,r,t,n)})}(this._delegate)).then(function(t){return new xw(e.firestore,new Vy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ew(e),i=Sw(e,function(e){return new xw(t.firestore,new Vy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return uw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ww.tu(this.firestore,e):null))},t}(),Aw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Tw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),xw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Cw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Tw(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Aw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Tw(n._firestore,r))})},t.prototype.isEqual=function(t){return By(this._delegate,t._delegate)},t}(),kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ki.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new _w(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new _w(this.firestore,void 0===t?Kv(this._delegate):Kv(this._delegate,t))}catch(t){throw Iw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Vv(t.firestore,Jv),r=Kv(t),i=nw(t._converter,e);return cw(n,[gy(py(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,xf.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new _w(e.firestore,t)})},e.prototype.isEqual=function(t){return $v(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ww.tu(this.firestore,t):null))},e}(Cw);function Rw(t){return Vv(t,Gv)}var jw,Nw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(iy.bind.apply(iy,Object(ki.f)([void 0],t)))}return t.documentId=function(){return new t(Xl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ss.h)(t))instanceof iy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Pw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new vy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new my("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wy("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new _y("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Dw=n("/6Yf"),Lw={Firestore:mw,GeoPoint:ay,Timestamp:Gl,Blob:pw,Transaction:vw,WriteBatch:yw,DocumentReference:_w,DocumentSnapshot:Ow,Query:Cw,QueryDocumentSnapshot:Tw,QuerySnapshot:xw,CollectionReference:kw,FieldPath:Nw,FieldValue:Pw,setLogLevel:function(t){kl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Mw(t,e){return function(t,e=bs.b){return new Ut.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Fw(t,e){return Mw(t,e).pipe(Object(Qt.a)(t=>({payload:t,type:"query"})))}function Uw(t,e){return Fw(t,e).pipe(se(void 0),vs(),Object(Qt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Vw(t,e,n){return Uw(t,n).pipe(ae((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return qw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return qw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new _s(void 0,void 0)),Object(Qt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function qw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Bw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Dw.a("firestore",function(t){return function(t,e){return new mw(t,new Jv(t,e),new gw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lw)))})(jw=Es.a),jw.registerVersion("@firebase/firestore","2.2.5");class Hw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Uw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(se(void 0),vs(),le(([t,e])=>e.length>0||!t),Object(Qt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Bw(t);return Vw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Qo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Gw(this.ref.doc(t),this.afs)}}class Gw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Ww(n,e);return new Hw(r,i,this.afs)}snapshotChanges(){return Mw(this.ref,this.afs.schedulers.outsideAngular).pipe(se(void 0),vs(),Object(Qt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Qt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(At.a)(this.ref.get(t)).pipe(Object(Qo.b)(this.afs.schedulers.insideAngular))}}class zw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Uw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),le(t=>t.length>0),this.afs.keepUnstableUntilFirst):Uw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Bw(t);return Vw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Qo.b)(this.afs.schedulers.insideAngular))}}const Yw=new r.u("angularfire2.enableFirestorePersistence"),Zw=new r.u("angularfire2.firestore.persistenceSettings"),Kw=new r.u("angularfire2.firestore.settings"),$w=new r.u("angularfire2.firestore.use-emulator");function Ww(t,e=(t=>t)){return{query:e(t),ref:t}}let Qw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new os.d(o),this.keepUnstableUntilFirst=Object(os.h)(this.schedulers);const c=Object(os.g)(t,o,e);!$o.a.auth&&u&&Object(os.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(os.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!$(i)){const e=()=>{try{return Object(At.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(jw){return"undefined"!=typeof console&&console.warn(jw),Object(xt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(xt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Ww(n,e),o=this.schedulers.ngZone.run(()=>r);return new Hw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new zw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Gw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.gc(os.c),r.gc(os.b,8),r.gc(Yw,8),r.gc(Kw,8),r.gc(r.I),r.gc(r.F),r.gc(Zw,8),r.gc($w,8),r.gc(ss,8))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(os.c),Object(r.gc)(os.b,8),Object(r.gc)(Yw,8),Object(r.gc)(Kw,8),Object(r.gc)(r.I),Object(r.gc)(r.F),Object(r.gc)(Zw,8),Object(r.gc)($w,8),Object(r.gc)(ss,8))},token:t,providedIn:"any"}),t})(),Xw=(()=>{class t{constructor(t,e){this.firestore=t,this.router=e,this.objecjSorce=new jt({}),this.data=[],this.$getObjecjtSorce=this.objecjSorce.asObservable()}getCollections(t){return this.firestore.collection(t).valueChanges()}getId(){return this.firestore.createId()}deleteDoc(t,e){return this.firestore.collection(t).doc(e).delete()}getUser(){return this.firestore.collection("usuarios").snapshotChanges()}createUser(t){return this.firestore.collection("usuarios").add(t)}sendObjectSorce(t){this.objecjSorce.next(t)}getProductos(){return this.firestore.collection("productos").snapshotChanges()}getDoc(t,e){return this.firestore.collection(t).doc(e).valueChanges()}crearDoc(t,e,n){return this.firestore.collection(t).doc(n).set(e)}createProducto(t){return this.firestore.collection("productos").add(t)}updateProducto(t,e){return this.firestore.collection("productos").doc(t).update(e)}eliminarProducto(t){return this.firestore.collection("productos").doc(t).delete()}agregarUrl(t){return this.firestore.collection("productos").doc(t.id).update(t.url)}}return t.\u0275fac=function(e){return new(e||t)(r.gc(Qw),r.gc(ui))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jw=function(){return["/login"]};let t_=(()=>{class t{constructor(t,e,n){this.autServ=t,this.router=e,this.fireServ=n,this.usuario={nombre:"",uid:""},this.registerForm=new Ro({email:new ko(""),password:new ko(""),nombre:new ko(""),apellidos:new ko("")})}ngOnInit(){}onRegister(){return Object(ki.b)(this,void 0,void 0,function*(){const{email:t,password:e}=this.registerForm.value,{nombre:n,apellidos:r}=this.registerForm.value;try{const i=yield this.autServ.register(t,e);i&&(i.user.updateProfile({displayName:n+" "+r}),this.usuario={nombre:n+" "+r,uid:i.user.uid},this.fireServ.crearDoc("Usuarios",this.usuario,this.usuario.uid),this.router.navigate(["principal"]))}catch(i){console.log(i)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps),r.Ub(ui),r.Ub(Xw))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-register"]],features:[r.Hb([ps])],decls:31,vars:3,consts:[[1,"row",2,"margin-bottom","6.5%"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group",2,"width","40%"],["for","nombre"],["type","text","formControlName","nombre",1,"form-control"],[1,"form-group","ms-3",2,"width","40%"],["for","apellidos"],["type","text","formControlName","apellidos",1,"form-control"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"h1",4),r.Gc(5,"Registro"),r.Yb(),r.Zb(6,"form",5),r.jc("ngSubmit",function(){return e.onRegister()}),r.Zb(7,"div",6),r.Zb(8,"div",7),r.Zb(9,"label",8),r.Gc(10,"Nombre"),r.Yb(),r.Vb(11,"input",9),r.Yb(),r.Zb(12,"div",10),r.Zb(13,"label",11),r.Gc(14,"Apellidos"),r.Yb(),r.Vb(15,"input",12),r.Yb(),r.Yb(),r.Zb(16,"div",13),r.Zb(17,"label",14),r.Gc(18,"Correo"),r.Yb(),r.Vb(19,"input",15),r.Yb(),r.Zb(20,"div",13),r.Zb(21,"label",16),r.Gc(22,"Contrase\xf1a"),r.Yb(),r.Vb(23,"input",17),r.Yb(),r.Zb(24,"button",18),r.Gc(25,"Register"),r.Yb(),r.Yb(),r.Zb(26,"div",19),r.Zb(27,"p"),r.Gc(28,"\xbfYa tienes una cuenta? "),r.Zb(29,"a",20),r.Gc(30," Inicia Sesion"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Ib(6),r.rc("formGroup",e.registerForm),r.Ib(23),r.rc("routerLink",r.uc(2,Jw)))},directives:[Lo,co,Bo,Mi,uo,Go,ci],styles:[""]}),t})();var e_=n("n6bG");function n_(t,e,n,r){return Object(e_.a)(n)&&(r=n,n=void 0),r?n_(t,e,n).pipe(Object(Qt.a)(t=>Object(Pt.a)(t)?r(...t):r(t))):new Ut.a(r=>{r_(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function r_(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)r_(t[o],e,n,r,i)}r.add(o)}var i_=n("Y7HM");function o_(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class s_{call(t,e){return e.subscribe(new a_(t))}}class a_ extends Lt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Vt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var u_=n("Lhse");function c_(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(qt.a)(t,void 0).lift(new l_(e))}class l_{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h_(t,this.resultSelector))}}class h_ extends Dt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Pt.a)(t)?e.push(new d_(t)):e.push("function"==typeof t[u_.a]?new f_(t[u_.a]()):new p_(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class f_{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class d_{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[u_.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class p_ extends Xt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[u_.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Xt.c)(this.observable,new Xt.a(this))}}function g_(t){return e=>e.lift(new m_(t))}class m_{constructor(t){this.notifier=t}call(t,e){const n=new b_(t),r=Object(Xt.c)(this.notifier,new Xt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class b_ extends Xt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function v_(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new y_(t,n))}}class y_{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new w_(t,this.observables,this.project))}}class w_ extends Lt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Vt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const __=["*"],I_=["dialog"];function E_(t){return null!=t}function S_(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const O_={animation:!0,transitionTimerDelayMs:5};let T_=(()=>{class t{constructor(){this.animation=O_.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Qb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const C_=()=>{},{transitionTimerDelayMs:A_}=O_,x_=new Map,k_=(t,e,n,r)=>{let i=r.context||{};const o=x_.get(e);if(o)switch(r.runningTransition){case"continue":return Kt.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),x_.delete(e)}const s=n(e,r.animation,i)||C_;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(xt.a)(void 0).pipe(function(t){return e=>new Ut.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new kt.a,u=new kt.a,c=a.pipe(function(...t){return e=>Zt(e,Object(xt.a)(...t))}(!0));x_.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=n_(e,"transitionend").pipe(g_(c),le(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(Pt.a)(t[0]))return t[0];t=t[0]}return Object(qt.a)(t,void 0).lift(new s_)})(function(t=0,e,n){let r=-1;return Object(i_.a)(e)?r=Number(e)<1?1:Number(e):Object(Nt.a)(e)&&(n=e),Object(Nt.a)(n)||(n=bs.a),new Ut.a(e=>{const i=Object(i_.a)(t)?t:+t-n.now();return n.schedule(o_,i,{index:0,period:r,subscriber:e})})}(l+A_).pipe(g_(c)),n,u).pipe(g_(c)).subscribe(()=>{x_.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},R_=(t,e,n)=>{let{direction:r,maxHeight:i}=n;const{classList:o}=t;function s(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function(t){if("undefined"==typeof navigator)return"0px";const{classList:e}=t,n=e.contains("show");n||e.add("show"),t.style.height="";const r=t.getBoundingClientRect().height+"px";return n||e.remove("show"),r}(t),n.maxHeight=i,t.style.height="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),S_(t),o.add("collapsing")),t.style.height="show"===r?i:"0px",()=>{s(),o.remove("collapsing"),t.style.height=""};s()};let j_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),N_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),P_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})(),D_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),L_=(()=>{class t{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.gc(T_))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(T_))},token:t,providedIn:"root"}),t})(),M_=(()=>{class t{constructor(t,e,n){this._element=t,this._zone=n,this.collapsed=!1,this.ngbCollapseChange=new r.q,this.shown=new r.q,this.hidden=new r.q,this.animation=e.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,e){return k_(this._zone,this._element.nativeElement,R_,{animation:e,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,e){this._runTransition(t,e).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.o),r.Ub(L_),r.Ub(r.F))},t.\u0275dir=r.Pb({type:t,selectors:[["","ngbCollapse",""]],inputs:{collapsed:["ngbCollapse","collapsed"],animation:"animation"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[r.Gb]}),t})(),F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})();var U_=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const V_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function q_(t){const e=Array.from(t.querySelectorAll(V_)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=b&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let B_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K,Yo]]}),t})(),H_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Pb({type:t,selectors:[["",8,"navbar"]]}),t})(),G_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})(),z_=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.gc(T_))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(T_))},token:t,providedIn:"root"}),t})();class Y_{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Z_=()=>{};let K_=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Z_}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.gc(s))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(s))},token:t,providedIn:"root"}),t})(),$_=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(re(1)).subscribe(()=>{k_(this._zone,this._el.nativeElement,(t,e)=>{e&&S_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return k_(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.o),r.Ub(r.F))},t.\u0275cmp=r.Ob({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Kb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Mb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class W_{close(t){}dismiss(t){}}class Q_{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new kt.a,this._dismissed=new kt.a,this._hidden=new kt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(g_(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(g_(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(xt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),c_(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var X_=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let J_=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new kt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.q,this.shown=new kt.a,this.hidden=new kt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=c_(k_(this._zone,t,()=>t.classList.remove("show"),e),k_(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};c_(k_(this._zone,this._elRef.nativeElement,(t,e)=>{e&&S_(t),t.classList.add("show")},t),k_(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{n_(t,"keydown").pipe(g_(this._closed$),le(t=>t.which===U_.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(X_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;n_(this._dialogEl.nativeElement,"mousedown").pipe(g_(this._closed$),Object(ke.a)(()=>e=!1),Jt(()=>n_(t,"mouseup").pipe(g_(this._closed$),re(1))),le(({target:e})=>t===e)).subscribe(()=>{e=!0}),n_(t,"click").pipe(g_(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(X_.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=q_(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&k_(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s),r.Ub(r.o),r.Ub(r.F))},t.\u0275cmp=r.Ob({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Kc(I_,3),2&t){let t;r.yc(t=r.kc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Jb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Kb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Mb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:__,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.qc(),r.Zb(0,"div",0,1),r.Zb(2,"div",2),r.pc(3),r.Yb(),r.Yb()),2&t&&r.Kb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),tI=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new kt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=n_(e,"focusin").pipe(g_(n),Object(Qt.a)(t=>t.target));n_(e,"keydown").pipe(g_(n),le(t=>t.which===U_.Tab),v_(t)).subscribe(([t,n])=>{const[r,i]=q_(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&n_(e,"click").pipe(g_(n),v_(t),Object(Qt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:E_(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new W_,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Q_(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory($_).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(J_).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{E_(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{E_(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.S?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Y_([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Y_([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Y_([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.v.create({providers:[{provide:W_,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Y_([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.gc(r.g),r.gc(r.v),r.gc(s),r.gc(K_),r.gc(r.M),r.gc(r.F))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(r.g),Object(r.gc)(r.r),Object(r.gc)(s),Object(r.gc)(K_),Object(r.gc)(r.M),Object(r.gc)(r.F))},token:t,providedIn:"root"}),t})(),eI=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.gc(r.l),r.gc(r.v),r.gc(tI),r.gc(z_))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(r.l),Object(r.gc)(r.r),Object(r.gc)(tI),Object(r.gc)(z_))},token:t,providedIn:"root"}),t})(),nI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:[eI]}),t})(),rI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),iI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),oI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),sI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),aI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),uI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),cI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})(),lI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})();new r.u("live announcer delay",{providedIn:"root",factory:function(){return 100}});let hI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[K]]}),t})();const fI=[j_,N_,P_,D_,F_,B_,G_,nI,rI,iI,oI,sI,aI,uI,cI,lI,hI];let dI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[fI,j_,N_,P_,D_,F_,B_,G_,nI,rI,iI,oI,sI,aI,uI,cI,lI,hI]}),t})(),pI=(()=>{class t{constructor(t,e,n){this.fireAuth=t,this.fireBase=e,this.router=n,this.pedido$=new kt.a,this.path="carrito/",this.uid="",this.initCarrito(),this.fireAuth.getUserCurrent().subscribe(t=>{t&&(this.uid=t.uid,this.loadCliente())})}getUid(){return this.fireAuth.getUserCurrent().subscribe(t=>{this.uid=t.uid}),this.uid}loadCarrito(){this.fireBase.getDoc("Usuarios/"+this.uid+"/"+this.path,this.uid).subscribe(t=>{t?(this.pedido=t,this.pedido$.next(this.pedido)):this.initCarrito()})}initCarrito(){this.pedido={id:this.uid,usuario:this.usuario,producto:[],precioTotal:null,estado:"Enviado"},this.pedido$.next(this.pedido)}loadCliente(){this.fireBase.getDoc("Usuarios",this.uid).subscribe(t=>{this.usuario=t,this.loadCarrito()})}addProducto(t){if(this.uid.length){{const e=this.pedido.producto.find(e=>e.producto.idFirebase===t.idFirebase);e?e.cantidad++:this.pedido.producto.push({cantidad:1,producto:t})}this.fireBase.crearDoc("Usuarios/"+this.uid+"/"+this.path,this.pedido,this.uid).then(()=>{console.log("a\xf1adido con exito a la base de datos")})}else this.router.navigate(["login"])}getCarrito(){return setTimeout(()=>{this.pedido$.next(this.pedido)},250),this.pedido$.asObservable()}removeProducto(t){if(this.uid.length){let e=0;const n=this.pedido.producto.find((n,r)=>(e=r,n.producto.idFirebase===t.idFirebase));n&&(n.cantidad--,0==n.cantidad&&this.pedido.producto.splice(e,1)),this.fireBase.crearDoc("Usuarios/"+this.uid+"/"+this.path,this.pedido,this.uid).then(()=>{console.log("eliminado con exito")})}}realizarPedido(){}clearCarrito(){this.fireBase.deleteDoc("Usuarios/"+this.uid+"/"+this.path,this.uid).then(()=>{this.initCarrito()})}}return t.\u0275fac=function(e){return new(e||t)(r.gc(ps),r.gc(Xw),r.gc(ui))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gI(t,e){1&t&&(r.Zb(0,"h2",4),r.Gc(1,"No hay productos en el carrito"),r.Yb())}function mI(t,e){1&t&&(r.Zb(0,"h3",4),r.Gc(1,"Carrito de compras"),r.Yb())}function bI(t,e){if(1&t&&(r.Zb(0,"p"),r.Gc(1,"Talla: "),r.Zb(2,"strong"),r.Gc(3),r.Yb(),r.Yb()),2&t){const t=r.lc().$implicit;r.Ib(3),r.Hc(t.producto.talla)}}function vI(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",7),r.Zb(1,"div",13),r.Vb(2,"img",14),r.Zb(3,"div",15),r.Zb(4,"div",16),r.Gc(5),r.Zb(6,"div",17),r.Gc(7),r.mc(8,"number"),r.Yb(),r.Yb(),r.Zb(9,"div",18),r.Gc(10),r.Yb(),r.Ec(11,bI,4,1,"p",19),r.Zb(12,"p"),r.Gc(13,"Color: "),r.Zb(14,"strong"),r.Gc(15),r.Yb(),r.Yb(),r.Zb(16,"p"),r.Gc(17,"Cantidad:"),r.Yb(),r.Zb(18,"div",20),r.Zb(19,"button",21),r.jc("click",function(){r.Ac(t);const n=e.$implicit;return r.lc(2).delete(n.producto)}),r.Gc(20,"-"),r.Yb(),r.Vb(21,"input",22),r.Zb(22,"button",21),r.jc("click",function(){r.Ac(t);const n=e.$implicit;return r.lc(2).add(n.producto)}),r.Gc(23,"+"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=e.$implicit;r.Ib(2),r.rc("src",t.producto.url,r.Bc),r.Ib(3),r.Ic(" ",t.producto.marca," "),r.Ib(2),r.Ic("$",r.nc(8,7,t.producto.precio),".00"),r.Ib(3),r.Ic(" ",t.producto.caracteristicas," "),r.Ib(1),r.rc("ngIf",null!=t.talla),r.Ib(4),r.Hc(t.producto.color),r.Ib(6),r.rc("value",t.cantidad)}}function yI(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",5),r.Ec(1,vI,24,9,"div",6),r.Zb(2,"div",7),r.Zb(3,"div",8),r.Zb(4,"div",9),r.Zb(5,"button",10),r.jc("click",function(){return r.Ac(t),r.lc().regresar()}),r.Gc(6,"Regresar"),r.Yb(),r.Zb(7,"button",11),r.jc("click",function(){r.Ac(t);const e=r.lc(),n=r.zc(8);return e.nuevo(n)}),r.Gc(8,"Comprar!"),r.Yb(),r.Zb(9,"div",12),r.Gc(10),r.mc(11,"number"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=r.lc();r.Ib(1),r.rc("ngForOf",t.articulos),r.Ib(9),r.Ic(" Total: $",r.nc(11,2,t.total),".00 ")}}function wI(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",23),r.Zb(1,"h4",24),r.Gc(2,"Metodos de Pago"),r.Yb(),r.Zb(3,"button",25),r.jc("click",function(){return e.$implicit.dismiss("Cross click")}),r.Zb(4,"span",26),r.Gc(5,"\xd7"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",27),r.Zb(7,"div"),r.Zb(8,"div",28),r.jc("click",function(){return r.Ac(t),r.zc(14).toggle()})("click",function(){return r.Ac(t),r.lc().validarPago()}),r.Vb(9,"img",29),r.Vb(10,"img",30),r.Zb(11,"p",31),r.Gc(12,"Tarjeta de Credito/Debito"),r.Yb(),r.Yb(),r.Yb(),r.Zb(13,"div",32,33),r.jc("ngbCollapseChange",function(e){return r.Ac(t),r.lc().isCollapsed=e}),r.Zb(15,"div",34),r.Zb(16,"strong"),r.Zb(17,"label",35),r.Gc(18,"Numero de Tarjeta"),r.Yb(),r.Yb(),r.Vb(19,"input",36),r.Yb(),r.Zb(20,"div",34),r.Zb(21,"strong"),r.Zb(22,"label",35),r.Gc(23,"Nombre y Apellidos"),r.Yb(),r.Yb(),r.Vb(24,"input",36),r.Yb(),r.Zb(25,"div",34),r.Zb(26,"strong"),r.Zb(27,"label",35),r.Gc(28,"Fecha expiracion"),r.Yb(),r.Yb(),r.Vb(29,"input",37),r.Yb(),r.Zb(30,"div",34),r.Zb(31,"strong"),r.Zb(32,"label",35),r.Gc(33,"Codigo de Seguridad"),r.Yb(),r.Yb(),r.Vb(34,"input",36),r.Yb(),r.Yb(),r.Yb(),r.Zb(35,"div",38),r.Zb(36,"button",39),r.jc("click",function(){return r.Ac(t),r.lc().comprar()}),r.Gc(37,"Finalizar Compra"),r.Yb(),r.Yb()}if(2&t){const t=r.lc();r.Ib(13),r.rc("ngbCollapse",t.isCollapsed),r.Ib(23),r.rc("disabled",t.pagado)}}let _I=(()=>{class t{constructor(t,e,n,r,i){this.modalService=t,this.authServ=e,this.carritoServ=n,this.firebaseServ=r,this.router=i,this.cantidadOpt=[1,2,3,4,5],this.carrito={},this.toast=!1,this.isMenuCollapsed=!0,this.isCollapsed=!0,this.user$=this.authServ.afServ.user,this.pagado=!0}ngOnInit(){this.cargarCarrito()}comprar(){if(!this.pedidos.producto.length)return void(this.vacio=!0);this.pedidos.precioTotal=this.total,this.pedidos.estado="En Proceso de Envio",this.pedidos.id=this.firebaseServ.getId();const t=this.carritoServ.getUid();this.firebaseServ.crearDoc("Usuarios/"+t+"/Pedidos",this.pedidos,this.pedidos.id).then(()=>{this.carritoServ.clearCarrito(),console.log("Guardado con exito"),this.carrito=null,this.router.navigate(["inicio"])}),console.log("comprar-> ",this.pedidos,t)}validarPago(){this.pagado=!1}nuevo(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===X_.ESC?"by pressing ESC":t===X_.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}cerrar(){this.modalService.dismissAll()}regresar(){this.router.navigate(["inicio"])}add(t){this.cargarCarrito(),this.carritoServ.addProducto(t)}delete(t){this.carritoServ.removeProducto(t),this.cargarCarrito()}cargarCarrito(){this.carritoServ.getCarrito().subscribe(t=>{t.producto.length?(this.vacio=!1,this.pedidos=t,this.articulos=this.pedidos.producto,this.getCantidad(),this.getTotat(),console.log("Nooooo Esta vacio",this.articulos)):this.vacio=!0})}getId(){this.firebaseServ.getProductos().subscribe(t=>{this.data=t.map(t=>({idFirebase:t.payload.doc.id}))})}agregarCarrito(t){null!=t&&(this.producto={color:t.color,caracteristicas:t.caracteristicas,precio:t.precio,existencias:t.existencias,marca:t.marca,talla:t.talla,url:t.url,idFirebase:t.idFirebase},this.toast=!0,this.carritoServ.addProducto(this.producto),setTimeout(()=>{this.toast=!1,console.log("estamos en el delay")},5e3))}getTotat(){this.total=0,this.pedidos.producto.forEach(t=>{this.total=t.producto.precio*t.cantidad+this.total}),this.pedidos.precioTotal=this.total}getCantidad(){this.cantidad=0,this.pedidos.producto.forEach(t=>{this.cantidad=t.cantidad+this.cantidad})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(eI),r.Ub(ps),r.Ub(pI),r.Ub(Xw),r.Ub(ui))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-carrito"]],decls:9,vars:3,consts:[[2,"font-size","xx-large","overflow","hidden","white-space","nowrap"],["style","text-align: center;",4,"ngIf"],["class","card","style","width: 80vw; margin-left: auto; margin-right:auto; display: block;",4,"ngIf"],["content",""],[2,"text-align","center"],[1,"card",2,"width","80vw","margin-left","auto","margin-right","auto","display","block"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"card","mx-auto",2,"width","65vw"],[1,"card-header",2,"display","flex"],[1,"btn","btn-info","mr-3",3,"click"],[1,"btn","btn-success",3,"click"],[1,"card-title",2,"font-weight","bold","font-size","large","margin-left","auto"],[1,"card","mx-auto",2,"width","65vw","display","flex","flex-direction","row"],[2,"width","180px","height","150px","padding","5px","margin-top",".8\n        5rem",3,"src"],[1,"card-body",2,"display","flex","flex-direction","column"],[1,"card-title",2,"font-size","large","font-weight","bold","display","flex"],[2,"margin-left","auto"],[1,"card-title",2,"font-size","medium","font-weight","bold"],[4,"ngIf"],[2,"display","flex"],[2,"width","20px","padding","3px",3,"click"],["type","number","readonly","true",2,"text-align","center","width","40px",3,"value"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","mx-auto"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"card","border-secondary","btn",2,"display","flex","flex-direction","row",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/claudia-32bd6.appspot.com/o/visa.png?alt=media&token=59a6904e-90f6-4dce-aaf5-43d4e78d0c0b",2,"width","2.5rem"],["src","https://firebasestorage.googleapis.com/v0/b/moda-b906d.appspot.com/o/matercard.png?alt=media&token=cc5eaaa1-9223-4740-a664-504159f11da6",2,"width","2.5rem"],[2,"margin-left","1rem","font-size","large"],[1,"card","border-secondary",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"form-group"],["for",""],["type","text",1,"form-control"],["type","date",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(t,e){1&t&&(r.Zb(0,"p",0),r.Gc(1," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Ec(2,gI,2,0,"h2",1),r.Ec(3,mI,2,0,"h3",1),r.Zb(4,"p",0),r.Gc(5," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Ec(6,yI,12,4,"div",2),r.Ec(7,wI,38,2,"ng-template",null,3,r.Fc)),2&t&&(r.Ib(2),r.rc("ngIf",1==e.vacio),r.Ib(1),r.rc("ngIf",1!=e.vacio),r.Ib(3),r.rc("ngIf",1!=e.vacio))},directives:[F,L,M_],pipes:[Z],styles:[""]}),t})(),II=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["app-contacto"]],decls:24,vars:0,consts:[[1,"row","mt-3","mb-3",2,"margin","0"],[1,"col-md-5","mx-auto"],[1,"card","fondo"],[1,"card-body"],[1,"text-center","letras"],[1,"form-group"],["for","email",1,"letras"],["type","text","formControlName","nombre",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["for","password",1,"letras"],["type","text","formControlName","dudad",1,"form-control"],["type","submit",1,"btn","btn-success","btn-block","mt-5"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"h2",4),r.Gc(5,"Boho Pink"),r.Yb(),r.Zb(6,"h4",4),r.Gc(7,"Contactanos"),r.Yb(),r.Zb(8,"form"),r.Zb(9,"div",5),r.Zb(10,"label",6),r.Gc(11,"Nombre"),r.Yb(),r.Vb(12,"input",7),r.Yb(),r.Zb(13,"div",5),r.Zb(14,"label",6),r.Gc(15,"Correo"),r.Yb(),r.Vb(16,"input",8),r.Yb(),r.Zb(17,"div",5),r.Zb(18,"label",9),r.Gc(19,"Dudas o Aclaraciones"),r.Yb(),r.Vb(20,"input",10),r.Yb(),r.Zb(21,"div"),r.Zb(22,"button",11),r.Gc(23,"Enviar"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb())},directives:[Lo,co,Do,Mi,uo,Go],styles:[""]}),t})();class EI{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new SI(t,this.dueTime,this.scheduler))}}class SI extends Dt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(OI,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function OI(t){t.debouncedNext()}var TI="firebasestorage.googleapis.com",CI=function(t){function e(n,r){var i=t.call(this,AI(n),"Firebase Storage: "+r+" ("+AI(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(ki.c)(e,t),e.prototype._codeEquals=function(t){return AI(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Ss.c);function AI(t){return"storage/"+t}function xI(){return new CI("unknown","An unknown error occurred, please check the error payload for server response.")}function kI(){return new CI("canceled","User canceled the upload/download.")}function RI(){return new CI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jI(t){return new CI("invalid-argument",t)}function NI(){return new CI("app-deleted","The Firebase app was deleted.")}function PI(t){return new CI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function DI(t,e){return new CI("invalid-format","String does not match format '"+t+"': "+e)}function LI(t){throw new CI("internal-error","Internal error: "+t)}var MI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},FI=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function UI(t,e){switch(t){case MI.RAW:return new FI(VI(e));case MI.BASE64:case MI.BASE64URL:return new FI(qI(t,e));case MI.DATA_URL:return new FI((n=new BI(e)).base64?qI(MI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(jw){throw DI(MI.DATA_URL,"Malformed data URL.")}return VI(e)}(n.rest),new BI(e).contentType)}var n;throw xI()}function VI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function qI(t,e){switch(t){case MI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw DI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case MI.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw DI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(jw){throw DI(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var BI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw DI(MI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),HI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GI(t){switch(t){case"running":case"pausing":case"canceling":return HI.RUNNING;case"paused":return HI.PAUSED;case"success":return HI.SUCCESS;case"canceled":return HI.CANCELED;case"error":default:return HI.ERROR}}var zI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),YI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zI.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=zI.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=zI.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw LI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw LI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw LI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(jw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw LI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ZI=function(){function t(){}return t.prototype.createXhrIo=function(){return new YI},t}(),KI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(jw){return new t(e,"")}if(""===r.path)return r;throw new CI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===TI?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new CI("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),$I=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function WI(t){return"string"==typeof t||t instanceof String}function QI(t){return XI()&&t instanceof Blob}function XI(){return"undefined"!=typeof Blob}function JI(t,e,n,r){if(r<e)throw jI("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw jI("Invalid value for '"+t+"'. Expected "+n+" or less.")}function tE(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function eE(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var nE=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(jw){o(jw)}else null!==s?((r=xI()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?NI():kI():new CI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new rE(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new rE(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===zI.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new rE(s,n))}else{var a=n.getErrorCode()===zI.ABORT;e(!1,new rE(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(ki.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(ki.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),rE=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function iE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function oE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=iE();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(XI())return new Blob(t);throw new CI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var sE=function(){function t(t,e){var n=0,r="";QI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(QI(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(XI()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(oE.apply(null,r))}var i=e.map(function(t){return WI(t)?UI(MI.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function aE(t){var e,n;try{e=JSON.parse(t)}catch(jw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function uE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function cE(t,e){return e}var lE=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||cE}}(),hE=null;function fE(){if(hE)return hE;var t=[];t.push(new lE("bucket")),t.push(new lE("generation")),t.push(new lE("metageneration")),t.push(new lE("name","fullPath",!0));var e=new lE("name");e.xform=function(t,e){return function(t){return!WI(t)||t.length<2?t:uE(t)}(e)},t.push(e);var n=new lE("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new lE("timeCreated")),t.push(new lE("updated")),t.push(new lE("md5Hash",null,!0)),t.push(new lE("cacheControl",null,!0)),t.push(new lE("contentDisposition",null,!0)),t.push(new lE("contentEncoding",null,!0)),t.push(new lE("contentLanguage",null,!0)),t.push(new lE("contentType",null,!0)),t.push(new lE("metadata","customMetadata",!0)),hE=t}function dE(t,e,n){var r=aE(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new KI(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function pE(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var gE=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function mE(t){if(!t)throw xI()}function bE(t,e){return function(n,r){var i=dE(t,r,e);return mE(null!==i),i}}function vE(t){return function(e,n){var r;return(r=401===e.getStatus()?new CI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new CI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new CI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function yE(t){var e=vE(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new CI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wE(t,e,n){var r=tE(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new gE(r,"GET",bE(t,n),i);return o.errorHandler=yE(e),o}function _E(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var IE=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function EE(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(jw){mE(!1)}return mE(!!n&&-1!==(e||["active"]).indexOf(n)),n}var SE=262144,OE=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function TE(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var CE=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=fE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=_E(e,r,i),a={name:s.fullPath},u=tE(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=pE(s,n),h=new gE(u,"POST",function(t){var e;EE(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(jw){mE(!1)}return mE(WI(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=vE(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new gE(n,"POST",function(t){var e=EE(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(jw){mE(!1)}n||mE(!1);var i=Number(n);return mE(!isNaN(i)),new IE(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=vE(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=SE*this._chunkMultiplier,n=new IE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new IE(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new CI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw RI();var p=new gE(n,"POST",function(t,n){var i,s=EE(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?bE(e,o)(t,n):null,new IE(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=vE(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(jw){return t._error=jw,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){SE*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=wE(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=_E(e,r,i),c=pE(u,n),l=sE.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw RI();var h={name:u.fullPath},f=tE(o,t.host),d=t.maxUploadRetryTime,p=new gE(f,"POST",bE(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=vE(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=kI(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=GI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new OE(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(GI(this._state)){case HI.SUCCESS:TE(this._resolve.bind(null,this.snapshot))();break;case HI.CANCELED:case HI.ERROR:TE(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(GI(this._state)){case HI.RUNNING:case HI.PAUSED:t.next&&TE(t.next.bind(t,this.snapshot))();break;case HI.SUCCESS:t.complete&&TE(t.complete.bind(t))();break;case HI.CANCELED:case HI.ERROR:t.error&&TE(t.error.bind(t,this._error))();break;default:t.error&&TE(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),AE=function(){function t(t,e){this._service=t,this._location=e instanceof KI?e:KI.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new KI(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return uE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new KI(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw PI(t)},t}();function xE(t){var e={prefixes:[],items:[]};return kE(t,e).then(function(){return e})}function kE(t,e,n){return Object(ki.b)(this,void 0,void 0,function(){var r,i,o;return Object(ki.d)(this,function(s){switch(s.label){case 0:return[4,RE(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,kE(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function RE(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r,i;return Object(ki.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&JI("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=tE(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new gE(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=aE(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new KI(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new KI(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return mE(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=vE(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function jE(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new KI(t._location.bucket,n);return new AE(t.storage,r)}function NE(t){return/^[A-Za-z]+:\/\//.test(t)}function PE(t,e){if(t instanceof ME){var n=t;if(null==n._bucket)throw new CI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new AE(n,n._bucket);return null!=e?PE(r,e):r}if(void 0!==e){if(e.includes(".."))throw jI('`path` param cannot contain ".."');return jE(t,e)}return t}function DE(t,e){if(e&&NE(e)){if(t instanceof ME)return new AE(t,e);throw jI("To use ref(service, url), the first argument must be a Storage instance.")}return PE(t,e)}function LE(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:KI.makeFromBucketSpec(n,t)}var ME=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=TI,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?KI.makeFromBucketSpec(r,this._host):LE(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?KI.makeFromBucketSpec(this._url,t):LE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){JI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){JI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ki.b)(this,void 0,void 0,function(){var t,e;return Object(ki.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new AE(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new $I(NI());var r=function(t,e,n,r,i){var o=eE(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new nE(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function FE(t,e){return DE(t=Object(Ss.h)(t),e)}var UE,VE,qE=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),BE=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new qE(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new qE(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new qE(t,i,i._ref))}:{next:e.next?function(t){return e.next(new qE(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),HE=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new GE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new GE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),GE=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return jE(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new BE(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new CE(t,new sE(e),n)}(t=Object(Ss.h)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=MI.RAW),this._throwIfRoot("putString");var r=UI(e,t),i=Object(ki.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new BE(new CE(this._delegate,new sE(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,xE(t=Object(Ss.h)(t))).then(function(t){return new HE(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return RE(t=Object(Ss.h)(t),e)}(this._delegate,t||void 0).then(function(t){return new HE(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=wE(t.storage,t._location,fE()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(Ss.h)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ki.b)(this,void 0,void 0,function(){var n,r;return Object(ki.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=tE(e.fullServerUrl(),t.host),o=pE(n,r),s=t.maxOperationRetryTime,a=new gE(i,"PATCH",bE(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=yE(e),a}(t.storage,t._location,e,fE()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t=Object(Ss.h)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=tE(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new gE(r,"GET",function(t,e){return function(n,r){var i=dE(t,r,e);return mE(null!==i),function(t,e,n){var r=aE(e);if(null===r)return null;if(!WI(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return tE("/b/"+o(t.bucket)+"/o/"+o(r),n)+eE({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=yE(e),o}(t.storage,t._location,fE()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new CI("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(Ss.h)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(ki.b)(this,void 0,void 0,function(){var e,n;return Object(ki.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=tE(e.fullServerUrl(),t.host),r=new gE(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=yE(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(Ss.h)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw PI(t)},t}(),zE=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(NE(t))throw jI("ref() expected a child path but got a URL, use refFromURL instead.");return new GE(FE(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!NE(t))throw jI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{KI.makeFromUrl(t,this._delegate.host)}catch(jw){throw jI("refFromUrl() expected a valid full URL but got an invalid one.")}return new GE(FE(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function YE(t){const e=function(t){return new Ut.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=bs.a){return n=>n.lift(new EI(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Qt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function ZE(t,e,n){return{getDownloadURL:()=>Object(xt.a)(void 0).pipe(Object(Qo.b)(e.outsideAngular),Jt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(xt.a)(void 0).pipe(Object(Qo.b)(e.outsideAngular),Jt(()=>t.getMetadata()),n),delete:()=>Object(At.a)(t.delete()),child:r=>ZE(t.child(r),e,n),updateMetadata:e=>Object(At.a)(t.updateMetadata(e)),put:(e,n)=>YE(t.put(e,n)),putString:(e,n,r)=>YE(t.putString(e,n,r)),listAll:()=>Object(At.a)(t.listAll())}}VE={TaskState:HI,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:MI,Storage:ME,Reference:GE},(UE=Es.a).INTERNAL.registerComponent(new Dw.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new zE(r,new ME(r,i,new ZI,n,Es.a.SDK_VERSION))},"PUBLIC").setServiceProps(VE).setMultipleInstances(!0)),UE.registerVersion("@firebase/storage","0.5.1");const KE=new r.u("angularfire2.storageBucket"),$E=new r.u("angularfire2.storage.maxUploadRetryTime"),WE=new r.u("angularfire2.storage.maxOperationRetryTime");let QE=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new os.d(i),this.keepUnstableUntilFirst=Object(os.h)(this.schedulers);const a=Object(os.g)(t,i,e);this.storage=Object(os.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return ZE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return ZE(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return ZE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.gc(os.c),r.gc(os.b,8),r.gc(KE,8),r.gc(r.I),r.gc(r.F),r.gc($E,8),r.gc(WE,8))},t.\u0275prov=Object(r.Qb)({factory:function(){return new t(Object(r.gc)(os.c),Object(r.gc)(os.b,8),Object(r.gc)(KE,8),Object(r.gc)(r.I),Object(r.gc)(r.F),Object(r.gc)($E,8),Object(r.gc)(WE,8))},token:t,providedIn:"any"}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({}),t})(),JE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:[QE],imports:[XE]}),t})();function tS(t,e){if(1&t){const t=r.ac();r.Zb(0,"tr",6),r.Zb(1,"td",7),r.Vb(2,"img",8),r.Yb(),r.Zb(3,"td",7),r.Gc(4),r.Yb(),r.Zb(5,"td",9),r.Gc(6),r.Yb(),r.Zb(7,"td",7),r.Gc(8),r.Yb(),r.Zb(9,"td",7),r.Gc(10),r.Yb(),r.Zb(11,"td",7),r.Gc(12),r.mc(13,"number"),r.Yb(),r.Zb(14,"td",7),r.Gc(15),r.mc(16,"number"),r.Yb(),r.Zb(17,"td",7),r.Zb(18,"button",10),r.jc("click",function(){r.Ac(t);const n=e.$implicit;return r.lc().eliminar(n)}),r.Gc(19,"Eliminar"),r.Yb(),r.Zb(20,"button",11),r.jc("click",function(){r.Ac(t);const n=e.$implicit,i=r.lc(),o=r.zc(23);return i.editar(o,n)}),r.Gc(21,"Editar"),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=e.$implicit;r.Ib(2),r.rc("src",t.url,r.Bc),r.Ib(2),r.Hc(t.marca),r.Ib(2),r.Hc(t.caracteristicas),r.Ib(2),r.Hc(t.color),r.Ib(2),r.Hc(t.talla),r.Ib(2),r.Hc(r.nc(13,7,t.existencias)),r.Ib(3),r.Ic("$",r.nc(16,9,t.precio),"")}}function eS(t,e){if(1&t){const t=r.ac();r.Zb(0,"button",33),r.jc("click",function(){r.Ac(t);const n=e.ngIf;return r.lc(2).guardar(n)}),r.Gc(1,"Guardar"),r.Yb()}}function nS(t,e){if(1&t){const t=r.ac();r.Zb(0,"button",34),r.jc("click",function(){r.Ac(t);const n=e.ngIf;return r.lc(2).actualizar(n)}),r.Gc(1,"Actualizar"),r.Yb()}}function rS(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",12),r.Zb(1,"h4",13),r.Gc(2,"Crear/Actualizar Producto"),r.Yb(),r.Zb(3,"button",14),r.jc("click",function(){return e.$implicit.dismiss("Cross click")}),r.Zb(4,"span",15),r.Gc(5,"\xd7"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",16),r.Zb(7,"form"),r.Zb(8,"div",17),r.Zb(9,"form",18),r.Zb(10,"div",17),r.Zb(11,"strong"),r.Zb(12,"label",19),r.Gc(13,"Marca"),r.Yb(),r.Yb(),r.Vb(14,"input",20),r.Yb(),r.Zb(15,"div",17),r.Zb(16,"strong"),r.Zb(17,"label",19),r.Gc(18,"Caracteristicas"),r.Yb(),r.Yb(),r.Vb(19,"textarea",21),r.Yb(),r.Zb(20,"div",17),r.Zb(21,"strong"),r.Zb(22,"label",19),r.Gc(23,"Color"),r.Yb(),r.Yb(),r.Vb(24,"input",22),r.Yb(),r.Zb(25,"div",17),r.Zb(26,"strong"),r.Zb(27,"label",19),r.Gc(28,"Talla"),r.Yb(),r.Yb(),r.Vb(29,"input",23),r.Yb(),r.Zb(30,"div",17),r.Zb(31,"strong"),r.Zb(32,"label",19),r.Gc(33,"Existencia"),r.Yb(),r.Yb(),r.Vb(34,"input",24),r.Yb(),r.Zb(35,"div",17),r.Zb(36,"strong"),r.Zb(37,"label",19),r.Gc(38,"Precio"),r.Yb(),r.Yb(),r.Vb(39,"input",25),r.Yb(),r.Zb(40,"div",17),r.Vb(41,"input",26),r.mc(42,"async"),r.Zb(43,"label"),r.Zb(44,"strong"),r.Gc(45,"Selecciona una imagen"),r.Yb(),r.Yb(),r.Zb(46,"input",27),r.jc("change",function(e){return r.Ac(t),r.lc().onUpload(e)}),r.Yb(),r.Yb(),r.Zb(47,"div",28),r.Vb(48,"div",29),r.mc(49,"async"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(50,"div",30),r.Ec(51,eS,2,0,"button",31),r.mc(52,"async"),r.Ec(53,nS,2,0,"button",32),r.mc(54,"async"),r.Yb()}if(2&t){const t=r.lc();r.Ib(9),r.rc("formGroup",t.ProductoForm),r.Ib(32),r.rc("value",r.nc(42,6,t.urlImage)),r.Ib(7),r.Dc("width",r.nc(49,8,t.uploadPercent)+"%"),r.Ib(3),r.rc("ngIf",r.nc(52,10,0==t.updSave&&t.urlImage)),r.Ib(2),r.rc("ngIf",r.nc(54,12,1==t.updSave&&t.urlImage))}}let iS=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.modalService=e,this.fibaseService=n,this.storage=r,this.collection={data:[]},this.closeResult=""}onUpload(t){const e=t.target.files[0],n=`img/${e.name}`,r=this.storage.ref(n),i=this.storage.upload(n,e);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Ne(()=>this.urlImage=r.getDownloadURL())).subscribe()}ngOnDestroy(){}ngOnInit(){this.idFirebaseUpdate="",this.config={itemsPerPage:10,currentPage:1,totalItems:this.collection.data.length},this.ProductoForm=this.fb.group({marca:["",Hi.required],caracteristicas:["",Hi.required],color:["",Hi.required],talla:["",Hi.required],precio:["",Hi.required],existencias:["",Hi.required],url:["",Hi.required]}),this.fibaseService.getProductos().subscribe(t=>{this.collection.data=t.map(t=>({marca:t.payload.doc.data().marca,caracteristicas:t.payload.doc.data().caracteristicas,color:t.payload.doc.data().color,talla:t.payload.doc.data().talla,precio:t.payload.doc.data().precio,existencias:t.payload.doc.data().existencias,url:t.payload.doc.data().url,idFirebase:t.payload.doc.data().idFirebase}))},t=>{console.error(t)})}pageChanged(t){this.config.currentPage=t}eliminar(t){this.fibaseService.eliminarProducto(t.idFirebase)}guardar(t){this.ProductoForm.value.url=t,this.fibaseService.createProducto(this.ProductoForm.value).then(t=>{this.ProductoForm.reset(),this.modalService.dismissAll(),this.urlImage=new Ut.a}).catch(t=>{console.error(t)})}actualizar(t){null!=this.idFirebaseUpdate&&(this.ProductoForm.value.url=t,this.fibaseService.updateProducto(this.idFirebaseUpdate,this.ProductoForm.value).then(t=>{this.ProductoForm.reset(),this.modalService.dismissAll(),this.urlImage=new Ut.a}).catch(t=>{console.error(t)}))}editar(t,e){this.updSave=!0,this.ProductoForm.setValue({marca:e.marca,caracteristicas:e.caracteristicas,color:e.color,talla:e.talla,precio:e.precio,existencias:e.existencias,url:e.url}),this.idFirebaseUpdate=e.idFirebase,console.log(this.idFirebaseUpdate),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}nuevo(t){this.updSave=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===X_.ESC?"by pressing ESC":t===X_.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ko),r.Ub(eI),r.Ub(Xw),r.Ub(QE))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-crud"]],decls:26,vars:1,consts:[[2,"text-align","center"],[1,"table","table-hover",2,"min-height","57.7vh"],[1,"table-dark"],["class","table",4,"ngFor","ngForOf"],["content",""],["type","button",1,"btn","btn-dark",3,"click"],[1,"table"],[2,"vertical-align","middle"],[1,"img-fluid",2,"width","80px","margin-right","1rem",3,"src"],[2,"text-transform","capitalize","vertical-align","middle"],["type","button",1,"btn","btn-block","btn-danger",3,"click"],["type","button",1,"btn","btn-block","btn-warning",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["for",""],["type","text","formControlName","marca",1,"form-control"],["formControlName","caracteristicas",1,"form-control"],["type","text","formControlName","color",1,"form-control"],["type","text","formControlName","talla",1,"form-control"],["type","number","formControlName","existencias",1,"form-control"],["type","number","formControlName","precio",1,"form-control"],["type","hidden","formControlName","url",1,"form-control",3,"value"],["type","file","accept",".jpeg,.png,.jpg",3,"change"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progressbar-striped","bg-success"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",0),r.Zb(1,"table",1),r.Zb(2,"thead"),r.Zb(3,"tr",2),r.Zb(4,"th"),r.Gc(5,"Vista Previa"),r.Yb(),r.Zb(6,"th"),r.Gc(7,"Marca"),r.Yb(),r.Zb(8,"th"),r.Gc(9,"Caracteristicas"),r.Yb(),r.Zb(10,"th"),r.Gc(11,"Color"),r.Yb(),r.Zb(12,"th"),r.Gc(13,"Talla"),r.Yb(),r.Zb(14,"th"),r.Gc(15,"Existencias"),r.Yb(),r.Zb(16,"th"),r.Gc(17,"Precio"),r.Yb(),r.Zb(18,"th"),r.Gc(19,"Operiaciones"),r.Yb(),r.Yb(),r.Yb(),r.Zb(20,"tbody"),r.Ec(21,tS,22,11,"tr",3),r.Yb(),r.Yb(),r.Ec(22,rS,55,14,"ng-template",null,4,r.Fc),r.Zb(24,"button",5),r.jc("click",function(){r.Ac(t);const n=r.zc(23);return e.nuevo(n)}),r.Gc(25,"A\xf1adir Nuevo Producto"),r.Yb(),r.Yb()}2&t&&(r.Ib(21),r.rc("ngForOf",e.collection.data))},directives:[L,Lo,co,Do,Bo,Mi,uo,Go,Fo,F],pipes:[Z,Y],styles:[""]}),t})();function oS(t,e){if(1&t&&(r.Zb(0,"p"),r.Gc(1,"Talla: "),r.Zb(2,"strong"),r.Gc(3),r.Yb(),r.Yb()),2&t){const t=r.lc();r.Ib(3),r.Hc(t.prodGet.talla)}}let sS=(()=>{class t{constructor(t,e,n,r){this.firebaseServ=t,this.router=e,this.carritoServ=n,this.authServ=r,this.carrito={},this.prodGet={},this.toast=!1,this.lista=["MXN","USD","EUR"]}ngOnInit(){this.firebaseServ.$getObjecjtSorce.subscribe(t=>this.prodGet=t).unsubscribe(),this.precio=this.prodGet.precio,console.log("Este es el precio original ",this.precio)}regresar(){this.router.navigate(["inicio"])}comprar(t){console.log(t),this.firebaseServ.sendObjectSorce(t),this.router.navigate(["pagos",t.marca])}convert(t){"USD".indexOf(this.opt)?"MXN".indexOf(this.opt)?"EUR".indexOf(this.opt)||(this.euro=this.precio/20.03,t.precio=this.euro):(this.mxn=this.precio,t.precio=this.mxn):(this.dolar=this.precio/19.87,t.precio=this.dolar)}cargarCarrito(){this.carritoServ.getCarrito().subscribe(t=>{t.producto.length?(this.vacio=!1,this.pedidos=t,this.articulos=this.pedidos.producto,this.getCantidad(),this.getTotat()):this.vacio=!0})}getId(){this.firebaseServ.getProductos().subscribe(t=>{this.data=t.map(t=>({idFirebase:t.payload.doc.id}))})}agregarCarrito(t){null!=t?(this.producto={color:t.color,caracteristicas:t.caracteristicas,precio:t.precio,existencias:t.existencias,marca:t.marca,talla:t.talla,url:t.url,idFirebase:t.idFirebase},this.toast=!0,this.carritoServ.addProducto(this.producto),this.router.navigate(["carrito"])):this.router.navigate(["login"])}getTotat(){this.total=0,this.pedidos.producto.forEach(t=>{this.total=t.producto.precio*t.cantidad+this.total}),this.pedidos.precioTotal=this.total}getCantidad(){this.cantidad=0,this.pedidos.producto.forEach(t=>{this.cantidad=t.cantidad+this.cantidad})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xw),r.Ub(ui),r.Ub(pI),r.Ub(ps))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-detalles"]],decls:31,vars:9,consts:[[1,"card",2,"width","80vw","margin-left","auto","margin-right","auto","display","block"],[1,"container",2,"display","flex"],[2,"width","668px","height","468px","padding","50px",3,"src"],[1,"card",2,"width","352px","margin-top","1.5rem","margin-bottom","1.5rem"],[1,"card-body"],[1,"text-muted",2,"font-size","small"],[1,"card-title",2,"font-size","large","font-weight","bold"],[1,"card-title",2,"font-size","medium","font-weight","bold"],[1,"card-text",2,"font-size","x-large"],[4,"ngIf"],[1,"btn","btn-block","btn-success",3,"click"],[1,"btn","btn-block","btn-info",3,"click"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Vb(2,"img",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"p",5),r.Gc(6),r.Yb(),r.Zb(7,"div",6),r.Gc(8),r.Yb(),r.Zb(9,"div",7),r.Gc(10),r.Yb(),r.Zb(11,"div",8),r.Gc(12),r.mc(13,"number"),r.Vb(14,"br"),r.Zb(15,"span",5),r.Gc(16,"IVA incluido"),r.Yb(),r.Yb(),r.Vb(17,"br"),r.Zb(18,"a"),r.Gc(19,"Envio Gratis"),r.Yb(),r.Vb(20,"br"),r.Vb(21,"br"),r.Ec(22,oS,4,1,"p",9),r.Zb(23,"p"),r.Gc(24,"Color: "),r.Zb(25,"strong"),r.Gc(26),r.Yb(),r.Yb(),r.Zb(27,"button",10),r.jc("click",function(){return e.agregarCarrito(e.prodGet)}),r.Gc(28,"Comprar"),r.Yb(),r.Zb(29,"button",11),r.jc("click",function(){return e.regresar()}),r.Gc(30,"Regresar"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Ib(2),r.rc("src",e.prodGet.url,r.Bc),r.Ib(4),r.Ic("Exitencias: ",e.prodGet.existencias,""),r.Ib(2),r.Ic(" ",e.prodGet.marca," "),r.Ib(2),r.Ic(" ",e.prodGet.caracteristicas," "),r.Ib(2),r.Ic(" $",r.nc(13,7,e.prodGet.precio)," "),r.Ib(10),r.rc("ngIf",null!=e.prodGet.talla),r.Ib(4),r.Hc(e.prodGet.color))},directives:[F],pipes:[Z],styles:[""]}),t})(),aS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["app-devolucion"]],decls:11,vars:0,consts:[[2,"font-size","xx-large","overflow","hidden","white-space","nowrap"],[2,"text-align","center"],[2,"text-align","center","padding","1rem"],[2,"text-align","center","padding","5rem","padding-top","0"],["src","https://firebasestorage.googleapis.com/v0/b/moda-bere.appspot.com/o/l.jpg?alt=media&token=131c4a30-ed0c-49af-857d-4f61769573c3",2,"margin-left","auto","margin-right","auto","display","block"]],template:function(t,e){1&t&&(r.Zb(0,"p",0),r.Gc(1," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Zb(2,"h1",1),r.Gc(3,"Boho Pink"),r.Yb(),r.Zb(4,"h3",2),r.Gc(5,"Politicas de Devolucion"),r.Yb(),r.Zb(6,"p",3),r.Gc(7," Esperamos que est\xe9s satisfecho/a con tu compra! Si no est\xe1s 100% satisfecho/a, puedes f\xe1cilmente realizar una devoluci\xf3n. \xbfCu\xe1l es el per\xedodo de devoluci\xf3n y cu\xe1l es el costo? Si no has estado 100% satisfecho/a, tienes 30 d\xedas despu\xe9s de la fecha de recepci\xf3n del pedido para hacer la devoluci\xf3n. Las devoluciones hechas 30 d\xedas despu\xe9s de la fecha de recepci\xf3n no ser\xe1n aceptadas. Hay dos maneras: \u2460 Puedes usar la etiqueta de devoluci\xf3n que brindamos. Cada etiqueta de devoluci\xf3n cuesta MXN 99 . Si la usas, el cobro correspondiente ser\xe1 descontado de tum onto de reembolso . Una etiqueta de devoluci\xf3n solo es \xfatil para un pedido. Recomendamos que esperes a recibir todos los paquetes para devolver los art\xedculos del mismo pedido. \u2461 Puedes elegir un m\xe9todo de devoluci\xf3n a tu propio costo, pero no aceptamos pagos en efectivo a contra entrega. "),r.Yb(),r.Vb(8,"img",4),r.Zb(9,"p",0),r.Gc(10," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb())},styles:[""]}),t})();function uS(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",2),r.Zb(1,"a",3),r.jc("click",function(){r.Ac(t);const n=e.$implicit;return r.lc().verProducto(n)}),r.Zb(2,"div",4),r.Vb(3,"img",5),r.Zb(4,"div",6),r.Zb(5,"p",7),r.Gc(6),r.Yb(),r.Zb(7,"p",8),r.Gc(8),r.mc(9,"number"),r.Yb(),r.Zb(10,"p",9),r.Gc(11),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=e.$implicit;r.Ib(3),r.rc("src",t.url,r.Bc),r.Ib(3),r.Hc(t.marca),r.Ib(2),r.Ic("$ ",r.nc(9,4,t.precio),""),r.Ib(3),r.Hc(t.caracteristicas)}}let cS=(()=>{class t{constructor(t,e,n,r){this.firebaseServ=t,this.authServ=e,this.router=n,this.carritoServ=r,this.carrito={},this.smart=[],this.data=[],this.authServ.getUserCurrent().subscribe(t=>{})}loadCarrito(){console.log("cargando carrito")}ngOnInit(){this.loadData(),this.config={itemsPerPage:10,currentPage:1,totalItems:this.data.length}}pageChanged(t){this.config.currentPage=t}agregarCarrito(t){this.producto={marca:t.marca,caracteristicas:t.caracteristicas,color:t.color,precio:t.precio,talla:t.talla,existencias:t.existencias,url:t.url,idFirebase:t.idFirebase},this.carritoServ.addProducto(this.producto)}loadData(){this.firebaseServ.getProductos().subscribe(t=>{this.data=t.map(t=>({marca:t.payload.doc.data().marca,caracteristicas:t.payload.doc.data().caracteristicas,color:t.payload.doc.data().color,talla:t.payload.doc.data().talla,precio:t.payload.doc.data().precio,existencias:t.payload.doc.data().existencias,url:t.payload.doc.data().url,idFirebase:t.payload.doc.id})),this.smart=this.data})}modificar(){}verProducto(t){this.firebaseServ.sendObjectSorce(t),this.router.navigate(["detalles",t.idFirebase])}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xw),r.Ub(ps),r.Ub(ui),r.Ub(pI))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-home"]],decls:2,vars:1,consts:[[1,"row","container-fluid","mb-5"],["class","col-auto","style","margin-left: 3em;",4,"ngFor","ngForOf"],[1,"col-auto",2,"margin-left","3em"],["type","button",1,"",3,"click"],[1,"card",2,"width","224px","height","410px","margin-top","2em"],[1,"card","card-img-top",2,"width","224px","height","224px",3,"src"],[1,"card-body","mb-3",2,"width","224px","overflow-y","hidden"],[1,"card-text",2,"text-transform","capitalize"],[2,"font-size","x-large","font-weight","900"],[2,"text-transform","capitalize","font-size","small"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Ec(1,uS,12,6,"div",1),r.Yb()),2&t&&(r.Ib(1),r.rc("ngForOf",e.data))},directives:[L],pipes:[Z],styles:[".carrito[_ngcontent-%COMP%]{padding:8px;position:absolute;color:#88d1c7;background-color:#375a7f;margin:15px;border-radius:50px;opacity:1%}"]}),t})();function lS(t,e){1&t&&(r.Zb(0,"h2",3),r.Gc(1,"Aun no tienes ningun pedido"),r.Yb())}function hS(t,e){1&t&&(r.Zb(0,"h3",3),r.Gc(1,"Carrito de compras"),r.Yb())}function fS(t,e){if(1&t&&(r.Zb(0,"div",13),r.Vb(1,"img",14),r.Zb(2,"div",15),r.Zb(3,"div",16),r.Gc(4),r.Zb(5,"div",17),r.Gc(6),r.mc(7,"number"),r.Yb(),r.Yb(),r.Zb(8,"div",18),r.Gc(9),r.Yb(),r.Yb(),r.Yb()),2&t){const t=e.$implicit;r.Ib(1),r.rc("src",t.producto.url,r.Bc),r.Ib(3),r.Ic(" ",t.producto.marca," "),r.Ib(2),r.Ic("$",r.nc(7,4,t.producto.precio),".00"),r.Ib(3),r.Ic(" ",t.producto.caracteristicas," ")}}function dS(t,e){if(1&t&&(r.Zb(0,"div",5),r.Zb(1,"div",6),r.Ec(2,fS,10,6,"div",7),r.Yb(),r.Zb(3,"div",8),r.Zb(4,"div",9),r.Zb(5,"div",10),r.Zb(6,"div",11),r.Gc(7),r.Yb(),r.Zb(8,"div",12),r.Gc(9),r.mc(10,"number"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t){const t=e.$implicit;r.Ib(2),r.rc("ngForOf",t.producto),r.Ib(5),r.Ic(" Estado de Pedido: ",t.estado," "),r.Ib(2),r.Ic(" Monto total : ",r.nc(10,3,t.precioTotal),".00 ")}}function pS(t,e){if(1&t&&(r.Zb(0,"div"),r.Ec(1,dS,11,5,"div",4),r.Yb()),2&t){const t=r.lc();r.Ib(1),r.rc("ngForOf",t.pedido)}}let gS=(()=>{class t{constructor(t,e){this.fireAuth=t,this.firebase=e,this.pedido$=new kt.a,this.path="Pedidos/",this.uid=""}ngOnInit(){this.fireAuth.getUserCurrent().subscribe(t=>{t&&(this.uid=t.uid,this.getPedidos())})}getPedidos(){this.firebase.getCollections("Usuarios/"+this.uid+"/"+this.path).subscribe(t=>{0!=t.length?(this.pedido=t,console.log("tenemos pedidos-> ",this.pedido)):this.vacio=!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps),r.Ub(Xw))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-pedidos"]],decls:7,vars:3,consts:[[2,"font-size","xx-large","overflow","hidden","white-space","nowrap"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["class","card","style","width: 80vw; margin-left: auto; margin-right:auto; display: block;",4,"ngFor","ngForOf"],[1,"card",2,"width","80vw","margin-left","auto","margin-right","auto","display","block"],[1,"container"],["class","card mx-auto mt-3","style","width: 65vw; display: flex; flex-direction: row;",4,"ngFor","ngForOf"],[1,"container","mb-2"],[1,"card","mx-auto",2,"width","65vw"],[1,"card-header",2,"display","flex"],[1,"card-title",2,"font-weight","bold","font-size","large"],[1,"card-title","text-muted",2,"font-weight","bold","font-size","large","margin-left","auto"],[1,"card","mx-auto","mt-3",2,"width","65vw","display","flex","flex-direction","row"],[2,"width","180px","height","150px","padding","5px","margin-top",".8\n            5rem",3,"src"],[1,"card-body",2,"display","flex","flex-direction","column"],[1,"card-title",2,"font-size","large","font-weight","bold","display","flex"],[2,"margin-left","auto"],[1,"card-title",2,"font-size","medium","font-weight","bold"]],template:function(t,e){1&t&&(r.Zb(0,"p",0),r.Gc(1," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Ec(2,lS,2,0,"h2",1),r.Ec(3,hS,2,0,"h3",1),r.Zb(4,"p",0),r.Gc(5," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Ec(6,pS,2,1,"div",2)),2&t&&(r.Ib(2),r.rc("ngIf",1==e.vacio),r.Ib(1),r.rc("ngIf",1!=e.vacio),r.Ib(3),r.rc("ngIf",1!=e.vacio))},directives:[F,L],pipes:[Z],styles:[""]}),t})(),mS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["app-politicas"]],decls:11,vars:0,consts:[[2,"font-size","xx-large","overflow","hidden","white-space","nowrap"],[2,"text-align","center"],[2,"text-align","center","padding","1rem"],[2,"text-align","center","padding","3rem","padding-top","0"],["src","https://firebasestorage.googleapis.com/v0/b/moda-bere.appspot.com/o/l.jpg?alt=media&token=131c4a30-ed0c-49af-857d-4f61769573c3",2,"margin-left","auto","margin-right","auto","display","block"]],template:function(t,e){1&t&&(r.Zb(0,"p",0),r.Gc(1," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Zb(2,"h1",1),r.Gc(3,"Boho Pink"),r.Yb(),r.Zb(4,"h3",2),r.Gc(5,"Politicas de Privacidad"),r.Yb(),r.Zb(6,"p",3),r.Gc(7,"Boho Pink respeta la preocupaci\xf3n de sus clientes por la protecci\xf3n de su privacidad y de sus datos personales. La presente directriz describe el uso que hace Boho Pink de la informaci\xf3n recopilada sobre sus clientes cuando estos utilizan alguno de los sitios de venta al por menor de Boho Pink (para consultar una lista de esos sitios, haz clic aqu\xed), las versiones de la tienda Boho Pink Flash optimizadas para m\xf3viles y pantallas t\xe1ctiles y la aplicaci\xf3n m\xf3vil disponible en la App Store y la Play Store, que en lo sucesivo se denominar\xe1n en conjunto el \xabSitio\xbb, y tambi\xe9n cuando adquieren alg\xfan producto en nuestras tiendas o interact\xfaan con nosotros (nuestros \xabServicios\xbb). De esta manera, los clientes podr\xe1n conocer el origen y el uso de la informaci\xf3n de navegaci\xf3n recopilada por las cookies, y ejercer sus derechos y opciones de conformidad con la legislaci\xf3n aplicable en materia de protecci\xf3n de datos personales. La presente directriz se aplica a todos los sitios web, aplicaciones y servicios ofrecidos por Boho Pink y las entidades del grupo Boho Pink, por separado o en conjunto, que en adelante se denominar\xe1n \xabNuestro\xbb, que hagan referencia a esta directriz, y se suman a los \xabT\xe9rminos generales y condiciones de uso\xbb y a los \xabT\xe9rminos generales y condiciones de venta\xbb del Sitio (y a cualquier otro documento o nota informativa que haga referencia a la presente directriz). No se aplica a los sitios, aplicaciones y servicios que dispongan de estatutos o pol\xedticas independientes que no incluyan la presente directriz ni hagan referencia a ella. Esta directriz es por lo tanto importante para nuestros clientes, quienes buscan tener una experiencia positiva y confiar en nuestros servicios, pero tambi\xe9n para nosotros, que queremos responder a las preguntas de nuestros clientes de un modo preciso y exhaustivo, y tener en cuenta sus deseos.\n"),r.Yb(),r.Vb(8,"img",4),r.Zb(9,"p",0),r.Gc(10," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb())},styles:["body[_ngcontent-%COMP%]{background-color:hsla(0,0%,91%,.66)}.sticky-top[_ngcontent-%COMP%]{top:2em}"]}),t})();const bS=[{path:"inicio",component:cS},{path:"pedidos",component:gS},{path:"register",component:t_},{path:"carrito",component:_I},{path:"principal",component:(()=>{class t{constructor(t){this.authServ=t}ngOnInit(){this.authServ.getUserCurrent().subscribe(t=>{t?this.nombre=t.displayName:console.log("No estas logueado")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-principal"]],decls:9,vars:1,consts:[[2,"font-size","xx-large","overflow","hidden","white-space","nowrap"],[2,"text-align","center"],["src","https://firebasestorage.googleapis.com/v0/b/moda-bere.appspot.com/o/l.jpg?alt=media&token=131c4a30-ed0c-49af-857d-4f61769573c3",2,"margin-left","auto","margin-right","auto","display","block"]],template:function(t,e){1&t&&(r.Zb(0,"p",0),r.Gc(1," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb(),r.Zb(2,"h2",1),r.Gc(3),r.Yb(),r.Zb(4,"h4",1),r.Gc(5," Compra art\xedculos de art\xedculos de Belleza y ropa de Moda en Boho Pink, tenemos los mejores precios en M\xe9xico con env\xedo a Domicilio\n"),r.Yb(),r.Vb(6,"img",2),r.Zb(7,"p",0),r.Gc(8," \u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661\u2661"),r.Yb()),2&t&&(r.Ib(3),r.Ic("Bienvenid@ ",e.nombre,""))},styles:[""]}),t})()},{path:"politicas",component:mS},{path:"crud",component:iS},{path:"admin",component:ms},{path:"login",component:ms},{path:"contacto",component:II},{path:"devolucion",component:aS},{path:"detalles/:smart",component:sS},{path:"**",pathMatch:"full",redirectTo:"inicio"}];let vS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({imports:[[_i.forRoot(bS)],_i]}),t})();const yS=function(){return["principal"]},wS=function(){return["inicio"]},_S=function(){return["pedidos"]},IS=function(){return["carrito"]};function ES(t,e){if(1&t){const t=r.ac();r.Zb(0,"ul",3),r.Zb(1,"li",4),r.Zb(2,"a",5),r.Gc(3,"Pagina Principal"),r.Yb(),r.Yb(),r.Zb(4,"li",4),r.Zb(5,"a",5),r.Gc(6,"Productos"),r.Yb(),r.Yb(),r.Zb(7,"li",4),r.Zb(8,"a",5),r.Gc(9,"Pedidos"),r.Yb(),r.Yb(),r.Zb(10,"li",4),r.Zb(11,"a",5),r.Gc(12,"Carrito de Compras"),r.Yb(),r.Yb(),r.Zb(13,"li",4),r.Zb(14,"a",6),r.jc("click",function(){return r.Ac(t),r.lc().onLogout()}),r.Gc(15,"Logout"),r.Yb(),r.Yb(),r.Yb()}2&t&&(r.Ib(2),r.rc("routerLink",r.uc(4,yS)),r.Ib(3),r.rc("routerLink",r.uc(5,wS)),r.Ib(3),r.rc("routerLink",r.uc(6,_S)),r.Ib(3),r.rc("routerLink",r.uc(7,IS)))}const SS=function(){return["login"]},OS=function(){return["register"]};function TS(t,e){1&t&&(r.Zb(0,"ul",3),r.Zb(1,"li",4),r.Zb(2,"a",5),r.Gc(3,"Pagina Principal"),r.Yb(),r.Yb(),r.Zb(4,"li",4),r.Zb(5,"a",5),r.Gc(6,"Productos"),r.Yb(),r.Yb(),r.Zb(7,"li",4),r.Zb(8,"a",5),r.Gc(9,"Iniciar Sesion"),r.Yb(),r.Yb(),r.Zb(10,"li",4),r.Zb(11,"a",5),r.Gc(12,"Registrate"),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Ib(2),r.rc("routerLink",r.uc(4,yS)),r.Ib(3),r.rc("routerLink",r.uc(5,wS)),r.Ib(3),r.rc("routerLink",r.uc(6,SS)),r.Ib(3),r.rc("routerLink",r.uc(7,OS)))}let CS=(()=>{class t{constructor(t,e){this.authServ=t,this.router=e,this.isMenuCollapsed=!0,this.isCollapsed=!0,this.user$=this.authServ.afServ.user}ngOnInit(){this.authServ.getUserCurrent().subscribe(t=>{t?console.log(t.displayName):console.log("No estas logueado")})}onLogout(){return Object(ki.b)(this,void 0,void 0,function*(){try{yield this.authServ.logout(),this.router.navigate(["login"])}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps),r.Ub(ui))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-navbar"]],decls:5,vars:4,consts:[[1,"navbar","navbar-expand-lg","sticky-top",2,"background-color","grey"],["class","navbar-nav mx-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"]],template:function(t,e){if(1&t&&(r.Zb(0,"nav",0),r.Ec(1,ES,16,8,"ul",1),r.mc(2,"async"),r.Ec(3,TS,13,8,"ng-template",null,2,r.Fc),r.Yb()),2&t){const t=r.zc(4);r.Ib(1),r.rc("ngIf",r.nc(2,2,e.user$))("ngIfElse",t)}},directives:[H_,F,ci],pipes:[Y],styles:[".ml-auto[_ngcontent-%COMP%]{margin-left:auto!important}a[_ngcontent-%COMP%]{color:#fff}.ml-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ml-5[_ngcontent-%COMP%]{margin-left:3rem!important}.mr-3[_ngcontent-%COMP%]{margin-right:1rem!important}.mr-5[_ngcontent-%COMP%]{margin-right:3rem!important}"]}),t})();const AS=function(){return["politicas"]},xS=function(){return["devolucion"]},kS=function(){return["contacto"]};let RS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["app-footer"]],decls:18,vars:6,consts:[[1,"text-white","pt-3","pb-3",2,"background-color","grey"],[1,""],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"direccion"],[1,"text-muted"],["href","https://goo.gl/maps/7Dayou2tY2GRVFsc7"]],template:function(t,e){1&t&&(r.Zb(0,"footer",0),r.Zb(1,"div",1),r.Zb(2,"ul"),r.Zb(3,"li",2),r.Zb(4,"a",3),r.Gc(5,"Politicas de Privacidad"),r.Yb(),r.Yb(),r.Zb(6,"li",2),r.Zb(7,"a",3),r.Gc(8,"Politicas de Devolucion"),r.Yb(),r.Yb(),r.Zb(9,"li",2),r.Zb(10,"a",3),r.Gc(11,"Contacto"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(12,"p",4),r.Gc(13,"Copyright \xa92021 Autor @Boho Pink"),r.Yb(),r.Zb(14,"p",4),r.Zb(15,"small",5),r.Zb(16,"a",6),r.Gc(17," Boho Pink Direcci\xf3n: Luis Vargas, Amp. Gabriel Hern\xe1ndez, Gustavo A. Madero, 07080 Ciudad de M\xe9xico, CDMX Horas: L/D 10am-7pm "),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Ib(4),r.rc("routerLink",r.uc(3,AS)),r.Ib(3),r.rc("routerLink",r.uc(4,xS)),r.Ib(3),r.rc("routerLink",r.uc(5,kS)))},directives:[ci],styles:["ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;justify-content:center;margin:0;padding:0}.direccion[_ngcontent-%COMP%]{padding:10px 0 0;text-align:center;margin:0}a[_ngcontent-%COMP%]{color:#fff}"]}),t})(),jS=(()=>{class t{constructor(){this.title="Tienda"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Vb(0,"app-navbar"),r.Vb(1,"router-outlet"),r.Vb(2,"app-footer"))},directives:[CS,hi,RS],styles:[""]}),t})();const NS={apiKey:"AIzaSyCp3JrBQG3mMagb6MtJFLVjWvhYSEJorZc",authDomain:"moda-b906d.firebaseapp.com",projectId:"moda-b906d",storageBucket:"moda-b906d.appspot.com",messagingSenderId:"290581132267",appId:"1:290581132267:web:5f51d569beca96130f1fae"};function PS(t,e){if(1&t){var n=r.ac();r.Zb(0,"a",11),r.jc("keyup.enter",function(){return r.Ac(n),r.lc(3),r.zc(1).previous()})("click",function(){return r.Ac(n),r.lc(3),r.zc(1).previous()}),r.Gc(1),r.Zb(2,"span",12),r.Gc(3),r.Yb(),r.Yb()}if(2&t){var i=r.lc(3);r.Jb("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.Ib(1),r.Ic(" ",i.previousLabel," "),r.Ib(2),r.Hc(i.screenReaderPageLabel)}}function DS(t,e){if(1&t&&(r.Zb(0,"span"),r.Gc(1),r.Zb(2,"span",12),r.Gc(3),r.Yb(),r.Yb()),2&t){var n=r.lc(3);r.Ib(1),r.Ic(" ",n.previousLabel," "),r.Ib(2),r.Hc(n.screenReaderPageLabel)}}function LS(t,e){if(1&t&&(r.Zb(0,"li",8),r.Ec(1,PS,4,3,"a",9),r.Ec(2,DS,4,2,"span",10),r.Yb()),2&t){r.lc(2);var n=r.zc(1);r.Mb("disabled",n.isFirstPage()),r.Ib(1),r.rc("ngIf",1<n.getCurrent()),r.Ib(1),r.rc("ngIf",n.isFirstPage())}}function MS(t,e){if(1&t){var n=r.ac();r.Zb(0,"a",11),r.jc("keyup.enter",function(){r.Ac(n);var t=r.lc().$implicit;return r.lc(2),r.zc(1).setCurrent(t.value)})("click",function(){r.Ac(n);var t=r.lc().$implicit;return r.lc(2),r.zc(1).setCurrent(t.value)}),r.Zb(1,"span",12),r.Gc(2),r.Yb(),r.Zb(3,"span"),r.Gc(4),r.mc(5,"number"),r.Yb(),r.Yb()}if(2&t){var i=r.lc().$implicit,o=r.lc(2);r.Ib(2),r.Ic("",o.screenReaderPageLabel," "),r.Ib(2),r.Hc("..."===i.label?i.label:r.oc(5,2,i.label,""))}}function FS(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"span",12),r.Gc(2),r.Yb(),r.Zb(3,"span"),r.Gc(4),r.mc(5,"number"),r.Yb(),r.Wb()),2&t){var n=r.lc().$implicit,i=r.lc(2);r.Ib(2),r.Ic("",i.screenReaderCurrentLabel," "),r.Ib(2),r.Hc("..."===n.label?n.label:r.oc(5,2,n.label,""))}}function US(t,e){if(1&t&&(r.Zb(0,"li"),r.Ec(1,MS,6,5,"a",9),r.Ec(2,FS,6,5,"ng-container",10),r.Yb()),2&t){var n=e.$implicit;r.lc(2);var i=r.zc(1);r.Mb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.Ib(1),r.rc("ngIf",i.getCurrent()!==n.value),r.Ib(1),r.rc("ngIf",i.getCurrent()===n.value)}}function VS(t,e){if(1&t){var n=r.ac();r.Zb(0,"a",11),r.jc("keyup.enter",function(){return r.Ac(n),r.lc(3),r.zc(1).next()})("click",function(){return r.Ac(n),r.lc(3),r.zc(1).next()}),r.Gc(1),r.Zb(2,"span",12),r.Gc(3),r.Yb(),r.Yb()}if(2&t){var i=r.lc(3);r.Jb("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.Ib(1),r.Ic(" ",i.nextLabel," "),r.Ib(2),r.Hc(i.screenReaderPageLabel)}}function qS(t,e){if(1&t&&(r.Zb(0,"span"),r.Gc(1),r.Zb(2,"span",12),r.Gc(3),r.Yb(),r.Yb()),2&t){var n=r.lc(3);r.Ib(1),r.Ic(" ",n.nextLabel," "),r.Ib(2),r.Hc(n.screenReaderPageLabel)}}function BS(t,e){if(1&t&&(r.Zb(0,"li",13),r.Ec(1,VS,4,3,"a",9),r.Ec(2,qS,4,2,"span",10),r.Yb()),2&t){r.lc(2);var n=r.zc(1);r.Mb("disabled",n.isLastPage()),r.Ib(1),r.rc("ngIf",!n.isLastPage()),r.Ib(1),r.rc("ngIf",n.isLastPage())}}function HS(t,e){if(1&t&&(r.Zb(0,"ul",3),r.Ec(1,LS,3,4,"li",4),r.Zb(2,"li",5),r.Gc(3),r.Yb(),r.Ec(4,US,3,6,"li",6),r.Ec(5,BS,3,4,"li",7),r.Yb()),2&t){var n=r.lc(),i=r.zc(1);r.Mb("responsive",n.responsive),r.Jb("aria-label",n.screenReaderPaginationLabel),r.Ib(1),r.rc("ngIf",n.directionLinks),r.Ib(2),r.Jc(" ",i.getCurrent()," / ",i.getLastPage()," "),r.Ib(1),r.rc("ngForOf",i.pages),r.Ib(1),r.rc("ngIf",n.directionLinks)}}var GS=function(){function t(){this.change=new r.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Qb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),zS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},YS=Number.MAX_SAFE_INTEGER,ZS=(function(){function t(t){this.service=t,this.state={}}t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||YS),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]})},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([zS("design:paramtypes",[GS])],t)).\u0275fac=function(e){return new(e||t)(r.Ub(GS))},t.\u0275pipe=r.Tb({name:"paginate",type:t,pure:!1})}(),function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),KS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function $S(t){return!!t&&"false"!==t}!function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=$S(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=$S(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=$S(t)},enumerable:!0,configurable:!0}),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"id",void 0),ZS([Object(r.w)(),KS("design:type",Number)],t.prototype,"maxSize",void 0),ZS([Object(r.w)(),KS("design:type",Boolean),KS("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),ZS([Object(r.w)(),KS("design:type",Boolean),KS("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),ZS([Object(r.w)(),KS("design:type",Boolean),KS("design:paramtypes",[Boolean])],t.prototype,"responsive",null),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"previousLabel",void 0),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"nextLabel",void 0),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),ZS([Object(r.w)(),KS("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),ZS([Object(r.H)(),KS("design:type",r.q)],t.prototype,"pageChange",void 0),ZS([Object(r.H)(),KS("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ob({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.Zb(0,"pagination-template",0,1),r.jc("pageChange",function(t){return e.pageChange.emit(t)})("pageBoundsCorrection",function(t){return e.pageBoundsCorrection.emit(t)}),r.Ec(2,HS,6,8,"ul",2),r.Yb()),2&t){var n=r.zc(1);r.rc("id",e.id)("maxSize",e.maxSize),r.Ib(2),r.rc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[XS,F,L]},pipes:function(){return[Z]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0})}();var WS=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},QS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},XS=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.ceil(n/e),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},WS([Object(r.w)(),QS("design:type",String)],t.prototype,"id",void 0),WS([Object(r.w)(),QS("design:type",Number)],t.prototype,"maxSize",void 0),WS([Object(r.H)(),QS("design:type",r.q)],t.prototype,"pageChange",void 0),WS([Object(r.H)(),QS("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),(t=WS([QS("design:paramtypes",[GS,r.i])],t)).\u0275fac=function(e){return new(e||t)(r.Ub(GS),r.Ub(r.i))},t.\u0275dir=r.Pb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.Gb]}),t}(),JS=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t}),t.\u0275inj=r.Rb({providers:[GS],imports:[[K]]}),t}();let tO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Sb({type:t,bootstrap:[jS]}),t.\u0275inj=r.Rb({providers:[{provide:KE,useValue:"gs://moda-b906d.appspot.com"}],imports:[[Ct,vS,os.a.initializeApp(NS),ds,JE,Yo,Zo,dI,JS]]}),t})();Ot().bootstrapModule(tO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);